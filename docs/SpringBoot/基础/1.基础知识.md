---
id: 基础知识
title: 基础知识
cssclasses:
  - wide-page
---
## SpringBoot 基本应用

### 基本示例

通过 Maven 初始化一个 SpringBoot 应用,一般有以下的步骤:

- 创建 POM 文件, 引入 SpringBoot 的依赖

```xml
<?xml version="1.0" encoding="UTF-8"?>
<project xmlns="http://maven.apache.org/POM/4.0.0"
         xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
         xsi:schemaLocation="http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd">
    <modelVersion>4.0.0</modelVersion>

    <groupId>org.example</groupId>
    <artifactId>in-boot</artifactId>
    <version>1.0-SNAPSHOT</version>
    <packaging>pom</packaging>

    <!--引入 SpringBoot 父工程-->
    <parent>
        <groupId>org.springframework.boot</groupId>
        <artifactId>spring-boot-starter-parent</artifactId>
       <version>2.7.17</version>
    </parent>

    <properties>
        <maven.compiler.source>8</maven.compiler.source>
        <maven.compiler.target>8</maven.compiler.target>
        <project.build.sourceEncoding>UTF-8</project.build.sourceEncoding>
    </properties>

    <dependencyManagement>
        <dependencies>
            <dependency>
                <groupId>org.springframework.boot</groupId>
                <artifactId>spring-boot-starter</artifactId>
            </dependency>
        </dependencies>
    </dependencyManagement>

    <dependencies>
        <dependency>
            <groupId>org.springframework.boot</groupId>
            <artifactId>spring-boot-starter-web</artifactId>
        </dependency>
    </dependencies>
</project>
```

- 创建主程序

```java
// SpringBoot 引导类
@SpringBootApplication
public class BootStrap {
    public static void main(String[] args) {
        SpringApplication application = new SpringApplication(BootStrap.class);
        application.setWebApplicationType(WebApplicationType.SERVLET);
        application.run(args);
    }
}
```

- 编写业务

```java
// Controller
@RestController
public class BasicController {
    @GetMapping("/get")
    public String hello() {
        return "Hello,World";
    }
}
```

- 简化部署

> SpringBoot 除了通过自动化配置的手段简化了开发步骤,同时还支持通过内嵌 web 容器的方式运行服务,并且通过构建工具(Maven) 插件的方式将应用程序打包为可直接运行的 `fat-jar`

如果需要打包为可执行的 jar 包,需要引入 Maven 插件:

```xml
<build>
    <plugins>
        <plugin>
            <groupId>org.springframework.boot</groupId>
            <artifactId>spring-boot-maven-plugin</artifactId>
        </plugin>
    </plugins>
</build>
```

然后在 Maven 打包完成之后,就可以在 target 目录下找到相应的 jar 包,然后通过 `java -jar` 的方式就可以直接运行了

### 依赖管理

SpringBoot 应用程序中一般都会在 Maven 中引入一个 parent 项目 `spring-boot-starter-parent`,它的 parent 是一个专门定义依赖信息的 `spring-boot-dependencies`

```xml
<properties>  
  <activemq.version>5.16.6</activemq.version>  
  <antlr2.version>2.7.7</antlr2.version>  
  <appengine-sdk.version>1.9.98</appengine-sdk.version>
  <!-- .... -->  
</properties>
<dependencyManagement>  
  <dependencies>  
    <dependency>  
      <groupId>org.apache.activemq</groupId>  
      <artifactId>activemq-amqp</artifactId>  
      <version>${activemq.version}</version>  
    </dependency>  
    <dependency>  
      <groupId>org.apache.activemq</groupId>  
      <artifactId>activemq-blueprint</artifactId>  
      <version>${activemq.version}</version>  
    </dependency>
    <!-- .... -->  
  </dependencies>
</dependencyManagement>     
```

这样我们新建的项目只需要引入了 `spring-boot-starter-parent`, 就可以对一些开发框架的依赖进行统一管理。如果需要调整某个依赖的版本,也只需要在自己项目的 pom 文件中修改对应的 version 即可:

```xml
<!--引入 SpringBoot 父工程-->  
<parent>  
    <groupId>org.springframework.boot</groupId>  
    <artifactId>spring-boot-starter-parent</artifactId>  
   <version>2.7.17</version>  
</parent>  
  
<properties>  
    <maven.compiler.source>8</maven.compiler.source>  
    <maven.compiler.target>8</maven.compiler.target>  
    <project.build.sourceEncoding>UTF-8</project.build.sourceEncoding> 
    <!-- 这里将 snakeyaml 的版本号修改为 1.25 -->
    <snakeyaml.version>1.25</snakeyaml.version>  
</properties>
```

### 自动装配

> SpringBoot 的自动装配可以参看 [这里](../../SpringBoot/基础入门/自动装配)

我们在引入 SpringBoot 的启动器 spring-boot-starter 的时候会引入一个依赖: `spring-boot-autoconfigure`,该依赖是专门用于 SpringBoot 的自动装配的。

在 autoconfigure 依赖中,包含了对各个开发组件的默认装匹配,比如: *amqp、es、gson、jdbc、redis...*, 这些组件通过会判断当前应用中是否包含相关依赖而决定是否进行装配(**条件注解**)。所以在 SpringBoot 的开发中,还会引入 `spring-boot-starter-xxx` 的依赖,这些依赖的作用就是通过 Maven 将这些组件引入到应用环境中。
