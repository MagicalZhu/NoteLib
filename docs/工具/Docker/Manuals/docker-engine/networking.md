---
id: engine-network
title: 网络
---

## 概述

Docker 的网络子系统是可插拔的,使用驱动程序。默认情况下存在几个驱动程序,并提供核心网络功能:

1. `bridge`
    - **默认的网络驱动程序**,如果没有指定一个网络驱动程序,这就是要创建的网络类型。**当应用程序运行在需要通信的独立容器中时,通常使用桥接网络**

2. `host`
    - 对于独立的容器来说,**移除容器和Docker主机之间的网络隔离,并直接使用主机的网络**

3. `overlay`
    - 将多个 Docker守护进程连接在一起,使swarm服务能够相互通信。也可以使用覆盖网络来促进swarm服务和独立容器之间的通信,或者不同Docker守护进程上的两个独立容器之间的通信
    - 这种方式**消除了在多个容器之间进行操作系统级路由的需要**

4. `ipvlan`
    -让用户完全控制IPv4和IPv6寻址, 并且 VLAN 驱动提供了对第二层 VLAN 标签的完全控制,甚至为对底层网络整合感兴趣的用户提供了IPvlan L3路由

5. `macvlan`
    - Macvlan 网络为容器分配一个MAC地址,使它看起来像你网络上的一个物理设备, Docker 守护进程通过容器的 MAC 地址将流量路由到容器。
    - **当处理那些希望直接连接到物理网络,而不是通过 Docker 主机的网络堆栈路由的传统应用程序时,使用 macvlan 驱动有时是最好的选择**。

6. `none`
    - 对于这个容器,禁用所有网络。通常与定制的网络驱动程序一起使用
    - **None 对 swarm 服务不可用**

7. `Network plugins`
    - 可以用 Docker 安装和使用第三方网络插件, 这些插件可以从 Docker Hub中获得

:::tip 总结

- 当需要多个容器在同一个 Docker 主机上通信时,用户定义的**bridge**网络是最好的
- 当网络堆栈不应该与Docker主机隔离,但希望容器的其他方面被隔离时,**host**网络是最好的
- 当需要在不同的Docker主机上运行的容器进行通信,或者当多个应用程序使用 swarm 服务一起工作时,**overlay** 是最好的
- 当从虚拟机设置中迁移时,或者需要让容器看起来像网络上的物理主机,每个都有一个独特的MAC地址时,**macvlan** 网络是最好的
- **Network plugins** 允许 Docker 与专门的网络堆栈集成

:::

## 容器网络

> 容器没有关于它所连接的网络种类的信息，不管它是`bridge、overlay、macvlan`，还是一个`自定义的网络插件`, 容器只看到**一个带有IP地址的网络接口、一个网关、一个路由表、DNS服务和其他网络细节**
