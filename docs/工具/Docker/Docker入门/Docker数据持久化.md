---
id: Docker数据持久化
title: Docker数据持久化
---

> 通过 Docker 可以将运行的运行的环境打包成镜像,并且通过容器的方式运行。但是如果不通过commit的方式生成新的镜像,那么当容器删除后数据就没有了。

我们希望 docker 容器中产生的数据可以持久化,并且容器之间可以共享数据。docker 支持下面下种方式实现数据的持久化

1. 数据卷(volume)
2. 数据卷容器(volumes-from)

## 数据卷

- 数据卷就是目录或文件,数据卷是一个可供一个或多个容器使用。它由 docker 挂载(mount)到容器,但不属于 UnionFs(联合文件系统),因此能够绕过 UnionFS 提供一些用于持续存储或共享数据的特性
  - **类似于 Linux 下对目录或文件进行 mount**  

- 数据卷的设计目的就是**数据的持久化**,完全独立于容器的生存周期, 因此 **docker不会在容器删除时删除其挂载的数据卷**

- 数据卷有以下的特点:
  - 数据卷可以在容器之间共享和重用
  - 对数据卷的修改会立马生效
  - 对数据卷的更新,不会影响镜像
  - 数据卷默认会一直存在,即使容器被删除
  - 一个容器可以挂载多个数据卷

- 有下面两种方式来使用数据卷
  - `直接只用命令`
  - `DockerFile`
