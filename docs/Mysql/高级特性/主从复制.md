---
id: 主从复制
title: 主从复制
---



## 引入

>  在实际的开发中,通常会引入*Redis* 作为缓存中间件与 MySQL 一起使用,当有请求过来的时候,首先会去*Redis*中检查是否有缓存数据
>
> - 如果有的话,直接取出使用
> - 如果没有的话,再去访问数据库
>
> ![image-20220925170133788](./image/主从复制/image-20220925170133788.png)

一般应用对数据库而言都是**读多写少**,也就说对数据库读取数据的压力比较大, 那么有一个思路就是采用数据库集群的方案，做`主从架构`, 进行 `读写分离` , 这样同样可以提升数据库的并发处理能力。但并不是所有的应用都需要对数据库进行主从架构的设置，毕竟设置架构本身是有成本的。

如果我们的目的在于提升数据库高并发访问的效率:

- 那么首先考虑的是如何 `优化SQL和索引`, 这种方式简单有效
- 其次才是采用 `缓存策略`, 比如将热点数据保存在 Redis 中,提升读取的效率,
- 最后才是对数据库采用`主从架构`,进行读写分离

## 主从复制的作用

**主从同步设计不仅可以提高数据库的吞吐量**,还有以下 3 个方面的作用:

1. `读写分离`

   - master 负责写入数据,slave 负责读取数据

   - 当master 更新更新后,会自动的将数据通过binlog 方式复制到slave 中,而读取数据的时候,会从 slave 中进行读取

   - 在读多写少的情况下,采用读写分离的方式可以提高并发访问性能。同时,还可以对服务器进行`负载均衡`,让不同的请求按策略分发到不同的 slave 服务器上

     

   ![image-20220925171005140](./image/主从复制/image-20220925171005140.png)

2. `数据备份`

3. `实现高可用(HA)`

## 主从原理

