<!doctype html>
<html lang="zh-Hans" dir="ltr" class="docs-wrapper docs-doc-page docs-version-current plugin-docs plugin-id-default docs-doc-id-Mysql/基础/MySQL基础查询">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v2.1.0">
<title data-rh="true">MySQL基础查询 | 花裤衩Wiki</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:image" content="https://huakucha.com/img/fav.png"><meta data-rh="true" name="twitter:image" content="https://huakucha.com/img/fav.png"><meta data-rh="true" property="og:url" content="https://huakucha.com/docs/Mysql/基础/MySQL基础查询"><meta data-rh="true" name="docusaurus_locale" content="zh-Hans"><meta data-rh="true" name="docsearch:language" content="zh-Hans"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="MySQL基础查询 | 花裤衩Wiki"><meta data-rh="true" name="description" content="表的关联关系"><meta data-rh="true" property="og:description" content="表的关联关系"><link data-rh="true" rel="icon" href="/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://huakucha.com/docs/Mysql/基础/MySQL基础查询"><link data-rh="true" rel="alternate" href="https://huakucha.com/docs/Mysql/基础/MySQL基础查询" hreflang="zh-Hans"><link data-rh="true" rel="alternate" href="https://huakucha.com/docs/Mysql/基础/MySQL基础查询" hreflang="x-default"><link data-rh="true" rel="preconnect" href="https://QZ9YPBGUYT-dsn.algolia.net" crossorigin="anonymous"><link rel="alternate" type="application/rss+xml" href="/blog/rss.xml" title="花裤衩Wiki RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/blog/atom.xml" title="花裤衩Wiki Atom Feed">
<link rel="alternate" type="application/json" href="/blog/feed.json" title="花裤衩Wiki JSON Feed">




<link rel="search" type="application/opensearchdescription+xml" title="花裤衩Wiki" href="/opensearch.xml">

<link rel="preconnect" href="https://fonts.gstatic.com">
<link rel="stylesheet" href="https://fonts.font.im/css?family=Raleway:500,700&amp;display=swap"><link rel="stylesheet" href="/assets/css/styles.864d50a7.css">
<link rel="preload" href="/assets/js/runtime~main.bf86732a.js" as="script">
<link rel="preload" href="/assets/js/main.98457ee6.js" as="script">
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();null!==e?t(e):window.matchMedia("(prefers-color-scheme: dark)").matches?t("dark"):(window.matchMedia("(prefers-color-scheme: light)").matches,t("light"))}(),document.documentElement.setAttribute("data-announcement-bar-initially-dismissed",function(){try{return"true"===localStorage.getItem("docusaurus.announcement.dismiss")}catch(t){}return!1}())</script><div id="__docusaurus">
<div role="region" aria-label="跳到主要内容"><a href="#" class="skipToContent_D8pK">跳到主要内容</a></div><div class="announcementBar_s0pr" style="background-color:#fafbfc;color:#091E42" role="banner"><div class="announcementBarPlaceholder_qxfj"></div><div class="content_zf74 announcementBarContent_dpRF">🌟欢迎来到花裤衩的博客🌟</div><button type="button" aria-label="关闭" class="clean-btn close closeButton_ZdWa announcementBarClose_iXyO"><svg viewBox="0 0 15 15" width="14" height="14"><g stroke="currentColor" stroke-width="3.1"><path d="M.75.75l13.5 13.5M14.25.75L.75 14.25"></path></g></svg></button></div><nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Navigation bar toggle" class="navbar__toggle clean-btn" type="button" tabindex="0"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><div class="navbar__logo"><img src="/img/logo.svg" alt="花裤衩的博客" class="themedImage_Pn4p themedImage--light_PnYV"><img src="/img/logo.svg" alt="花裤衩的博客" class="themedImage_Pn4p themedImage--dark_eYgw"></div><b class="navbar__title text--truncate">花裤衩</b></a><div class="navbar__item dropdown dropdown--hoverable"><a href="#" aria-haspopup="true" aria-expanded="false" role="button" class="navbar__link">基础知识🤖</a><ul class="dropdown__menu"><li><a class="dropdown__link" href="/docs/currency">并发编程</a></li><li><a class="dropdown__link" href="/docs/networrk-basic">计算机网络</a></li><li><a class="dropdown__link" href="/docs/linuxCommand">Linux</a></li><li><a class="dropdown__link" href="/docs/dataStructure">数据结构与算法</a></li><li><a class="dropdown__link" href="/docs/leetCode">LeetCode</a></li><li><a aria-current="page" class="dropdown__link dropdown__link--active" href="/docs/mysql">MySQL</a></li></ul></div><div class="navbar__item dropdown dropdown--hoverable"><a href="#" aria-haspopup="true" aria-expanded="false" role="button" class="navbar__link">后端框架👨‍💻</a><ul class="dropdown__menu"><li><a class="dropdown__link" href="/docs/spring">Spring</a></li><li><a class="dropdown__link" href="/docs/springCloud">SpringCloud</a></li></ul></div><div class="navbar__item dropdown dropdown--hoverable"><a href="#" aria-haspopup="true" aria-expanded="false" role="button" class="navbar__link">方法论🚧</a><ul class="dropdown__menu"><li><a class="dropdown__link" href="/docs/distribute/protol">分布式理论</a></li><li><a class="dropdown__link" href="/docs/distribute/basicTech">分布式技术点</a></li></ul></div><div class="navbar__item dropdown dropdown--hoverable"><a href="#" aria-haspopup="true" aria-expanded="false" role="button" class="navbar__link">中间件🚀</a><ul class="dropdown__menu"><li><a class="dropdown__link" href="/docs/middleware/basicMiddleware">基础中间件</a></li><li><a class="dropdown__link" href="/docs/middleware/job">定时任务</a></li><li><a class="dropdown__link" href="/docs/middleware/cache">缓存</a></li><li><a class="dropdown__link" href="/docs/middleware/searchEngine">搜索引擎</a></li><li><a class="dropdown__link" href="/docs/middleware/messageQueue">消息队列</a></li><li><a class="dropdown__link" href="/docs/middleware/database">数据库</a></li></ul></div><div class="navbar__item dropdown dropdown--hoverable"><a href="#" aria-haspopup="true" aria-expanded="false" role="button" class="navbar__link">底层⛽️</a><ul class="dropdown__menu"><li><a class="dropdown__link" href="/docs/JVM">JVM</a></li></ul></div><div class="navbar__item dropdown dropdown--hoverable"><a href="#" aria-haspopup="true" aria-expanded="false" role="button" class="navbar__link">前端技术👩‍💻</a><ul class="dropdown__menu"><li><a class="dropdown__link" href="/docs/front/Vue">Vue</a></li></ul></div><div class="navbar__item dropdown dropdown--hoverable"><a href="#" aria-haspopup="true" aria-expanded="false" role="button" class="navbar__link">其他工具👹</a><ul class="dropdown__menu"><li><a class="dropdown__link" href="/docs/Gradle">Gradle</a></li></ul></div><div class="navbar__item dropdown dropdown--hoverable"><a href="#" aria-haspopup="true" aria-expanded="false" role="button" class="navbar__link">物料中心👏</a><ul class="dropdown__menu"><li><a class="dropdown__link" href="/website/BE">后端产品</a></li><li><a class="dropdown__link" href="/website/COM">其他产品</a></li><li><a class="dropdown__link" href="/website/FE">前端产品</a></li></ul></div><a class="navbar__item navbar__link" href="/blog">博客</a></div><div class="navbar__items navbar__items--right"><a href="https://blog.huakucha.top" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">关于<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_2l9O"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><a href="https://github.com/MagicalZhu" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link header-github-link" aria-label="GitHub repository"></a><div class="toggle_MW0i colorModeToggle_x44X"><button class="clean-btn toggleButton_yw5v toggleButtonDisabled_BJd7" type="button" disabled="" title="切换浅色/暗黑模式（当前为浅色模式）" aria-label="切换浅色/暗黑模式（当前为浅色模式）"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_SFTY"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_ekgs"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="searchBox_H2mL"><button type="button" class="DocSearch DocSearch-Button" aria-label="搜索"><span class="DocSearch-Button-Container"><svg width="20" height="20" class="DocSearch-Search-Icon" viewBox="0 0 20 20"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">搜索</span></span><span class="DocSearch-Button-Keys"></span></button></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div class="main-wrapper mainWrapper_eExm docsWrapper_W2AM"><button aria-label="回到顶部" class="clean-btn theme-back-to-top-button backToTopButton_ntye" type="button"></button><div class="docPage_qMb8"><aside class="theme-doc-sidebar-container docSidebarContainer_rpaz"><div class="sidebar_mhZE"><nav class="menu thin-scrollbar menu_Y1UP menuWithAnnouncementBar_fPny"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/mysql">简介</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active" aria-expanded="true" href="/docs/category/mysql基础与高级">MySQL基础与高级</a><button aria-label="打开/收起侧边栏菜单「MySQL基础与高级」" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active" aria-expanded="true" tabindex="0" href="/docs/category/基础知识">基础知识</a><button aria-label="打开/收起侧边栏菜单「基础知识」" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/docs/Mysql/基础/MySQL基础查询">MySQL基础查询</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/Mysql/基础/MySQL函数与聚合">MySQL函数与聚合</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/Mysql/基础/MySQL子查询">MySQL子查询</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/Mysql/基础/MySQL库对象">MySQL库对象</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/docs/category/数据库管理">数据库管理</a><button aria-label="打开/收起侧边栏菜单「数据库管理」" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/docs/category/架构与引擎">架构与引擎</a><button aria-label="打开/收起侧边栏菜单「架构与引擎」" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/docs/category/存储结构与索引">存储结构与索引</a><button aria-label="打开/收起侧边栏菜单「存储结构与索引」" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/docs/category/性能优化">性能优化</a><button aria-label="打开/收起侧边栏菜单「性能优化」" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/docs/category/事务与锁">事务与锁</a><button aria-label="打开/收起侧边栏菜单「事务与锁」" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/docs/category/运维">运维</a><button aria-label="打开/收起侧边栏菜单「运维」" type="button" class="clean-btn menu__caret"></button></div></li></ul></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/Mysql/MySQL参数与命令">MySQL参数与命令</a></li></ul></nav><button type="button" title="收起侧边栏" aria-label="收起侧边栏" class="button button--secondary button--outline collapseSidebarButton_JQG6"><svg width="20" height="20" aria-hidden="true" class="collapseSidebarButtonIcon_Iseg"><g fill="#7a7a7a"><path d="M9.992 10.023c0 .2-.062.399-.172.547l-4.996 7.492a.982.982 0 01-.828.454H1c-.55 0-1-.453-1-1 0-.2.059-.403.168-.551l4.629-6.942L.168 3.078A.939.939 0 010 2.528c0-.548.45-.997 1-.997h2.996c.352 0 .649.18.828.45L9.82 9.472c.11.148.172.347.172.55zm0 0"></path><path d="M19.98 10.023c0 .2-.058.399-.168.547l-4.996 7.492a.987.987 0 01-.828.454h-3c-.547 0-.996-.453-.996-1 0-.2.059-.403.168-.551l4.625-6.942-4.625-6.945a.939.939 0 01-.168-.55 1 1 0 01.996-.997h3c.348 0 .649.18.828.45l4.996 7.492c.11.148.168.347.168.55zm0 0"></path></g></svg></button></div></aside><main class="docMainContainer_RiV8"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_z5aJ"><div class="docItemContainer_c0TR"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Alpn" aria-label="页面路径"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="主页面" class="breadcrumbs__link" href="/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_SLhD"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item"><a class="breadcrumbs__link" itemprop="item" href="/docs/category/mysql基础与高级"><span itemprop="name">MySQL基础与高级</span></a><meta itemprop="position" content="1"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item"><a class="breadcrumbs__link" itemprop="item" href="/docs/category/基础知识"><span itemprop="name">基础知识</span></a><meta itemprop="position" content="2"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">MySQL基础查询</span><meta itemprop="position" content="3"></li></ul></nav><div class="tocCollapsible_IbkY theme-doc-toc-mobile tocMobile_bxCs"><button type="button" class="clean-btn tocCollapsibleButton_p7nN">本页总览</button></div><div class="theme-doc-markdown markdown"><header><h1>MySQL基础查询</h1></header><h2 class="anchor anchorWithStickyNavbar_loeA" id="表的关联关系">表的关联关系<a class="hash-link" href="#表的关联关系" title="标题的直接链接">​</a></h2><ul><li><p>表与表之间的数据记录有关系(relationship)。现实世界中的各种实体以及实体之间的各种联系均用关系模型来表示。</p></li><li><p>表的关联关系有四种:</p><ul><li><code>一对一关联</code></li><li><code>一对多关联</code></li><li><code>多对多关联</code></li><li><code>自我引用</code></li></ul></li></ul><h3 class="anchor anchorWithStickyNavbar_loeA" id="一对一">一对一<a class="hash-link" href="#一对一" title="标题的直接链接">​</a></h3><ul><li>在实际的开发中应用不多，<strong>因为一对一可以创建成一张表</strong></li><li>两种建表原则:<ul><li><code>外键唯一</code>: 主表的主键和从表的外键(唯一)，形成主外键关系，外键唯一</li><li><code>外键是主键</code>: 主表的主键和从表的主键(主键必定是唯一)，形成主外键关系</li></ul></li></ul><h3 class="anchor anchorWithStickyNavbar_loeA" id="一对多">一对多<a class="hash-link" href="#一对多" title="标题的直接链接">​</a></h3><ul><li>常见实例场景: 客户表和订单表,分类表和商品表 ,部门表和员工表 </li><li>一对多建表原则:  <font color="red">在从表(多方)创建一个字段，字段作为外键指向主表(一方)的主键</font></li></ul><h3 class="anchor anchorWithStickyNavbar_loeA" id="多对多">多对多<a class="hash-link" href="#多对多" title="标题的直接链接">​</a></h3><ul><li>要表示多对多关系，必须创建第三个表，该表通常称为 <code>联接表</code></li><li>将多对多关系划分为两个一对多关系,将这两个表的主键都插入到第三个表中</li></ul><p><strong>比如下面的用户权限表</strong></p><p><img loading="lazy" alt="image-20220320165410988" src="/assets/images/image-20220320165410988-f4831508db8e8b0c4ded1f60cceea35a.png" width="821" height="386" class="img_CujE"></p><h3 class="anchor anchorWithStickyNavbar_loeA" id="自我引用">自我引用<a class="hash-link" href="#自我引用" title="标题的直接链接">​</a></h3><p><img loading="lazy" alt="image-20220320165200324" src="/assets/images/image-20220320165200324-8281965-fff10f0f0a6f7562473ad2b58d8f354f.png" width="627" height="555" class="img_CujE"></p><h2 class="anchor anchorWithStickyNavbar_loeA" id="mysql简单使用">MySQL简单使用<a class="hash-link" href="#mysql简单使用" title="标题的直接链接">​</a></h2><p><a href="https://github.com/MariaDB/server" target="_blank" rel="noopener noreferrer">MariaDB源码位置</a></p><div class="theme-admonition theme-admonition-tip alert alert--success admonition_WoCw"><div class="admonitionHeading_TMsN"><span class="admonitionIcon_Ibzs"><svg viewBox="0 0 12 16"><path fill-rule="evenodd" d="M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"></path></svg></span>MySQL的系统默认数据库</div><div class="admonitionContent_vXIg"><p>MySQL 安装完后有以下的几个默认的数据库:<code>information_schema</code>、<code>performance_schema</code>、<code>sys</code>、<code>mysql</code></p><ul><li><p><strong>information_schema</strong></p><ul><li>主要保存 MySQL 数据库服务器的系统信息， 比如数据库的名称、数据表的名称、字段名称、存取权限、数据文件 所在的文件夹和系统使用的 文件夹…</li></ul></li><li><p><strong>performance_schema</strong></p><ul><li>可以用来监控 MySQL 的各类性能指标</li></ul></li><li><p><strong>sys</strong></p><ul><li>主要作用是以一种更容易被理解的方式展示 MySQL 数据库服务器的各类性能指标，帮助系统管理员和开发人员监控 MySQL 的技术性能</li></ul></li><li><p><strong>mysql</strong></p><ul><li>保存了 MySQL 数据库服务器运行时需要的系统信息，比如数据文件夹、当前使用的 字符集、约束检查信息…</li></ul></li></ul></div></div><h3 class="anchor anchorWithStickyNavbar_loeA" id="基础命令">基础命令<a class="hash-link" href="#基础命令" title="标题的直接链接">​</a></h3><ol><li>查看所有的数据库: <code>show databases;</code></li><li>创建自己的数据库: <code>create database 数据库名;</code></li><li>使用指定的数据库:  <code>use 数据库名;</code></li><li>查看数据库中所有的table:  <code>show tables from 数据库名;</code></li><li>创建新的table:  <code>create table 表名称(...)</code></li><li>查看表的创建信息:  <code>show create table 表名称\G</code></li><li>查看数据库的创建信息:  <code>show create database 数据库名\G</code></li><li>删除表\数据库:  <code>drop table|database 表名|数据库名</code></li></ol><div class="language-sql codeBlockContainer_APcc theme-code-block" style="--prism-color:#403f53;--prism-background-color:#FBFBFB"><div class="codeBlockContent_m3Ux"><pre tabindex="0" class="prism-code language-sql codeBlock_qGQc thin-scrollbar"><code class="codeBlockLines_p187"><span class="token-line" style="color:#403f53"><span class="token plain">mysql</span><span class="token operator" style="color:rgb(12, 150, 155)">&gt;</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(12, 150, 155)">show</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(12, 150, 155)">tables</span><span class="token punctuation" style="color:rgb(153, 76, 195)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#403f53"><span class="token plain"></span><span class="token operator" style="color:rgb(12, 150, 155)">+</span><span class="token comment" style="color:rgb(152, 159, 177);font-style:normal">---------------------+</span><span class="token plain"></span><br></span><span class="token-line" style="color:#403f53"><span class="token plain"></span><span class="token operator" style="color:rgb(12, 150, 155)">|</span><span class="token plain"> Tables_in_atguigudb </span><span class="token operator" style="color:rgb(12, 150, 155)">|</span><span class="token plain"></span><br></span><span class="token-line" style="color:#403f53"><span class="token plain"></span><span class="token operator" style="color:rgb(12, 150, 155)">+</span><span class="token comment" style="color:rgb(152, 159, 177);font-style:normal">---------------------+</span><span class="token plain"></span><br></span><span class="token-line" style="color:#403f53"><span class="token plain"></span><span class="token operator" style="color:rgb(12, 150, 155)">|</span><span class="token plain"> countries           </span><span class="token operator" style="color:rgb(12, 150, 155)">|</span><span class="token plain"></span><br></span><span class="token-line" style="color:#403f53"><span class="token plain"></span><span class="token operator" style="color:rgb(12, 150, 155)">|</span><span class="token plain"> departments         </span><span class="token operator" style="color:rgb(12, 150, 155)">|</span><span class="token plain"></span><br></span><span class="token-line" style="color:#403f53"><span class="token plain"></span><span class="token operator" style="color:rgb(12, 150, 155)">|</span><span class="token plain"> emp_details_view    </span><span class="token operator" style="color:rgb(12, 150, 155)">|</span><span class="token plain"></span><br></span><span class="token-line" style="color:#403f53"><span class="token plain"></span><span class="token operator" style="color:rgb(12, 150, 155)">|</span><span class="token plain"> employees           </span><span class="token operator" style="color:rgb(12, 150, 155)">|</span><span class="token plain"></span><br></span><span class="token-line" style="color:#403f53"><span class="token plain"></span><span class="token operator" style="color:rgb(12, 150, 155)">|</span><span class="token plain"> job_grades          </span><span class="token operator" style="color:rgb(12, 150, 155)">|</span><span class="token plain"></span><br></span><span class="token-line" style="color:#403f53"><span class="token plain"></span><span class="token operator" style="color:rgb(12, 150, 155)">|</span><span class="token plain"> job_history         </span><span class="token operator" style="color:rgb(12, 150, 155)">|</span><span class="token plain"></span><br></span><span class="token-line" style="color:#403f53"><span class="token plain"></span><span class="token operator" style="color:rgb(12, 150, 155)">|</span><span class="token plain"> jobs                </span><span class="token operator" style="color:rgb(12, 150, 155)">|</span><span class="token plain"></span><br></span><span class="token-line" style="color:#403f53"><span class="token plain"></span><span class="token operator" style="color:rgb(12, 150, 155)">|</span><span class="token plain"> locations           </span><span class="token operator" style="color:rgb(12, 150, 155)">|</span><span class="token plain"></span><br></span><span class="token-line" style="color:#403f53"><span class="token plain"></span><span class="token operator" style="color:rgb(12, 150, 155)">|</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(12, 150, 155)">order</span><span class="token plain">               </span><span class="token operator" style="color:rgb(12, 150, 155)">|</span><span class="token plain"></span><br></span><span class="token-line" style="color:#403f53"><span class="token plain"></span><span class="token operator" style="color:rgb(12, 150, 155)">|</span><span class="token plain"> regions             </span><span class="token operator" style="color:rgb(12, 150, 155)">|</span><span class="token plain"></span><br></span><span class="token-line" style="color:#403f53"><span class="token plain"></span><span class="token operator" style="color:rgb(12, 150, 155)">+</span><span class="token comment" style="color:rgb(152, 159, 177);font-style:normal">---------------------+</span><span class="token plain"></span><br></span><span class="token-line" style="color:#403f53"><span class="token plain"></span><span class="token number" style="color:rgb(170, 9, 130)">10</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(12, 150, 155)">rows</span><span class="token plain"> </span><span class="token operator" style="color:rgb(12, 150, 155)">in</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(12, 150, 155)">set</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(153, 76, 195)">(</span><span class="token number" style="color:rgb(170, 9, 130)">0.00</span><span class="token plain"> sec</span><span class="token punctuation" style="color:rgb(153, 76, 195)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#403f53"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#403f53"><span class="token plain">mysql</span><span class="token operator" style="color:rgb(12, 150, 155)">&gt;</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(12, 150, 155)">show</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(12, 150, 155)">create</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(12, 150, 155)">table</span><span class="token plain"> countries\G</span><br></span><span class="token-line" style="color:#403f53"><span class="token plain"></span><span class="token operator" style="color:rgb(12, 150, 155)">*</span><span class="token operator" style="color:rgb(12, 150, 155)">*</span><span class="token operator" style="color:rgb(12, 150, 155)">*</span><span class="token operator" style="color:rgb(12, 150, 155)">*</span><span class="token operator" style="color:rgb(12, 150, 155)">*</span><span class="token operator" style="color:rgb(12, 150, 155)">*</span><span class="token operator" style="color:rgb(12, 150, 155)">*</span><span class="token operator" style="color:rgb(12, 150, 155)">*</span><span class="token operator" style="color:rgb(12, 150, 155)">*</span><span class="token operator" style="color:rgb(12, 150, 155)">*</span><span class="token operator" style="color:rgb(12, 150, 155)">*</span><span class="token operator" style="color:rgb(12, 150, 155)">*</span><span class="token operator" style="color:rgb(12, 150, 155)">*</span><span class="token operator" style="color:rgb(12, 150, 155)">*</span><span class="token operator" style="color:rgb(12, 150, 155)">*</span><span class="token operator" style="color:rgb(12, 150, 155)">*</span><span class="token operator" style="color:rgb(12, 150, 155)">*</span><span class="token operator" style="color:rgb(12, 150, 155)">*</span><span class="token operator" style="color:rgb(12, 150, 155)">*</span><span class="token operator" style="color:rgb(12, 150, 155)">*</span><span class="token operator" style="color:rgb(12, 150, 155)">*</span><span class="token operator" style="color:rgb(12, 150, 155)">*</span><span class="token operator" style="color:rgb(12, 150, 155)">*</span><span class="token operator" style="color:rgb(12, 150, 155)">*</span><span class="token operator" style="color:rgb(12, 150, 155)">*</span><span class="token operator" style="color:rgb(12, 150, 155)">*</span><span class="token operator" style="color:rgb(12, 150, 155)">*</span><span class="token plain"> </span><span class="token number" style="color:rgb(170, 9, 130)">1.</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(12, 150, 155)">row</span><span class="token plain"> </span><span class="token operator" style="color:rgb(12, 150, 155)">*</span><span class="token operator" style="color:rgb(12, 150, 155)">*</span><span class="token operator" style="color:rgb(12, 150, 155)">*</span><span class="token operator" style="color:rgb(12, 150, 155)">*</span><span class="token operator" style="color:rgb(12, 150, 155)">*</span><span class="token operator" style="color:rgb(12, 150, 155)">*</span><span class="token operator" style="color:rgb(12, 150, 155)">*</span><span class="token operator" style="color:rgb(12, 150, 155)">*</span><span class="token operator" style="color:rgb(12, 150, 155)">*</span><span class="token operator" style="color:rgb(12, 150, 155)">*</span><span class="token operator" style="color:rgb(12, 150, 155)">*</span><span class="token operator" style="color:rgb(12, 150, 155)">*</span><span class="token operator" style="color:rgb(12, 150, 155)">*</span><span class="token operator" style="color:rgb(12, 150, 155)">*</span><span class="token operator" style="color:rgb(12, 150, 155)">*</span><span class="token operator" style="color:rgb(12, 150, 155)">*</span><span class="token operator" style="color:rgb(12, 150, 155)">*</span><span class="token operator" style="color:rgb(12, 150, 155)">*</span><span class="token operator" style="color:rgb(12, 150, 155)">*</span><span class="token operator" style="color:rgb(12, 150, 155)">*</span><span class="token operator" style="color:rgb(12, 150, 155)">*</span><span class="token operator" style="color:rgb(12, 150, 155)">*</span><span class="token operator" style="color:rgb(12, 150, 155)">*</span><span class="token operator" style="color:rgb(12, 150, 155)">*</span><span class="token operator" style="color:rgb(12, 150, 155)">*</span><span class="token operator" style="color:rgb(12, 150, 155)">*</span><span class="token operator" style="color:rgb(12, 150, 155)">*</span><span class="token plain"></span><br></span><span class="token-line" style="color:#403f53"><span class="token plain">       </span><span class="token keyword" style="color:rgb(12, 150, 155)">Table</span><span class="token plain">: countries</span><br></span><span class="token-line" style="color:#403f53"><span class="token plain"></span><span class="token keyword" style="color:rgb(12, 150, 155)">Create</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(12, 150, 155)">Table</span><span class="token plain">: </span><span class="token keyword" style="color:rgb(12, 150, 155)">CREATE</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(12, 150, 155)">TABLE</span><span class="token plain"> </span><span class="token identifier punctuation" style="color:rgb(153, 76, 195)">`</span><span class="token identifier">countries</span><span class="token identifier punctuation" style="color:rgb(153, 76, 195)">`</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(153, 76, 195)">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:#403f53"><span class="token plain">  </span><span class="token identifier punctuation" style="color:rgb(153, 76, 195)">`</span><span class="token identifier">country_id</span><span class="token identifier punctuation" style="color:rgb(153, 76, 195)">`</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(12, 150, 155)">char</span><span class="token punctuation" style="color:rgb(153, 76, 195)">(</span><span class="token number" style="color:rgb(170, 9, 130)">2</span><span class="token punctuation" style="color:rgb(153, 76, 195)">)</span><span class="token plain"> </span><span class="token operator" style="color:rgb(12, 150, 155)">NOT</span><span class="token plain"> </span><span class="token boolean" style="color:rgb(188, 84, 84)">NULL</span><span class="token punctuation" style="color:rgb(153, 76, 195)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#403f53"><span class="token plain">  </span><span class="token identifier punctuation" style="color:rgb(153, 76, 195)">`</span><span class="token identifier">country_name</span><span class="token identifier punctuation" style="color:rgb(153, 76, 195)">`</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(12, 150, 155)">varchar</span><span class="token punctuation" style="color:rgb(153, 76, 195)">(</span><span class="token number" style="color:rgb(170, 9, 130)">40</span><span class="token punctuation" style="color:rgb(153, 76, 195)">)</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(12, 150, 155)">DEFAULT</span><span class="token plain"> </span><span class="token boolean" style="color:rgb(188, 84, 84)">NULL</span><span class="token punctuation" style="color:rgb(153, 76, 195)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#403f53"><span class="token plain">  </span><span class="token identifier punctuation" style="color:rgb(153, 76, 195)">`</span><span class="token identifier">region_id</span><span class="token identifier punctuation" style="color:rgb(153, 76, 195)">`</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(12, 150, 155)">int</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(12, 150, 155)">DEFAULT</span><span class="token plain"> </span><span class="token boolean" style="color:rgb(188, 84, 84)">NULL</span><span class="token punctuation" style="color:rgb(153, 76, 195)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#403f53"><span class="token plain">  </span><span class="token keyword" style="color:rgb(12, 150, 155)">PRIMARY</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(12, 150, 155)">KEY</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(153, 76, 195)">(</span><span class="token identifier punctuation" style="color:rgb(153, 76, 195)">`</span><span class="token identifier">country_id</span><span class="token identifier punctuation" style="color:rgb(153, 76, 195)">`</span><span class="token punctuation" style="color:rgb(153, 76, 195)">)</span><span class="token punctuation" style="color:rgb(153, 76, 195)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#403f53"><span class="token plain">  </span><span class="token keyword" style="color:rgb(12, 150, 155)">KEY</span><span class="token plain"> </span><span class="token identifier punctuation" style="color:rgb(153, 76, 195)">`</span><span class="token identifier">countr_reg_fk</span><span class="token identifier punctuation" style="color:rgb(153, 76, 195)">`</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(153, 76, 195)">(</span><span class="token identifier punctuation" style="color:rgb(153, 76, 195)">`</span><span class="token identifier">region_id</span><span class="token identifier punctuation" style="color:rgb(153, 76, 195)">`</span><span class="token punctuation" style="color:rgb(153, 76, 195)">)</span><span class="token punctuation" style="color:rgb(153, 76, 195)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#403f53"><span class="token plain">  </span><span class="token keyword" style="color:rgb(12, 150, 155)">CONSTRAINT</span><span class="token plain"> </span><span class="token identifier punctuation" style="color:rgb(153, 76, 195)">`</span><span class="token identifier">countr_reg_fk</span><span class="token identifier punctuation" style="color:rgb(153, 76, 195)">`</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(12, 150, 155)">FOREIGN</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(12, 150, 155)">KEY</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(153, 76, 195)">(</span><span class="token identifier punctuation" style="color:rgb(153, 76, 195)">`</span><span class="token identifier">region_id</span><span class="token identifier punctuation" style="color:rgb(153, 76, 195)">`</span><span class="token punctuation" style="color:rgb(153, 76, 195)">)</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(12, 150, 155)">REFERENCES</span><span class="token plain"> </span><span class="token identifier punctuation" style="color:rgb(153, 76, 195)">`</span><span class="token identifier">regions</span><span class="token identifier punctuation" style="color:rgb(153, 76, 195)">`</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(153, 76, 195)">(</span><span class="token identifier punctuation" style="color:rgb(153, 76, 195)">`</span><span class="token identifier">region_id</span><span class="token identifier punctuation" style="color:rgb(153, 76, 195)">`</span><span class="token punctuation" style="color:rgb(153, 76, 195)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#403f53"><span class="token plain"></span><span class="token punctuation" style="color:rgb(153, 76, 195)">)</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(12, 150, 155)">ENGINE</span><span class="token operator" style="color:rgb(12, 150, 155)">=</span><span class="token keyword" style="color:rgb(12, 150, 155)">InnoDB</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(12, 150, 155)">DEFAULT</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(12, 150, 155)">CHARSET</span><span class="token operator" style="color:rgb(12, 150, 155)">=</span><span class="token plain">utf8mb3</span><br></span><span class="token-line" style="color:#403f53"><span class="token plain"></span><span class="token number" style="color:rgb(170, 9, 130)">1</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(12, 150, 155)">row</span><span class="token plain"> </span><span class="token operator" style="color:rgb(12, 150, 155)">in</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(12, 150, 155)">set</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(153, 76, 195)">(</span><span class="token number" style="color:rgb(170, 9, 130)">0.00</span><span class="token plain"> sec</span><span class="token punctuation" style="color:rgb(153, 76, 195)">)</span><br></span></code></pre><div class="buttonGroup_6DOT"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_FhaS" aria-hidden="true"><svg class="copyButtonIcon_phi_" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_FfTR" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithStickyNavbar_loeA" id="字符集问题的处理">字符集问题的处理<a class="hash-link" href="#字符集问题的处理" title="标题的直接链接">​</a></h3><blockquote><p>在MySQL5.7 的版本中存在着中文乱码的问题,默认的字符集是latin1。从MySQL 8.0 开始，数据库的默认编码改为 utf8mb4,避免了上述的乱码问题。</p></blockquote><p>步骤1. 查看字符编码</p><div class="language-shell codeBlockContainer_APcc theme-code-block" style="--prism-color:#403f53;--prism-background-color:#FBFBFB"><div class="codeBlockContent_m3Ux"><pre tabindex="0" class="prism-code language-shell codeBlock_qGQc thin-scrollbar"><code class="codeBlockLines_p187"><span class="token-line" style="color:#403f53"><span class="token plain">show variables like </span><span class="token string" style="color:rgb(72, 118, 214)">&#x27;character_%&#x27;</span><span class="token punctuation" style="color:rgb(153, 76, 195)">;</span><span class="token plain"> </span><br></span><span class="token-line" style="color:#403f53"><span class="token plain">show variables like </span><span class="token string" style="color:rgb(72, 118, 214)">&#x27;collation_%&#x27;</span><span class="token punctuation" style="color:rgb(153, 76, 195)">;</span><br></span></code></pre><div class="buttonGroup_6DOT"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_FhaS" aria-hidden="true"><svg class="copyButtonIcon_phi_" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_FfTR" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>步骤2. 修改mysql的数据目录下的my.ini配置文件</p><div class="language-ini codeBlockContainer_APcc theme-code-block" style="--prism-color:#403f53;--prism-background-color:#FBFBFB"><div class="codeBlockContent_m3Ux"><pre tabindex="0" class="prism-code language-ini codeBlock_qGQc thin-scrollbar"><code class="codeBlockLines_p187"><span class="token-line" style="color:#403f53"><span class="token plain">  </span><span class="token section punctuation" style="color:rgb(153, 76, 195)">[</span><span class="token section section-name selector" style="color:rgb(153, 76, 195);font-style:normal">mysql</span><span class="token section punctuation" style="color:rgb(153, 76, 195)">]</span><span class="token plain"> #大概在63行左右，在其下添加</span><br></span><span class="token-line" style="color:#403f53"><span class="token plain">  ...</span><br></span><span class="token-line" style="color:#403f53"><span class="token plain">  </span><span class="token key attr-name" style="color:rgb(72, 118, 214);font-style:normal">default-character-set</span><span class="token punctuation" style="color:rgb(153, 76, 195)">=</span><span class="token value attr-value">utf8 #默认字符集</span><span class="token plain"></span><br></span><span class="token-line" style="color:#403f53"><span class="token plain">  </span><span class="token section punctuation" style="color:rgb(153, 76, 195)">[</span><span class="token section section-name selector" style="color:rgb(153, 76, 195);font-style:normal">mysqld</span><span class="token section punctuation" style="color:rgb(153, 76, 195)">]</span><span class="token plain"> # 大概在76行左右，在其下添加 ...</span><br></span><span class="token-line" style="color:#403f53"><span class="token plain">  </span><span class="token key attr-name" style="color:rgb(72, 118, 214);font-style:normal">character-set-server</span><span class="token punctuation" style="color:rgb(153, 76, 195)">=</span><span class="token value attr-value">utf8</span><span class="token plain"> </span><br></span><span class="token-line" style="color:#403f53"><span class="token plain">  </span><span class="token key attr-name" style="color:rgb(72, 118, 214);font-style:normal">collation-server</span><span class="token punctuation" style="color:rgb(153, 76, 195)">=</span><span class="token value attr-value">utf8_general_ci</span><br></span></code></pre><div class="buttonGroup_6DOT"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_FhaS" aria-hidden="true"><svg class="copyButtonIcon_phi_" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_FfTR" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>步骤3. 重启MySQL服务</p><h3 class="anchor anchorWithStickyNavbar_loeA" id="mysql目录结构win版本">MySQL目录结构(Win版本)<a class="hash-link" href="#mysql目录结构win版本" title="标题的直接链接">​</a></h3><table><thead><tr><th>MySQL目录</th><th>说明</th></tr></thead><tbody><tr><td><code>bin</code></td><td>所有MySQL的可执行文件。如:mysql.exe</td></tr><tr><td><code>MySQLInstanceConfig.exe</code></td><td>数据库的配置向导，在安装时出现的内容</td></tr><tr><td><code>data</code></td><td>系统数据库所在的目录</td></tr><tr><td><code>my.ini</code></td><td>MySQL的主要配置文件</td></tr><tr><td>c:\ProgramData\MySQL\MySQL Server 8.0\data\ </td><td>用户创建的数据库所在的目录</td></tr></tbody></table><h2 class="anchor anchorWithStickyNavbar_loeA" id="sql概述">SQL概述<a class="hash-link" href="#sql概述" title="标题的直接链接">​</a></h2><h3 class="anchor anchorWithStickyNavbar_loeA" id="sql分类">SQL分类<a class="hash-link" href="#sql分类" title="标题的直接链接">​</a></h3><p>SQL语言在功能上主要分为如下3大类:</p><ul><li><p><code>DDL(Data Definition Languages: 数据定义语言)</code></p><ul><li>定义了不同的数据库、表、视图、索 引等数据库对象，还可以用来创建、删除、修改数据库和数据表的结构</li><li>主要的语句关键字包括 <code>CREATE </code>、 <code>DROP</code> 、 <code>ALTER</code> …</li></ul></li><li><p><code>DML(Data Manipulation Language: 数据操作语言)</code></p><ul><li>用于添加、删除、更新和查询数据库记 录，并检查数据完整性。</li><li>主要的语句关键字包括 <code>INSERT</code> 、 <code>DELETE</code> 、 <code>UPDATE</code> 、 <code>SELECT</code> …</li><li><strong>SELECT是SQL语言的基础，最为重要</strong></li></ul></li><li><p><code>DCL(Data Control Language: 数据控制语言)</code></p><ul><li>用于定义数据库、表、字段、用户的访问权限和 安全级别</li><li>主要的语句关键字包括 <code>GRANT</code> 、 <code>REVOKE</code> 、 <code>COMMIT</code> 、 <code>ROLLBACK</code> 、 <code>SAVEPOINT</code> …</li></ul></li></ul><div class="theme-admonition theme-admonition-tip alert alert--success admonition_WoCw"><div class="admonitionHeading_TMsN"><span class="admonitionIcon_Ibzs"><svg viewBox="0 0 12 16"><path fill-rule="evenodd" d="M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"></path></svg></span>SQL分类冷知识</div><div class="admonitionContent_vXIg"><p>因为查询语句使用的非常的频繁，所以很多人把查询语句单拎出来一类:DQL(数据查询语言)。</p><p>还有单独将 COMMIT 、 ROLLBACK 取出来称为TCL (Transaction Control Language:事务控制语 言)。</p></div></div><h3 class="anchor anchorWithStickyNavbar_loeA" id="sql规则">SQL规则<a class="hash-link" href="#sql规则" title="标题的直接链接">​</a></h3><ol><li><p>SQL大小写规范</p><ul><li><p>MySQL 在 Windows 环境下是大小写不敏感的 -&gt; MySQL数据不区分大小写</p></li><li><p>MySQL 在 Linux 环境下是大小写敏感的</p><ul><li>数据库名、表名、表的别名、变量名是严格区分大小写的</li><li>关键字、函数名、列名(或字段名)、列的别名(字段的别名) 是忽略大小写的</li></ul></li><li><p><strong>推荐采用统一的书写规范</strong></p><ul><li>数据库名、表名、表别名、字段名、字段别名等都小写</li><li>SQL 关键字、函数名、绑定变量等都大写</li></ul></li></ul></li><li><p>命名规则</p><ul><li>数据库、表名不得超过30个字符，变量名限制为29个</li><li>必须只能包含 A–Z, a–z, 0–9, _共63个字符</li><li>数据库名、表名、字段名等对象名中间不要包含空格</li><li>必须保证你的字段没有和保留字、数据库系统或常用方法冲突。如果坚持使用，请在SQL语句中使 用`(着重号)引起来</li></ul></li><li><p>数据导入指令</p><ul><li><code>source d:\mysqldb.sql</code></li></ul></li></ol><p><strong>MySQL的数据window下不区分大小写</strong></p><p><img loading="lazy" alt="image-20220321123619608" src="/assets/images/image-20220321123619608-37e695f5ff4be3c1c1b8c0e279ba23a1.png" width="667" height="245" class="img_CujE"></p><h2 class="anchor anchorWithStickyNavbar_loeA" id="基本select语句">基本Select语句<a class="hash-link" href="#基本select语句" title="标题的直接链接">​</a></h2><ul><li><p>查询所有、指定列的数据</p><ul><li><code>Select *|查询的列 from 数据表名</code></li></ul></li><li><p>去除重复行</p><ul><li><p><code>Select distinct 列名 from 数据表名</code></p></li><li><mark>注意</mark><ul><li>distinct 需要放到所有列名的前面,如果写成 <em>SELECT salary, distinct id  from emp</em>会报错</li><li><font color="red">distinct  其实是对后面所有列名的组合进行去重</font></li></ul></li></ul></li><li><p>着重号</p><ul><li>我们需要保证表中的字段、表名等没有和保留字、数据库系统或常用方法冲突。如果真的相同，请在 SQL语句中使用一对``(着重号)引起来</li></ul><div class="language-sql codeBlockContainer_APcc theme-code-block" style="--prism-color:#403f53;--prism-background-color:#FBFBFB"><div class="codeBlockContent_m3Ux"><pre tabindex="0" class="prism-code language-sql codeBlock_qGQc thin-scrollbar"><code class="codeBlockLines_p187"><span class="token-line" style="color:#403f53"><span class="token comment" style="color:rgb(152, 159, 177);font-style:normal">-- 错误的，因为ORDER 是数据库的保留字</span><span class="token plain"></span><br></span><span class="token-line" style="color:#403f53"><span class="token plain"></span><span class="token keyword" style="color:rgb(12, 150, 155)">SELECT</span><span class="token plain"> </span><span class="token operator" style="color:rgb(12, 150, 155)">*</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(12, 150, 155)">FROM</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(12, 150, 155)">ORDER</span><span class="token punctuation" style="color:rgb(153, 76, 195)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#403f53"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#403f53"><span class="token plain"></span><span class="token comment" style="color:rgb(152, 159, 177);font-style:normal">-- 正确的, 通过 使用一对着重符 ``避免报错</span><span class="token plain"></span><br></span><span class="token-line" style="color:#403f53"><span class="token plain"></span><span class="token keyword" style="color:rgb(12, 150, 155)">SELECT</span><span class="token plain"> </span><span class="token operator" style="color:rgb(12, 150, 155)">*</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(12, 150, 155)">FROM</span><span class="token plain"> </span><span class="token identifier punctuation" style="color:rgb(153, 76, 195)">`</span><span class="token identifier">ORDER</span><span class="token identifier punctuation" style="color:rgb(153, 76, 195)">`</span><span class="token punctuation" style="color:rgb(153, 76, 195)">;</span><br></span></code></pre><div class="buttonGroup_6DOT"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_FhaS" aria-hidden="true"><svg class="copyButtonIcon_phi_" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_FfTR" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></li><li><p>显示表结构</p><ul><li><code>descripe|desc 数据表名</code></li><li>返回数据结构<ul><li><code>Field</code><ul><li>表示字段名称。</li></ul></li><li><code>Type</code><ul><li>表示字段类型，这里 barcode、goodsname 是文本型的，price 是整数类型的。</li></ul></li><li><code>Null</code><ul><li>表示该列是否可以存储NULL值。</li></ul></li><li><code>Key</code><ul><li>表示该列是否已编制索引</li><li><strong>PRI</strong> 表示该列是表主键的一部分</li><li><strong>UNI</strong> 表示该列是UNIQUE索引的一 部分</li><li><strong>MUL</strong> 表示在列中某个给定值允许出现多次</li></ul></li><li><code>Default</code><ul><li>表示该列是否有默认值，如果有，那么值是多少。</li></ul></li><li><code>Extra</code><ul><li>表示可以获取的与给定列有关的附加信息，例如AUTO_INCREMENT等</li></ul></li></ul></li></ul></li><li><p>空值参与运算</p><ul><li><font color="red">所有运算符或列值遇到null值，运算的结果都为null</font></li></ul></li></ul><h2 class="anchor anchorWithStickyNavbar_loeA" id="运算符">运算符<a class="hash-link" href="#运算符" title="标题的直接链接">​</a></h2><h3 class="anchor anchorWithStickyNavbar_loeA" id="算术运算符">算术运算符<a class="hash-link" href="#算术运算符" title="标题的直接链接">​</a></h3><blockquote><p>算术运算符主要用于数学运算，其可以连接运算符前后的两个数值或表达式，对数值或表达式进行运算</p></blockquote><table><thead><tr><th>运算符</th><th>名称</th><th>示例</th></tr></thead><tbody><tr><td><code>+</code></td><td>加法运算符</td><td>Select   A+B</td></tr><tr><td><code>-</code></td><td>减法运算符</td><td>Select    A-B</td></tr><tr><td><code>*</code></td><td>乘法运算符</td><td>Select    A*B</td></tr><tr><td><code>/</code></td><td>除法运算符</td><td>Select   A/B</td></tr><tr><td><code>%</code></td><td>求模(求余)运算符</td><td>Select   A%B</td></tr></tbody></table><div class="theme-admonition theme-admonition-danger alert alert--danger admonition_WoCw"><div class="admonitionHeading_TMsN"><span class="admonitionIcon_Ibzs"><svg viewBox="0 0 12 16"><path fill-rule="evenodd" d="M5.05.31c.81 2.17.41 3.38-.52 4.31C3.55 5.67 1.98 6.45.9 7.98c-1.45 2.05-1.7 6.53 3.53 7.7-2.2-1.16-2.67-4.52-.3-6.61-.61 2.03.53 3.33 1.94 2.86 1.39-.47 2.3.53 2.27 1.67-.02.78-.31 1.44-1.13 1.81 3.42-.59 4.78-3.42 4.78-5.56 0-2.84-2.53-3.22-1.25-5.61-1.52.13-2.03 1.13-1.89 2.75.09 1.08-1.02 1.8-1.86 1.33-.67-.41-.66-1.19-.06-1.78C8.18 5.31 8.68 2.45 5.05.32L5.03.3l.02.01z"></path></svg></span>运算符的注意点</div><div class="admonitionContent_vXIg"><ol><li><p>一个整数类型的值对整数进行加法和减法操作，结果还是一个整数;</p></li><li><p>一个整数类型的值对浮点数进行加法和减法操作，结果是一个浮点数;</p></li><li><p>加法和减法的优先级相同，进行先加后减操作与进行先减后加操作的结果是一样的;</p></li><li><p>在MySQL中+只表示数 值相加。如果遇到非数值类型，先尝试转成数值，如果转失败，就按0计算。</p><ul><li><font color="red">MySQL 中字符串拼接要使用字符串函数CONCAT()实现</font></li></ul><div class="language-sql codeBlockContainer_APcc theme-code-block" style="--prism-color:#403f53;--prism-background-color:#FBFBFB"><div class="codeBlockContent_m3Ux"><pre tabindex="0" class="prism-code language-sql codeBlock_qGQc thin-scrollbar"><code class="codeBlockLines_p187"><span class="token-line" style="color:#403f53"><span class="token comment" style="color:rgb(152, 159, 177);font-style:normal">-- 非数值用+相加，转换失败</span><span class="token plain"></span><br></span><span class="token-line" style="color:#403f53"><span class="token plain"></span><span class="token keyword" style="color:rgb(12, 150, 155)">Select</span><span class="token plain"> </span><span class="token string" style="color:rgb(72, 118, 214)">&#x27;A&#x27;</span><span class="token plain"> </span><span class="token operator" style="color:rgb(12, 150, 155)">+</span><span class="token plain"> </span><span class="token string" style="color:rgb(72, 118, 214)">&#x27;B&#x27;</span><span class="token plain">；   </span><span class="token comment" style="color:rgb(152, 159, 177);font-style:normal">-- 返回0</span><span class="token plain"></span><br></span><span class="token-line" style="color:#403f53"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#403f53"><span class="token plain"></span><span class="token comment" style="color:rgb(152, 159, 177);font-style:normal">-- 数值用+相加，转换成功</span><span class="token plain"></span><br></span><span class="token-line" style="color:#403f53"><span class="token plain"></span><span class="token keyword" style="color:rgb(12, 150, 155)">Select</span><span class="token plain"> </span><span class="token string" style="color:rgb(72, 118, 214)">&#x27;1&#x27;</span><span class="token plain"> </span><span class="token operator" style="color:rgb(12, 150, 155)">+</span><span class="token plain"> </span><span class="token string" style="color:rgb(72, 118, 214)">&#x27;2&#x27;</span><span class="token plain">；   </span><span class="token comment" style="color:rgb(152, 159, 177);font-style:normal">-- 返回3</span><br></span></code></pre><div class="buttonGroup_6DOT"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_FhaS" aria-hidden="true"><svg class="copyButtonIcon_phi_" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_FfTR" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></li></ol></div></div><h3 class="anchor anchorWithStickyNavbar_loeA" id="比较运算符">比较运算符<a class="hash-link" href="#比较运算符" title="标题的直接链接">​</a></h3><blockquote><p>比较运算符用来对表达式左边的操作数和右边的操作数进行比较。</p><p><strong>比较的结果为真则返回1，比较的结果 为假则返回0，其他情况则返回NULL</strong></p></blockquote><table><thead><tr><th>运算符</th><th>名称</th><th>示例</th></tr></thead><tbody><tr><td><code>=</code></td><td>等于运算符</td><td>Select  C from  table where  A=B</td></tr><tr><td><code>  !=</code></td><td>不等于运算符</td><td>Select  C from  table where  A!=B<br></td></tr><tr><td><code>&lt;</code></td><td>小于运算符</td><td>Select  C from  table where  A&lt;B</td></tr><tr><td><code>&lt;=</code></td><td>小于等于运算符</td><td>Select  C from  table where  A&lt;=B</td></tr><tr><td><code>&gt;</code></td><td>大于运算符</td><td>Select  C from  table where  A&gt;B</td></tr><tr><td><code>&gt;=</code></td><td>大于等于运算符</td><td>Select  C from  table where  A&gt;=B</td></tr></tbody></table><h4 class="anchor anchorWithStickyNavbar_loeA" id="等号运算符">等号运算符<a class="hash-link" href="#等号运算符" title="标题的直接链接">​</a></h4><ul><li>等号运算符(=)判断等号两边的值、字符串或表达式是否相等，如果相等则返回1，不相等则返回0</li><li>在使用等号运算符时，遵循如下规则:<ul><li>如果等号两边的值、字符串或表达式都为字符串，则MySQL会按照字符串进行比较，其比较的是每个字符串中字符的ANSI编码是否相等</li><li>如果等号两边的值都是整数，则MySQL会按照整数来比较两个值的大小</li><li>如果等号两边的值一个是整数，另一个是字符串，则MySQL会将字符串转化为数字进行比较</li><li>如果等号两边的值、字符串或表达式中有一个为NULL，则比较结果为NULL</li></ul></li></ul><div class="language-sql codeBlockContainer_APcc theme-code-block" style="--prism-color:#403f53;--prism-background-color:#FBFBFB"><div class="codeBlockContent_m3Ux"><pre tabindex="0" class="prism-code language-sql codeBlock_qGQc thin-scrollbar"><code class="codeBlockLines_p187"><span class="token-line" style="color:#403f53"><span class="token plain">mysql</span><span class="token operator" style="color:rgb(12, 150, 155)">&gt;</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(12, 150, 155)">Select</span><span class="token plain"> </span><span class="token string" style="color:rgb(72, 118, 214)">&#x27;1&#x27;</span><span class="token operator" style="color:rgb(12, 150, 155)">=</span><span class="token number" style="color:rgb(170, 9, 130)">1</span><span class="token punctuation" style="color:rgb(153, 76, 195)">,</span><span class="token string" style="color:rgb(72, 118, 214)">&#x27;1a&#x27;</span><span class="token operator" style="color:rgb(12, 150, 155)">=</span><span class="token number" style="color:rgb(170, 9, 130)">1</span><span class="token punctuation" style="color:rgb(153, 76, 195)">,</span><span class="token string" style="color:rgb(72, 118, 214)">&#x27;a&#x27;</span><span class="token operator" style="color:rgb(12, 150, 155)">=</span><span class="token number" style="color:rgb(170, 9, 130)">1</span><span class="token punctuation" style="color:rgb(153, 76, 195)">,</span><span class="token number" style="color:rgb(170, 9, 130)">1</span><span class="token operator" style="color:rgb(12, 150, 155)">=</span><span class="token boolean" style="color:rgb(188, 84, 84)">NULL</span><span class="token punctuation" style="color:rgb(153, 76, 195)">,</span><span class="token string" style="color:rgb(72, 118, 214)">&#x27;NULL&#x27;</span><span class="token operator" style="color:rgb(12, 150, 155)">=</span><span class="token boolean" style="color:rgb(188, 84, 84)">NULL</span><span class="token punctuation" style="color:rgb(153, 76, 195)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#403f53"><span class="token plain"></span><span class="token operator" style="color:rgb(12, 150, 155)">+</span><span class="token comment" style="color:rgb(152, 159, 177);font-style:normal">-------+--------+-------+--------+-------------+</span><span class="token plain"></span><br></span><span class="token-line" style="color:#403f53"><span class="token plain"></span><span class="token operator" style="color:rgb(12, 150, 155)">|</span><span class="token plain"> </span><span class="token string" style="color:rgb(72, 118, 214)">&#x27;1&#x27;</span><span class="token operator" style="color:rgb(12, 150, 155)">=</span><span class="token number" style="color:rgb(170, 9, 130)">1</span><span class="token plain"> </span><span class="token operator" style="color:rgb(12, 150, 155)">|</span><span class="token plain"> </span><span class="token string" style="color:rgb(72, 118, 214)">&#x27;1a&#x27;</span><span class="token operator" style="color:rgb(12, 150, 155)">=</span><span class="token number" style="color:rgb(170, 9, 130)">1</span><span class="token plain"> </span><span class="token operator" style="color:rgb(12, 150, 155)">|</span><span class="token plain"> </span><span class="token string" style="color:rgb(72, 118, 214)">&#x27;a&#x27;</span><span class="token operator" style="color:rgb(12, 150, 155)">=</span><span class="token number" style="color:rgb(170, 9, 130)">1</span><span class="token plain"> </span><span class="token operator" style="color:rgb(12, 150, 155)">|</span><span class="token plain"> </span><span class="token number" style="color:rgb(170, 9, 130)">1</span><span class="token operator" style="color:rgb(12, 150, 155)">=</span><span class="token boolean" style="color:rgb(188, 84, 84)">NULL</span><span class="token plain"> </span><span class="token operator" style="color:rgb(12, 150, 155)">|</span><span class="token plain"> </span><span class="token string" style="color:rgb(72, 118, 214)">&#x27;NULL&#x27;</span><span class="token operator" style="color:rgb(12, 150, 155)">=</span><span class="token boolean" style="color:rgb(188, 84, 84)">NULL</span><span class="token plain"> </span><span class="token operator" style="color:rgb(12, 150, 155)">|</span><span class="token plain"></span><br></span><span class="token-line" style="color:#403f53"><span class="token plain"></span><span class="token operator" style="color:rgb(12, 150, 155)">+</span><span class="token comment" style="color:rgb(152, 159, 177);font-style:normal">-------+--------+-------+--------+-------------+</span><span class="token plain"></span><br></span><span class="token-line" style="color:#403f53"><span class="token plain"></span><span class="token operator" style="color:rgb(12, 150, 155)">|</span><span class="token plain">     </span><span class="token number" style="color:rgb(170, 9, 130)">1</span><span class="token plain"> </span><span class="token operator" style="color:rgb(12, 150, 155)">|</span><span class="token plain">      </span><span class="token number" style="color:rgb(170, 9, 130)">1</span><span class="token plain"> </span><span class="token operator" style="color:rgb(12, 150, 155)">|</span><span class="token plain">     </span><span class="token number" style="color:rgb(170, 9, 130)">0</span><span class="token plain"> </span><span class="token operator" style="color:rgb(12, 150, 155)">|</span><span class="token plain"> </span><span class="token boolean" style="color:rgb(188, 84, 84)">NULL</span><span class="token plain">   </span><span class="token operator" style="color:rgb(12, 150, 155)">|</span><span class="token plain"> </span><span class="token boolean" style="color:rgb(188, 84, 84)">NULL</span><span class="token plain">        </span><span class="token operator" style="color:rgb(12, 150, 155)">|</span><span class="token plain"></span><br></span><span class="token-line" style="color:#403f53"><span class="token plain"></span><span class="token operator" style="color:rgb(12, 150, 155)">+</span><span class="token comment" style="color:rgb(152, 159, 177);font-style:normal">-------+--------+-------+--------+-------------+</span><span class="token plain"></span><br></span><span class="token-line" style="color:#403f53"><span class="token plain"></span><span class="token number" style="color:rgb(170, 9, 130)">1</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(12, 150, 155)">row</span><span class="token plain"> </span><span class="token operator" style="color:rgb(12, 150, 155)">in</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(12, 150, 155)">set</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(153, 76, 195)">(</span><span class="token number" style="color:rgb(170, 9, 130)">0.01</span><span class="token plain"> sec</span><span class="token punctuation" style="color:rgb(153, 76, 195)">)</span><br></span></code></pre><div class="buttonGroup_6DOT"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_FhaS" aria-hidden="true"><svg class="copyButtonIcon_phi_" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_FfTR" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h4 class="anchor anchorWithStickyNavbar_loeA" id="非符号运算符">非符号运算符<a class="hash-link" href="#非符号运算符" title="标题的直接链接">​</a></h4><table><thead><tr><th>运算符</th><th>名称</th><th>作用</th><th>示例</th></tr></thead><tbody><tr><td><code>is null</code></td><td>为空运算符</td><td>判断值、字符串或表达式是否为空</td><td>Select B from table where A is null</td></tr><tr><td><code>is not null</code></td><td>不为空运算符</td><td>判断值、字符串或表达式是否不为空</td><td>Select B from table where A is not null</td></tr><tr><td><code>least</code></td><td>最小值运算符</td><td>在多个值中返回最小值</td><td>Select B from table where A least(C,D)</td></tr><tr><td><code>greatest</code></td><td>最大值运算符</td><td>在多个值中返回最大值</td><td>Select B from table where A greatest(C,D)</td></tr><tr><td><code>between ...and...</code></td><td>两值之间运算符</td><td>判断一个值是否在两个值之间</td><td>Select B from table where A between  C and D</td></tr><tr><td><code>in</code></td><td>属于运算符</td><td>判断一个值是否在列表中</td><td>…</td></tr><tr><td><code>not in</code></td><td>不属于运算符</td><td>判断一个值是否不在列表中</td><td>…</td></tr><tr><td><code>like</code></td><td>模糊匹配运算符</td><td>判断一个值是否符合模糊匹配规则<br><strong>%</strong>: 匹配0个或多个字符<br><strong>_</strong>: 只能匹配一个字符</td><td>Select B from table where A like C</td></tr><tr><td><code>regexp</code></td><td>正则表达式运算符</td><td>判断一个值是否符合正则表达式的规则</td><td>Select B from table where A regexp C</td></tr><tr><td><code>rlike</code></td><td>正则表达式运算符</td><td>判断一个值是否符合正则表达式的规则</td><td>Select B from table where A rlike C</td></tr></tbody></table><h4 class="anchor anchorWithStickyNavbar_loeA" id="逻辑运算符">逻辑运算符<a class="hash-link" href="#逻辑运算符" title="标题的直接链接">​</a></h4><table><thead><tr><th>运算符</th><th>作用</th><th>示例</th></tr></thead><tbody><tr><td><code>NOT、!</code></td><td>非</td><td>Select not A</td></tr><tr><td><code>AND、&amp;&amp;</code></td><td>与</td><td>Select A and B</td></tr><tr><td><code>OR</code></td><td>或</td><td>Select A  OR B</td></tr><tr><td><code>XOR</code></td><td>异或</td><td>Select A XOR B</td></tr></tbody></table><h2 class="anchor anchorWithStickyNavbar_loeA" id="排序">排序<a class="hash-link" href="#排序" title="标题的直接链接">​</a></h2><ul><li><p>使用 ORDER BY 子句排序</p><ul><li><code>DESC</code> ： 降序</li><li><code>ASC</code>： 升序</li></ul></li><li><p>ORDER BY 子句在 SELECT 语句的结尾</p></li><li><mark>注意</mark><ul><li>可以使用不在 SELECT 列表中的列排序</li><li>如果对多列进行排序，但是有多条数据的第一列是相同的,那么就会按第二列的排序规则再次排序，也叫做多次排序。<font color="red">但是如第一列数据中所有值都是唯一的、不同的，那么将不再对第二列进行排序</font></li></ul></li></ul><div class="language-sql codeBlockContainer_APcc theme-code-block" style="--prism-color:#403f53;--prism-background-color:#FBFBFB"><div class="codeBlockContent_m3Ux"><pre tabindex="0" class="prism-code language-sql codeBlock_qGQc thin-scrollbar"><code class="codeBlockLines_p187"><span class="token-line" style="color:#403f53"><span class="token keyword" style="color:rgb(12, 150, 155)">SELECT</span><span class="token plain"> last_name</span><span class="token punctuation" style="color:rgb(153, 76, 195)">,</span><span class="token plain"> department_id</span><span class="token punctuation" style="color:rgb(153, 76, 195)">,</span><span class="token plain"> salary </span><br></span><span class="token-line" style="color:#403f53"><span class="token plain"></span><span class="token keyword" style="color:rgb(12, 150, 155)">FROM</span><span class="token plain"> employees</span><br></span><span class="token-line" style="color:#403f53"><span class="token plain"></span><span class="token keyword" style="color:rgb(12, 150, 155)">ORDER</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(12, 150, 155)">BY</span><span class="token plain"> department_id</span><span class="token punctuation" style="color:rgb(153, 76, 195)">,</span><span class="token plain"> salary </span><span class="token keyword" style="color:rgb(12, 150, 155)">DESC</span><span class="token punctuation" style="color:rgb(153, 76, 195)">;</span><br></span></code></pre><div class="buttonGroup_6DOT"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_FhaS" aria-hidden="true"><svg class="copyButtonIcon_phi_" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_FfTR" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h2 class="anchor anchorWithStickyNavbar_loeA" id="分页">分页<a class="hash-link" href="#分页" title="标题的直接链接">​</a></h2><blockquote><p>背景1:查询返回的记录太多了，查看起来很不方便，怎么样能够实现分页查询呢? </p><p>背景2:表里有 4 条数据，我们只想要显示第 2、3 条数据怎么办呢</p></blockquote><ul><li><p>所谓分页显示，就是将数据库中的结果集，一段一段显示出来需要的条件，MySQL中使用 <code>LIMIT</code> 实现分页</p></li><li><font color="red">Limit 子句必须放在整个Select 语句的最后!</font></li><li><p><strong>格式</strong>：<code>LIMIT [位置偏移量,] 行数</code></p><ul><li><font color="red">位置偏移量</font>- 指示MySQL从哪一行开始显示，是一个可选参数 - 如果不指定“位置偏移量”,将会从表中的第一条记录开始(第一条记录的位置偏移量是0,第二条记录的位置偏移量是 1，以此类推)</li><li><font color="red">行数</font><ul><li>指示返回的记录条数</li></ul></li></ul></li><li><p><strong>分页公式</strong>:  <code>Limit (当前页数-1)*每页条数，每页条数</code></p></li></ul><div class="language-sql codeBlockContainer_APcc theme-code-block" style="--prism-color:#403f53;--prism-background-color:#FBFBFB"><div class="codeBlockContent_m3Ux"><pre tabindex="0" class="prism-code language-sql codeBlock_qGQc thin-scrollbar"><code class="codeBlockLines_p187"><span class="token-line" style="color:#403f53"><span class="token comment" style="color:rgb(152, 159, 177);font-style:normal">-- 查询前10条</span><span class="token plain"></span><br></span><span class="token-line" style="color:#403f53"><span class="token plain"></span><span class="token keyword" style="color:rgb(12, 150, 155)">Select</span><span class="token plain"> </span><span class="token operator" style="color:rgb(12, 150, 155)">*</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(12, 150, 155)">FROM</span><span class="token plain"> employees </span><span class="token keyword" style="color:rgb(12, 150, 155)">LIMIT</span><span class="token plain"> </span><span class="token number" style="color:rgb(170, 9, 130)">0</span><span class="token punctuation" style="color:rgb(153, 76, 195)">,</span><span class="token number" style="color:rgb(170, 9, 130)">10</span><span class="token plain"></span><br></span><span class="token-line" style="color:#403f53"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#403f53"><span class="token plain"></span><span class="token comment" style="color:rgb(152, 159, 177);font-style:normal">-- 查询 11~15行</span><span class="token plain"></span><br></span><span class="token-line" style="color:#403f53"><span class="token plain"></span><span class="token keyword" style="color:rgb(12, 150, 155)">Select</span><span class="token plain"> </span><span class="token operator" style="color:rgb(12, 150, 155)">*</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(12, 150, 155)">FROM</span><span class="token plain"> employees </span><span class="token keyword" style="color:rgb(12, 150, 155)">LIMIT</span><span class="token plain"> </span><span class="token number" style="color:rgb(170, 9, 130)">11</span><span class="token punctuation" style="color:rgb(153, 76, 195)">,</span><span class="token number" style="color:rgb(170, 9, 130)">5</span><br></span></code></pre><div class="buttonGroup_6DOT"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_FhaS" aria-hidden="true"><svg class="copyButtonIcon_phi_" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_FfTR" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><div class="theme-admonition theme-admonition-tip alert alert--success admonition_WoCw"><div class="admonitionHeading_TMsN"><span class="admonitionIcon_Ibzs"><svg viewBox="0 0 12 16"><path fill-rule="evenodd" d="M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"></path></svg></span>MySQL8.0 分页的新语法</div><div class="admonitionContent_vXIg"><p>MySQL 8.0中可以使用“LIMIT 3 OFFSET 4”，意思是获取从第5条记录开始后面的3条记录，和“LIMIT 4,3”返回的结果相同。</p></div></div><h2 class="anchor anchorWithStickyNavbar_loeA" id="多表查询">多表查询<a class="hash-link" href="#多表查询" title="标题的直接链接">​</a></h2><ul><li>多表查询，也称为关联查询，指两个或更多个表一起完成查询操作</li><li><code>前提条件</code>: 这些一起查询的表之间是有关系的(一对一、一对多)，它们之间一定是有关联字段，这个 关联字段可能建立了外键，也可能没有建立外键。比如:员工表和部门表，这两个表依靠“部门编号”进行关联</li><li><strong>为什么需要多表查询？</strong><ul><li>复杂的查询可能需要执行多次SQL语句才能实现,一次SQL请求需要一次网络请求,会导致效率很低</li></ul></li></ul><div class="theme-admonition theme-admonition-caution alert alert--warning admonition_WoCw"><div class="admonitionHeading_TMsN"><span class="admonitionIcon_Ibzs"><svg viewBox="0 0 16 16"><path fill-rule="evenodd" d="M8.893 1.5c-.183-.31-.52-.5-.887-.5s-.703.19-.886.5L.138 13.499a.98.98 0 0 0 0 1.001c.193.31.53.501.886.501h13.964c.367 0 .704-.19.877-.5a1.03 1.03 0 0 0 .01-1.002L8.893 1.5zm.133 11.497H6.987v-2.003h2.039v2.003zm0-3.004H6.987V5.987h2.039v4.006z"></path></svg></span>为什么将数据都存入一个单表呢，查询简单</div><div class="admonitionContent_vXIg"><ol><li>会出现冗余,比如员工部门,可能多个员工都隶属于部门,如果将部门的所有信息都放在员工表中,那么员工表中就会出现大量的冗余字段</li><li>查询效率低。查询数据时需要将数据从硬盘通过IO加载到内存,假设单表10个字段一次能加载1万条数据到内存,但是100个字段可能每次只能加载1千条，需要进行10次IO才能将数据加载到内存中,但是涉及到IO的速度都很慢</li></ol></div></div><h3 class="anchor anchorWithStickyNavbar_loeA" id="笛卡尔积">笛卡尔积<a class="hash-link" href="#笛卡尔积" title="标题的直接链接">​</a></h3><blockquote><p><code>笛卡尔乘积</code>是一个数学运算。假设我有两个集合 {X} 和{Y}，那么 {X} 和 {Y} 的笛卡尔积就是 {X} 和 {Y}的所有可能的组合，也就是第一个对象来自于 {X}，第二个对象来自于 {Y} 的所有可能。组合的个数即为两个集合中 元素个数 的乘积数。</p></blockquote><p>在SQL92中，笛卡尔积也称为 <code>交叉连接</code> ，英文是 <code>CROSS JOIN</code> 。在 SQL99 中也是使用 CROSS JOIN表示交 叉连接。它的作用就是可以把任意表进行连接，即使这两张表不相关。</p><p><img loading="lazy" alt="image-20220321124139412" src="/assets/images/image-20220321124139412-a4ac43abb0c74c71f0dea570ccb01a83.png" width="427" height="363" class="img_CujE"></p><h4 class="anchor anchorWithStickyNavbar_loeA" id="笛卡尔积的问题">笛卡尔积的问题<a class="hash-link" href="#笛卡尔积的问题" title="标题的直接链接">​</a></h4><ul><li>导致笛卡尔积错误的一些原因<ul><li>省略多个表的连接条件(或关联条件)</li><li>连接条件(或关联条件)无效</li><li>所有表中的所有行互相连接</li></ul></li><li>为了避免笛卡尔积， 可以在 <font color="red">Where  加入有效的连接条件</font></li></ul><div class="language-sql codeBlockContainer_APcc theme-code-block" style="--prism-color:#403f53;--prism-background-color:#FBFBFB"><div class="codeBlockContent_m3Ux"><pre tabindex="0" class="prism-code language-sql codeBlock_qGQc thin-scrollbar"><code class="codeBlockLines_p187"><span class="token-line" style="color:#403f53"><span class="token comment" style="color:rgb(152, 159, 177);font-style:normal">-- 案例:查询员工的姓名及其部门名称</span><span class="token plain"></span><br></span><span class="token-line" style="color:#403f53"><span class="token plain"></span><span class="token keyword" style="color:rgb(12, 150, 155)">SELECT</span><span class="token plain"> emp</span><span class="token punctuation" style="color:rgb(153, 76, 195)">.</span><span class="token plain">last_name</span><span class="token punctuation" style="color:rgb(153, 76, 195)">,</span><span class="token plain"> dep</span><span class="token punctuation" style="color:rgb(153, 76, 195)">.</span><span class="token plain">department_name</span><br></span><span class="token-line" style="color:#403f53"><span class="token plain"></span><span class="token keyword" style="color:rgb(12, 150, 155)">FROM</span><span class="token plain"> employees emp</span><span class="token punctuation" style="color:rgb(153, 76, 195)">,</span><span class="token plain"> departments dep</span><br></span><span class="token-line" style="color:#403f53"><span class="token plain"></span><span class="token keyword" style="color:rgb(12, 150, 155)">WHERE</span><span class="token plain"> emp</span><span class="token punctuation" style="color:rgb(153, 76, 195)">.</span><span class="token plain">department_id </span><span class="token operator" style="color:rgb(12, 150, 155)">=</span><span class="token plain"> dep</span><span class="token punctuation" style="color:rgb(153, 76, 195)">.</span><span class="token plain">department_id</span><span class="token punctuation" style="color:rgb(153, 76, 195)">;</span><br></span></code></pre><div class="buttonGroup_6DOT"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_FhaS" aria-hidden="true"><svg class="copyButtonIcon_phi_" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_FfTR" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithStickyNavbar_loeA" id="多表连接查询分类">多表连接查询分类<a class="hash-link" href="#多表连接查询分类" title="标题的直接链接">​</a></h3><p>连接join 就是从两个关系的笛卡儿积中选取属性间满足一定条件的数据集合，连接里面有两个最常见的连接：<code>等值连接、外连接</code></p><h4 class="anchor anchorWithStickyNavbar_loeA" id="等值连接">等值连接<a class="hash-link" href="#等值连接" title="标题的直接链接">​</a></h4><ul><li><mark>通过在连接两张表的指定两个元素相等的条件过滤笛卡尔积的数据</mark></li><li><p>案例:  employees 表的department_id 与 departments 中的department_id 属于主外键的关系</p></li><li><mark>拓展</mark><ul><li><p><code>区分重复的列名</code> </p><ul><li>多个表中有相同列名时，必须在列名之前加上表名前缀</li></ul><div class="language-sql codeBlockContainer_APcc theme-code-block" style="--prism-color:#403f53;--prism-background-color:#FBFBFB"><div class="codeBlockContent_m3Ux"><pre tabindex="0" class="prism-code language-sql codeBlock_qGQc thin-scrollbar"><code class="codeBlockLines_p187"><span class="token-line" style="color:#403f53"><span class="token keyword" style="color:rgb(12, 150, 155)">SELECT</span><span class="token plain"> </span><br></span><span class="token-line" style="color:#403f53"><span class="token plain">    employees</span><span class="token punctuation" style="color:rgb(153, 76, 195)">.</span><span class="token plain">last_name</span><span class="token punctuation" style="color:rgb(153, 76, 195)">,</span><span class="token plain"> departments</span><span class="token punctuation" style="color:rgb(153, 76, 195)">.</span><span class="token plain">department_name</span><span class="token punctuation" style="color:rgb(153, 76, 195)">,</span><span class="token plain">employees</span><span class="token punctuation" style="color:rgb(153, 76, 195)">.</span><span class="token plain">department_id </span><br></span><span class="token-line" style="color:#403f53"><span class="token plain"></span><span class="token keyword" style="color:rgb(12, 150, 155)">FROM</span><span class="token plain"> employees</span><span class="token punctuation" style="color:rgb(153, 76, 195)">,</span><span class="token plain"> departments</span><br></span><span class="token-line" style="color:#403f53"><span class="token plain"></span><span class="token keyword" style="color:rgb(12, 150, 155)">WHERE</span><span class="token plain"> employees</span><span class="token punctuation" style="color:rgb(153, 76, 195)">.</span><span class="token plain">department_id </span><span class="token operator" style="color:rgb(12, 150, 155)">=</span><span class="token plain"> departments</span><span class="token punctuation" style="color:rgb(153, 76, 195)">.</span><span class="token plain">department_id</span><span class="token punctuation" style="color:rgb(153, 76, 195)">;</span><br></span></code></pre><div class="buttonGroup_6DOT"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_FhaS" aria-hidden="true"><svg class="copyButtonIcon_phi_" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_FfTR" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></li></ul><ul><li><p><code>表的别名</code></p><ul><li>使用别名可以简化查询。</li><li>列名前使用表名前缀可以提高查询效率</li><li><font color="red">如果使用了表的别名，在查询字段中、过滤条件中就只能使用别名进行代替， 不能使用原有的表名，否则就会报错。</font></li></ul><div class="language-sql codeBlockContainer_APcc theme-code-block" style="--prism-color:#403f53;--prism-background-color:#FBFBFB"><div class="codeBlockContent_m3Ux"><pre tabindex="0" class="prism-code language-sql codeBlock_qGQc thin-scrollbar"><code class="codeBlockLines_p187"><span class="token-line" style="color:#403f53"><span class="token keyword" style="color:rgb(12, 150, 155)">SELECT</span><span class="token plain"> </span><br></span><span class="token-line" style="color:#403f53"><span class="token plain">    e</span><span class="token punctuation" style="color:rgb(153, 76, 195)">.</span><span class="token plain">employee_id</span><span class="token punctuation" style="color:rgb(153, 76, 195)">,</span><span class="token plain"> e</span><span class="token punctuation" style="color:rgb(153, 76, 195)">.</span><span class="token plain">last_name</span><span class="token punctuation" style="color:rgb(153, 76, 195)">,</span><span class="token plain"> e</span><span class="token punctuation" style="color:rgb(153, 76, 195)">.</span><span class="token plain">department_id</span><span class="token punctuation" style="color:rgb(153, 76, 195)">,</span><span class="token plain"> d</span><span class="token punctuation" style="color:rgb(153, 76, 195)">.</span><span class="token plain">department_id</span><span class="token punctuation" style="color:rgb(153, 76, 195)">,</span><span class="token plain"> d</span><span class="token punctuation" style="color:rgb(153, 76, 195)">.</span><span class="token plain">location_id</span><br></span><span class="token-line" style="color:#403f53"><span class="token plain"></span><span class="token keyword" style="color:rgb(12, 150, 155)">FROM</span><span class="token plain"> employees e </span><span class="token punctuation" style="color:rgb(153, 76, 195)">,</span><span class="token plain"> departments d</span><br></span><span class="token-line" style="color:#403f53"><span class="token plain"></span><span class="token keyword" style="color:rgb(12, 150, 155)">WHERE</span><span class="token plain"> e</span><span class="token punctuation" style="color:rgb(153, 76, 195)">.</span><span class="token plain">department_id </span><span class="token operator" style="color:rgb(12, 150, 155)">=</span><span class="token plain"> d</span><span class="token punctuation" style="color:rgb(153, 76, 195)">.</span><span class="token plain">department_id</span><span class="token punctuation" style="color:rgb(153, 76, 195)">;</span><br></span></code></pre><div class="buttonGroup_6DOT"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_FhaS" aria-hidden="true"><svg class="copyButtonIcon_phi_" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_FfTR" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></li></ul><ul><li><p><code>连接多个表</code></p><ul><li><font color="red">连接 n个表,至少需要n-1个连接条件</font>。比如连接三个表，至少需要两个连接条件。</li></ul></li></ul></li></ul><h4 class="anchor anchorWithStickyNavbar_loeA" id="非等值连接">非等值连接<a class="hash-link" href="#非等值连接" title="标题的直接链接">​</a></h4><ul><li>相对于等值连接来说，<mark>非等值连接在连接两张表的时候指定某个元素满足的范围的条件来过滤笛卡尔积的数据</mark></li></ul><p><strong>案例</strong>：employees 的salary 在job_grades的lowest_sal 和 highest_sal 之间，并且对应一个grade_level</p><div class="language-sql codeBlockContainer_APcc theme-code-block" style="--prism-color:#403f53;--prism-background-color:#FBFBFB"><div class="codeBlockContent_m3Ux"><pre tabindex="0" class="prism-code language-sql codeBlock_qGQc thin-scrollbar"><code class="codeBlockLines_p187"><span class="token-line" style="color:#403f53"><span class="token keyword" style="color:rgb(12, 150, 155)">SELECT</span><span class="token plain"> e</span><span class="token punctuation" style="color:rgb(153, 76, 195)">.</span><span class="token plain">last_name</span><span class="token punctuation" style="color:rgb(153, 76, 195)">,</span><span class="token plain"> e</span><span class="token punctuation" style="color:rgb(153, 76, 195)">.</span><span class="token plain">salary</span><span class="token punctuation" style="color:rgb(153, 76, 195)">,</span><span class="token plain"> j</span><span class="token punctuation" style="color:rgb(153, 76, 195)">.</span><span class="token plain">grade_level</span><br></span><span class="token-line" style="color:#403f53"><span class="token plain"></span><span class="token keyword" style="color:rgb(12, 150, 155)">FROM</span><span class="token plain"> employees e</span><span class="token punctuation" style="color:rgb(153, 76, 195)">,</span><span class="token plain"> job_grades j</span><br></span><span class="token-line" style="color:#403f53"><span class="token plain"></span><span class="token keyword" style="color:rgb(12, 150, 155)">WHERE</span><span class="token plain"> e</span><span class="token punctuation" style="color:rgb(153, 76, 195)">.</span><span class="token plain">salary </span><span class="token operator" style="color:rgb(12, 150, 155)">BETWEEN</span><span class="token plain"> j</span><span class="token punctuation" style="color:rgb(153, 76, 195)">.</span><span class="token plain">lowest_sal </span><span class="token operator" style="color:rgb(12, 150, 155)">AND</span><span class="token plain"> j</span><span class="token punctuation" style="color:rgb(153, 76, 195)">.</span><span class="token plain">highest_sal</span><span class="token punctuation" style="color:rgb(153, 76, 195)">;</span><br></span></code></pre><div class="buttonGroup_6DOT"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_FhaS" aria-hidden="true"><svg class="copyButtonIcon_phi_" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_FfTR" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h4 class="anchor anchorWithStickyNavbar_loeA" id="自连接">自连接<a class="hash-link" href="#自连接" title="标题的直接链接">​</a></h4><ul><li><mark>表A和表B是同一张表,但是通过取别名的方式将表A和表B做笛卡尔积</mark></li></ul><p><strong>案例</strong>：employees中的employee_id  对应的manager_id 就是employee_id</p><div class="language-sql codeBlockContainer_APcc theme-code-block" style="--prism-color:#403f53;--prism-background-color:#FBFBFB"><div class="codeBlockContent_m3Ux"><pre tabindex="0" class="prism-code language-sql codeBlock_qGQc thin-scrollbar"><code class="codeBlockLines_p187"><span class="token-line" style="color:#403f53"><span class="token comment" style="color:rgb(152, 159, 177);font-style:normal">-- a 和b 实际上都是  employees表，只不过是取了不同的别名</span><span class="token plain"></span><br></span><span class="token-line" style="color:#403f53"><span class="token plain"></span><span class="token keyword" style="color:rgb(12, 150, 155)">Select</span><span class="token plain"> CONCAT</span><span class="token punctuation" style="color:rgb(153, 76, 195)">(</span><span class="token plain">a</span><span class="token punctuation" style="color:rgb(153, 76, 195)">.</span><span class="token plain">first_name</span><span class="token punctuation" style="color:rgb(153, 76, 195)">,</span><span class="token string" style="color:rgb(72, 118, 214)">&#x27;-&#x27;</span><span class="token punctuation" style="color:rgb(153, 76, 195)">,</span><span class="token plain">a</span><span class="token punctuation" style="color:rgb(153, 76, 195)">.</span><span class="token plain">last_name</span><span class="token punctuation" style="color:rgb(153, 76, 195)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#403f53"><span class="token plain"></span><span class="token keyword" style="color:rgb(12, 150, 155)">from</span><span class="token plain"> employees a</span><span class="token punctuation" style="color:rgb(153, 76, 195)">,</span><span class="token plain">employees b </span><br></span><span class="token-line" style="color:#403f53"><span class="token plain"></span><span class="token keyword" style="color:rgb(12, 150, 155)">where</span><span class="token plain"> a</span><span class="token punctuation" style="color:rgb(153, 76, 195)">.</span><span class="token plain">employee_id </span><span class="token operator" style="color:rgb(12, 150, 155)">=</span><span class="token plain"> b</span><span class="token punctuation" style="color:rgb(153, 76, 195)">.</span><span class="token plain">manager_id</span><br></span></code></pre><div class="buttonGroup_6DOT"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_FhaS" aria-hidden="true"><svg class="copyButtonIcon_phi_" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_FfTR" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h4 class="anchor anchorWithStickyNavbar_loeA" id="内连接与外连接">内连接与外连接<a class="hash-link" href="#内连接与外连接" title="标题的直接链接">​</a></h4><ul><li><code>内连接</code><ul><li>合并具有同一列的两个以上的表的行, <font color="red">结果集中不包含一个表与另一个表不匹配的行</font></li></ul></li><li><code>外连接</code><ul><li>两个表在连接过程中除了返回满足连接条件的行以外，还返回左(或右)表中不满足条件的行 。</li><li>当没有匹配的行时, 结果表中相应的列为空(NULL)。</li></ul></li><li>外连接分为以下两种连接<ul><li><code>左外连接</code><ul><li>连接条件中左边的表也称为 <strong>主表</strong> ，右边的表称为 <strong>从表</strong></li></ul></li><li><code>右外连接</code><ul><li>连接条件中右边的表也称为 <strong>主表</strong> ，左边的表称为 <strong>从表</strong></li></ul></li></ul></li></ul><h3 class="anchor anchorWithStickyNavbar_loeA" id="sql99-实现多表查询">SQL99 实现多表查询<a class="hash-link" href="#sql99-实现多表查询" title="标题的直接链接">​</a></h3><h4 class="anchor anchorWithStickyNavbar_loeA" id="基础语法">基础语法<a class="hash-link" href="#基础语法" title="标题的直接链接">​</a></h4><ul><li><p>使用JOIN...ON子句创建连接的语法结构</p><div class="language-sql codeBlockContainer_APcc theme-code-block" style="--prism-color:#403f53;--prism-background-color:#FBFBFB"><div class="codeBlockContent_m3Ux"><pre tabindex="0" class="prism-code language-sql codeBlock_qGQc thin-scrollbar"><code class="codeBlockLines_p187"><span class="token-line" style="color:#403f53"><span class="token keyword" style="color:rgb(12, 150, 155)">SELECT</span><span class="token plain"> table1</span><span class="token punctuation" style="color:rgb(153, 76, 195)">.</span><span class="token keyword" style="color:rgb(12, 150, 155)">column</span><span class="token punctuation" style="color:rgb(153, 76, 195)">,</span><span class="token plain"> table2</span><span class="token punctuation" style="color:rgb(153, 76, 195)">.</span><span class="token keyword" style="color:rgb(12, 150, 155)">column</span><span class="token punctuation" style="color:rgb(153, 76, 195)">,</span><span class="token plain">table3</span><span class="token punctuation" style="color:rgb(153, 76, 195)">.</span><span class="token keyword" style="color:rgb(12, 150, 155)">column</span><span class="token plain"> </span><br></span><span class="token-line" style="color:#403f53"><span class="token plain"></span><span class="token keyword" style="color:rgb(12, 150, 155)">FROM</span><span class="token plain"> table1</span><br></span><span class="token-line" style="color:#403f53"><span class="token plain">    </span><span class="token keyword" style="color:rgb(12, 150, 155)">JOIN</span><span class="token plain"> table2 </span><span class="token keyword" style="color:rgb(12, 150, 155)">ON</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(153, 76, 195)">(</span><span class="token plain">table1 和 table2 的连接条件</span><span class="token punctuation" style="color:rgb(153, 76, 195)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#403f53"><span class="token plain">    </span><span class="token keyword" style="color:rgb(12, 150, 155)">JOIN</span><span class="token plain"> table3 </span><span class="token keyword" style="color:rgb(12, 150, 155)">ON</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(153, 76, 195)">(</span><span class="token plain">table2 和 table3 的连接条件</span><span class="token punctuation" style="color:rgb(153, 76, 195)">)</span><br></span></code></pre><div class="buttonGroup_6DOT"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_FhaS" aria-hidden="true"><svg class="copyButtonIcon_phi_" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_FfTR" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></li><li><mark>语法说明</mark><ul><li><code>可以使用 ON 子句指定额外的连接条件</code></li><li>连接条件是与其它条件分开的</li><li>关键字 <code>JOIN</code>、<code>INNER JOIN</code>、<code>CROSS JOIN</code> 的含义是一样的，都表示内连接</li></ul></li></ul><h4 class="anchor anchorWithStickyNavbar_loeA" id="内连接inner-join的实现">内连接(INNER JOIN)的实现<a class="hash-link" href="#内连接inner-join的实现" title="标题的直接链接">​</a></h4><ul><li><p><strong>语法格式</strong></p><div class="language-sql codeBlockContainer_APcc theme-code-block" style="--prism-color:#403f53;--prism-background-color:#FBFBFB"><div class="codeBlockContent_m3Ux"><pre tabindex="0" class="prism-code language-sql codeBlock_qGQc thin-scrollbar"><code class="codeBlockLines_p187"><span class="token-line" style="color:#403f53"><span class="token keyword" style="color:rgb(12, 150, 155)">SELECT</span><span class="token plain"> 字段列表</span><br></span><span class="token-line" style="color:#403f53"><span class="token plain"></span><span class="token keyword" style="color:rgb(12, 150, 155)">FROM</span><span class="token plain"> A表 </span><span class="token keyword" style="color:rgb(12, 150, 155)">INNER</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(12, 150, 155)">JOIN</span><span class="token plain"> B表 </span><span class="token keyword" style="color:rgb(12, 150, 155)">ON</span><span class="token plain"> 关联条件</span><br></span><span class="token-line" style="color:#403f53"><span class="token plain"></span><span class="token keyword" style="color:rgb(12, 150, 155)">WHERE</span><span class="token plain"> 等其他子句</span><span class="token punctuation" style="color:rgb(153, 76, 195)">;</span><br></span></code></pre><div class="buttonGroup_6DOT"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_FhaS" aria-hidden="true"><svg class="copyButtonIcon_phi_" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_FfTR" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></li></ul><div class="theme-admonition theme-admonition-info alert alert--info admonition_WoCw"><div class="admonitionHeading_TMsN"><span class="admonitionIcon_Ibzs"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg></span><mdxadmonitiontitle><strong>案例:</strong> 查询employees 和departments表中 部门Id相同的数据</mdxadmonitiontitle></div><div class="admonitionContent_vXIg"><div class="language-sql codeBlockContainer_APcc theme-code-block" style="--prism-color:#403f53;--prism-background-color:#FBFBFB"><div class="codeBlockContent_m3Ux"><pre tabindex="0" class="prism-code language-sql codeBlock_qGQc thin-scrollbar"><code class="codeBlockLines_p187"><span class="token-line" style="color:#403f53"><span class="token comment" style="color:rgb(152, 159, 177);font-style:normal">-- 内连接查询不会返回与查询条件不匹配的数据</span><span class="token plain"></span><br></span><span class="token-line" style="color:#403f53"><span class="token plain"></span><span class="token keyword" style="color:rgb(12, 150, 155)">Select</span><span class="token plain"> CONCAT</span><span class="token punctuation" style="color:rgb(153, 76, 195)">(</span><span class="token plain">emp</span><span class="token punctuation" style="color:rgb(153, 76, 195)">.</span><span class="token plain">first_name</span><span class="token punctuation" style="color:rgb(153, 76, 195)">,</span><span class="token plain">emp</span><span class="token punctuation" style="color:rgb(153, 76, 195)">.</span><span class="token plain">last_name</span><span class="token punctuation" style="color:rgb(153, 76, 195)">)</span><span class="token plain"> </span><span class="token string" style="color:rgb(72, 118, 214)">&quot;姓名&quot;</span><span class="token punctuation" style="color:rgb(153, 76, 195)">,</span><span class="token plain">dep</span><span class="token punctuation" style="color:rgb(153, 76, 195)">.</span><span class="token plain">department_id </span><span class="token string" style="color:rgb(72, 118, 214)">&quot;部门ID&quot;</span><span class="token punctuation" style="color:rgb(153, 76, 195)">,</span><span class="token plain"> department_name </span><span class="token string" style="color:rgb(72, 118, 214)">&quot;部门名称&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#403f53"><span class="token plain"></span><span class="token keyword" style="color:rgb(12, 150, 155)">FROM</span><span class="token plain"> employees emp </span><span class="token keyword" style="color:rgb(12, 150, 155)">JOIN</span><span class="token plain"> departments dep</span><br></span><span class="token-line" style="color:#403f53"><span class="token plain"></span><span class="token keyword" style="color:rgb(12, 150, 155)">ON</span><span class="token plain"> emp</span><span class="token punctuation" style="color:rgb(153, 76, 195)">.</span><span class="token plain">department_id </span><span class="token operator" style="color:rgb(12, 150, 155)">=</span><span class="token plain"> dep</span><span class="token punctuation" style="color:rgb(153, 76, 195)">.</span><span class="token plain">department_id</span><br></span></code></pre><div class="buttonGroup_6DOT"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_FhaS" aria-hidden="true"><svg class="copyButtonIcon_phi_" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_FfTR" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p><img loading="lazy" alt="image-20220324165416032" src="/assets/images/image-20220324165416032-f6002986cd61b2348bf6bb774d9585b9.png" width="1040" height="635" class="img_CujE"></p></div></div><h4 class="anchor anchorWithStickyNavbar_loeA" id="外连接的实现">外连接的实现<a class="hash-link" href="#外连接的实现" title="标题的直接链接">​</a></h4><blockquote><p>外连接分为左(外)连接与右(外)连接</p></blockquote><h5 class="anchor anchorWithStickyNavbar_loeA" id="左外连接">左(外)连接<a class="hash-link" href="#左外连接" title="标题的直接链接">​</a></h5><ul><li><p><code>查询的时候通过左侧表的关联条件字段列A 去 右侧表的关联条件字段列 B 进行查询</code></p><ul><li><strong>如果字段列A 的数据存在于字段列B，那么正常显示</strong></li><li><strong>如果字段列A 的数据存不在于字段列B，那么从表的字段列B显示为NULL</strong></li></ul></li><li><p><strong>语法格式</strong></p><div class="language-sql codeBlockContainer_APcc theme-code-block" style="--prism-color:#403f53;--prism-background-color:#FBFBFB"><div class="codeBlockContent_m3Ux"><pre tabindex="0" class="prism-code language-sql codeBlock_qGQc thin-scrollbar"><code class="codeBlockLines_p187"><span class="token-line" style="color:#403f53"><span class="token comment" style="color:rgb(152, 159, 177);font-style:normal">-- 实现查询结果是A</span><span class="token plain"></span><br></span><span class="token-line" style="color:#403f53"><span class="token plain"></span><span class="token keyword" style="color:rgb(12, 150, 155)">SELECT</span><span class="token plain"> 字段列表</span><br></span><span class="token-line" style="color:#403f53"><span class="token plain"></span><span class="token keyword" style="color:rgb(12, 150, 155)">FROM</span><span class="token plain"> A表 </span><span class="token keyword" style="color:rgb(12, 150, 155)">LEFT</span><span class="token punctuation" style="color:rgb(153, 76, 195)">[</span><span class="token keyword" style="color:rgb(12, 150, 155)">OUTER</span><span class="token punctuation" style="color:rgb(153, 76, 195)">]</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(12, 150, 155)">JOIN</span><span class="token plain"> B表 </span><span class="token keyword" style="color:rgb(12, 150, 155)">ON</span><span class="token plain"> 关联条件</span><br></span><span class="token-line" style="color:#403f53"><span class="token plain"></span><span class="token keyword" style="color:rgb(12, 150, 155)">WHERE</span><span class="token plain"> 等其他子句</span><span class="token punctuation" style="color:rgb(153, 76, 195)">;</span><br></span></code></pre><div class="buttonGroup_6DOT"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_FhaS" aria-hidden="true"><svg class="copyButtonIcon_phi_" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_FfTR" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></li></ul><div class="theme-admonition theme-admonition-info alert alert--info admonition_WoCw"><div class="admonitionHeading_TMsN"><span class="admonitionIcon_Ibzs"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg></span><mdxadmonitiontitle><strong>案例</strong> 查询employees 和departments表中 部门Id相同的数据</mdxadmonitiontitle></div><div class="admonitionContent_vXIg"><p><strong>从测试数据可以看到:  案例中employees 存在department_id=NULL获取其他department_id不在 departments中的，但是由于左连接的性质，这条数据从表部分字段会以NULL的形式展示</strong></p><div class="language-sql codeBlockContainer_APcc theme-code-block" style="--prism-color:#403f53;--prism-background-color:#FBFBFB"><div class="codeBlockContent_m3Ux"><pre tabindex="0" class="prism-code language-sql codeBlock_qGQc thin-scrollbar"><code class="codeBlockLines_p187"><span class="token-line" style="color:#403f53"><span class="token comment" style="color:rgb(152, 159, 177);font-style:normal">-- 如果与查询条件不匹配，则不会显示，left join左侧主表条件字段不在从表中，这条数据的从表的字段以NULL显示</span><span class="token plain"></span><br></span><span class="token-line" style="color:#403f53"><span class="token plain"></span><span class="token keyword" style="color:rgb(12, 150, 155)">SELECT</span><span class="token plain"> CONCAT</span><span class="token punctuation" style="color:rgb(153, 76, 195)">(</span><span class="token plain">emp</span><span class="token punctuation" style="color:rgb(153, 76, 195)">.</span><span class="token plain">first_name</span><span class="token punctuation" style="color:rgb(153, 76, 195)">,</span><span class="token plain">emp</span><span class="token punctuation" style="color:rgb(153, 76, 195)">.</span><span class="token plain">last_name</span><span class="token punctuation" style="color:rgb(153, 76, 195)">)</span><span class="token plain"> </span><span class="token string" style="color:rgb(72, 118, 214)">&quot;姓名&quot;</span><span class="token punctuation" style="color:rgb(153, 76, 195)">,</span><span class="token plain">dep</span><span class="token punctuation" style="color:rgb(153, 76, 195)">.</span><span class="token plain">department_id </span><span class="token string" style="color:rgb(72, 118, 214)">&quot;部门ID&quot;</span><span class="token punctuation" style="color:rgb(153, 76, 195)">,</span><span class="token plain"> department_name </span><span class="token string" style="color:rgb(72, 118, 214)">&quot;部门名称&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#403f53"><span class="token plain"></span><span class="token keyword" style="color:rgb(12, 150, 155)">FROM</span><span class="token plain"> employees emp </span><span class="token keyword" style="color:rgb(12, 150, 155)">LEFT</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(12, 150, 155)">JOIN</span><span class="token plain"> departments dep</span><br></span><span class="token-line" style="color:#403f53"><span class="token plain"></span><span class="token keyword" style="color:rgb(12, 150, 155)">ON</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(153, 76, 195)">(</span><span class="token plain">emp</span><span class="token punctuation" style="color:rgb(153, 76, 195)">.</span><span class="token plain">department_id </span><span class="token operator" style="color:rgb(12, 150, 155)">=</span><span class="token plain"> dep</span><span class="token punctuation" style="color:rgb(153, 76, 195)">.</span><span class="token plain">department_id</span><span class="token punctuation" style="color:rgb(153, 76, 195)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(153, 76, 195)">;</span><br></span></code></pre><div class="buttonGroup_6DOT"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_FhaS" aria-hidden="true"><svg class="copyButtonIcon_phi_" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_FfTR" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p><img loading="lazy" alt="image-20220326144729583" src="/assets/images/image-20220326144729583-fabcc10d9b9dace3c85ac5dc96a3b7da.png" width="1166" height="836" class="img_CujE"></p></div></div><h5 class="anchor anchorWithStickyNavbar_loeA" id="右外连接">右(外)连接<a class="hash-link" href="#右外连接" title="标题的直接链接">​</a></h5><ul><li><p><code>查询的时候通过右侧表的关联条件字段列A 去 左侧表的关联条件字段列 B 进行查询</code></p><ul><li><strong>如果字段列A 的数据存在于字段列B，那么正常显示</strong></li><li><strong>如果字段列A 的数据存不在于字段列B，那么从表的字段列B显示为NULL</strong></li></ul></li><li><p><strong>语法格式</strong></p><div class="language-sql codeBlockContainer_APcc theme-code-block" style="--prism-color:#403f53;--prism-background-color:#FBFBFB"><div class="codeBlockContent_m3Ux"><pre tabindex="0" class="prism-code language-sql codeBlock_qGQc thin-scrollbar"><code class="codeBlockLines_p187"><span class="token-line" style="color:#403f53"><span class="token comment" style="color:rgb(152, 159, 177);font-style:normal">-- 实现查询结果是B</span><span class="token plain"></span><br></span><span class="token-line" style="color:#403f53"><span class="token plain"></span><span class="token keyword" style="color:rgb(12, 150, 155)">SELECT</span><span class="token plain"> 字段列表</span><br></span><span class="token-line" style="color:#403f53"><span class="token plain"></span><span class="token keyword" style="color:rgb(12, 150, 155)">FROM</span><span class="token plain"> A表 </span><span class="token keyword" style="color:rgb(12, 150, 155)">RIGHT</span><span class="token punctuation" style="color:rgb(153, 76, 195)">[</span><span class="token keyword" style="color:rgb(12, 150, 155)">OUTER</span><span class="token punctuation" style="color:rgb(153, 76, 195)">]</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(12, 150, 155)">JOIN</span><span class="token plain"> B表 </span><span class="token keyword" style="color:rgb(12, 150, 155)">ON</span><span class="token plain"> 关联条件</span><br></span><span class="token-line" style="color:#403f53"><span class="token plain"></span><span class="token keyword" style="color:rgb(12, 150, 155)">WHERE</span><span class="token plain"> 等其他子句</span><span class="token punctuation" style="color:rgb(153, 76, 195)">;</span><br></span></code></pre><div class="buttonGroup_6DOT"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_FhaS" aria-hidden="true"><svg class="copyButtonIcon_phi_" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_FfTR" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></li></ul><div class="theme-admonition theme-admonition-info alert alert--info admonition_WoCw"><div class="admonitionHeading_TMsN"><span class="admonitionIcon_Ibzs"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg></span><mdxadmonitiontitle><strong>案例:</strong> 查询employees 和departments表中 部门Id相同的数据</mdxadmonitiontitle></div><div class="admonitionContent_vXIg"><p><strong>从测试数据可以看到: departments中从120开始的department_idb在employees中找不到，按照右连接的性质，这条数据从表部分字段会以NULL的形式展示</strong></p><div class="language-sql codeBlockContainer_APcc theme-code-block" style="--prism-color:#403f53;--prism-background-color:#FBFBFB"><div class="codeBlockContent_m3Ux"><pre tabindex="0" class="prism-code language-sql codeBlock_qGQc thin-scrollbar"><code class="codeBlockLines_p187"><span class="token-line" style="color:#403f53"><span class="token comment" style="color:rgb(152, 159, 177);font-style:normal">-- 如果与查询条件不匹配，则不会显示，但是right join右侧主表条件字段不在从表中，这条数据的从表的字段以NULL显示</span><span class="token plain"></span><br></span><span class="token-line" style="color:#403f53"><span class="token plain"></span><span class="token keyword" style="color:rgb(12, 150, 155)">SELECT</span><span class="token plain"> CONCAT</span><span class="token punctuation" style="color:rgb(153, 76, 195)">(</span><span class="token plain">emp</span><span class="token punctuation" style="color:rgb(153, 76, 195)">.</span><span class="token plain">first_name</span><span class="token punctuation" style="color:rgb(153, 76, 195)">,</span><span class="token plain">emp</span><span class="token punctuation" style="color:rgb(153, 76, 195)">.</span><span class="token plain">last_name</span><span class="token punctuation" style="color:rgb(153, 76, 195)">)</span><span class="token plain"> </span><span class="token string" style="color:rgb(72, 118, 214)">&quot;姓名&quot;</span><span class="token punctuation" style="color:rgb(153, 76, 195)">,</span><span class="token plain">dep</span><span class="token punctuation" style="color:rgb(153, 76, 195)">.</span><span class="token plain">department_id </span><span class="token string" style="color:rgb(72, 118, 214)">&quot;部门ID&quot;</span><span class="token punctuation" style="color:rgb(153, 76, 195)">,</span><span class="token plain"> department_name </span><span class="token string" style="color:rgb(72, 118, 214)">&quot;部门名称&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#403f53"><span class="token plain"></span><span class="token keyword" style="color:rgb(12, 150, 155)">FROM</span><span class="token plain"> employees emp </span><span class="token keyword" style="color:rgb(12, 150, 155)">RIGHT</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(12, 150, 155)">JOIN</span><span class="token plain"> departments dep</span><br></span><span class="token-line" style="color:#403f53"><span class="token plain"></span><span class="token keyword" style="color:rgb(12, 150, 155)">ON</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(153, 76, 195)">(</span><span class="token plain">emp</span><span class="token punctuation" style="color:rgb(153, 76, 195)">.</span><span class="token plain">department_id </span><span class="token operator" style="color:rgb(12, 150, 155)">=</span><span class="token plain"> dep</span><span class="token punctuation" style="color:rgb(153, 76, 195)">.</span><span class="token plain">department_id</span><span class="token punctuation" style="color:rgb(153, 76, 195)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(153, 76, 195)">;</span><br></span></code></pre><div class="buttonGroup_6DOT"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_FhaS" aria-hidden="true"><svg class="copyButtonIcon_phi_" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_FfTR" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p><img loading="lazy" alt="image-20220326144505244" src="/assets/images/image-20220326144505244-29dd0134075c2f88d016a7cd7a6767c6.png" width="1048" height="768" class="img_CujE"></p></div></div><h5 class="anchor anchorWithStickyNavbar_loeA" id="满外连接">满外连接<a class="hash-link" href="#满外连接" title="标题的直接链接">​</a></h5><ul><li><code>满外连接的结果 = 左右表匹配的数据 + 左表没有匹配到的数据 + 右表没有匹配到的数据</code></li><li>SQL99是支持满外连接的。使用 <code>FULL[OUTER] JOIN</code> 来实现</li><li>MySQL不支持FULL JOIN，<strong>但是可以用  Left Join Union Right Join代替</strong></li></ul><h4 class="anchor anchorWithStickyNavbar_loeA" id="union">UNION<a class="hash-link" href="#union" title="标题的直接链接">​</a></h4><ul><li><p><code>UNOIN</code> 可以用于<mark>合并查询结果</mark>,将多条SELECT语句的结果组合成单个结果集</p><ul><li><p>合并结果集时，两个表对应的列数和数据类型必须相同，并且相互对应</p></li><li><p>各个SELECT语句之间使用<code>UNION</code>或<code>UNION ALL</code>关键字分隔</p></li></ul></li><li><p><strong>语法格式</strong></p><div class="language-sql codeBlockContainer_APcc theme-code-block" style="--prism-color:#403f53;--prism-background-color:#FBFBFB"><div class="codeBlockContent_m3Ux"><pre tabindex="0" class="prism-code language-sql codeBlock_qGQc thin-scrollbar"><code class="codeBlockLines_p187"><span class="token-line" style="color:#403f53"><span class="token keyword" style="color:rgb(12, 150, 155)">SELECT</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(12, 150, 155)">column</span><span class="token punctuation" style="color:rgb(153, 76, 195)">,</span><span class="token punctuation" style="color:rgb(153, 76, 195)">.</span><span class="token punctuation" style="color:rgb(153, 76, 195)">.</span><span class="token punctuation" style="color:rgb(153, 76, 195)">.</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(12, 150, 155)">FROM</span><span class="token plain"> table1 </span><br></span><span class="token-line" style="color:#403f53"><span class="token plain"></span><span class="token keyword" style="color:rgb(12, 150, 155)">UNION</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(153, 76, 195)">[</span><span class="token keyword" style="color:rgb(12, 150, 155)">ALL</span><span class="token punctuation" style="color:rgb(153, 76, 195)">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#403f53"><span class="token plain"></span><span class="token keyword" style="color:rgb(12, 150, 155)">SELECT</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(12, 150, 155)">column</span><span class="token punctuation" style="color:rgb(153, 76, 195)">,</span><span class="token punctuation" style="color:rgb(153, 76, 195)">.</span><span class="token punctuation" style="color:rgb(153, 76, 195)">.</span><span class="token punctuation" style="color:rgb(153, 76, 195)">.</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(12, 150, 155)">FROM</span><span class="token plain"> table2</span><br></span></code></pre><div class="buttonGroup_6DOT"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_FhaS" aria-hidden="true"><svg class="copyButtonIcon_phi_" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_FfTR" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></li><li><p><strong>UNION 和UNION ALL 区别?</strong></p><ul><li><code>UNION</code>:   返回两个查询的结果集的并集，<em>去除两个结果集的重复记录</em></li><li><code>UNION ALL</code>： 返回两个查询的结果集的并集。<em>不会去除两个结果集的重复记录</em></li></ul></li><li><p><strong>注意点</strong></p><ul><li><font color="red">执行UNION ALL 语句时所需要的资源比 UNION 语句少</font></li><li>如果明确知道合并数据后的结果数据 不存在重复数据，或者不需要去除重复的数据，则尽量使用 UNION  ALL 语句，以提高数据查询的效 率。</li></ul></li></ul><div class="theme-admonition theme-admonition-info alert alert--info admonition_WoCw"><div class="admonitionHeading_TMsN"><span class="admonitionIcon_Ibzs"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg></span><mdxadmonitiontitle><strong>案例</strong></mdxadmonitiontitle></div><div class="admonitionContent_vXIg"><p><strong>case1: 查询部门编号&gt;90或邮箱包含a的员工信息</strong></p><div class="language-sql codeBlockContainer_APcc theme-code-block" style="--prism-color:#403f53;--prism-background-color:#FBFBFB"><div class="codeBlockContent_m3Ux"><pre tabindex="0" class="prism-code language-sql codeBlock_qGQc thin-scrollbar"><code class="codeBlockLines_p187"><span class="token-line" style="color:#403f53"><span class="token comment" style="color:rgb(152, 159, 177);font-style:normal">-- 两个Select 语句出来的结果可能存在重复的数据，需要使用UNION去除重复的数据</span><span class="token plain"></span><br></span><span class="token-line" style="color:#403f53"><span class="token plain"></span><span class="token comment" style="color:rgb(152, 159, 177);font-style:normal">#方式1</span><span class="token plain"></span><br></span><span class="token-line" style="color:#403f53"><span class="token plain"></span><span class="token keyword" style="color:rgb(12, 150, 155)">SELECT</span><span class="token plain"> </span><span class="token operator" style="color:rgb(12, 150, 155)">*</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(12, 150, 155)">FROM</span><span class="token plain"> employees </span><span class="token keyword" style="color:rgb(12, 150, 155)">WHERE</span><span class="token plain"> email </span><span class="token operator" style="color:rgb(12, 150, 155)">LIKE</span><span class="token plain"> </span><span class="token string" style="color:rgb(72, 118, 214)">&#x27;%a%&#x27;</span><span class="token plain"> </span><span class="token operator" style="color:rgb(12, 150, 155)">OR</span><span class="token plain"> department_id</span><span class="token operator" style="color:rgb(12, 150, 155)">&gt;</span><span class="token number" style="color:rgb(170, 9, 130)">90</span><span class="token punctuation" style="color:rgb(153, 76, 195)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#403f53"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#403f53"><span class="token plain"></span><span class="token comment" style="color:rgb(152, 159, 177);font-style:normal">#方式2</span><span class="token plain"></span><br></span><span class="token-line" style="color:#403f53"><span class="token plain"></span><span class="token keyword" style="color:rgb(12, 150, 155)">SELECT</span><span class="token plain"> </span><span class="token operator" style="color:rgb(12, 150, 155)">*</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(12, 150, 155)">FROM</span><span class="token plain"> employees </span><span class="token keyword" style="color:rgb(12, 150, 155)">WHERE</span><span class="token plain"> email </span><span class="token operator" style="color:rgb(12, 150, 155)">LIKE</span><span class="token plain"> </span><span class="token string" style="color:rgb(72, 118, 214)">&#x27;%a%&#x27;</span><span class="token plain"> </span><br></span><span class="token-line" style="color:#403f53"><span class="token plain"></span><span class="token keyword" style="color:rgb(12, 150, 155)">UNION</span><span class="token plain"></span><br></span><span class="token-line" style="color:#403f53"><span class="token plain"></span><span class="token keyword" style="color:rgb(12, 150, 155)">SELECT</span><span class="token plain"> </span><span class="token operator" style="color:rgb(12, 150, 155)">*</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(12, 150, 155)">FROM</span><span class="token plain"> employees </span><span class="token keyword" style="color:rgb(12, 150, 155)">WHERE</span><span class="token plain"> department_id</span><span class="token operator" style="color:rgb(12, 150, 155)">&gt;</span><span class="token number" style="color:rgb(170, 9, 130)">90</span><span class="token punctuation" style="color:rgb(153, 76, 195)">;</span><br></span></code></pre><div class="buttonGroup_6DOT"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_FhaS" aria-hidden="true"><svg class="copyButtonIcon_phi_" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_FfTR" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p><strong>case2: 查询中国用户中男性的信息以及美国用户中年男性的用户信息</strong></p><div class="language-sql codeBlockContainer_APcc theme-code-block" style="--prism-color:#403f53;--prism-background-color:#FBFBFB"><div class="codeBlockContent_m3Ux"><pre tabindex="0" class="prism-code language-sql codeBlock_qGQc thin-scrollbar"><code class="codeBlockLines_p187"><span class="token-line" style="color:#403f53"><span class="token comment" style="color:rgb(152, 159, 177);font-style:normal">-- 由于两个Select 语句查询出来的结果是不可能重复的，所以不需要过滤重复数据=&gt;使用UNION ALL</span><span class="token plain"></span><br></span><span class="token-line" style="color:#403f53"><span class="token plain"></span><span class="token keyword" style="color:rgb(12, 150, 155)">SELECT</span><span class="token plain"> id</span><span class="token punctuation" style="color:rgb(153, 76, 195)">,</span><span class="token plain">cname </span><span class="token keyword" style="color:rgb(12, 150, 155)">FROM</span><span class="token plain"> t_chinamale </span><span class="token keyword" style="color:rgb(12, 150, 155)">WHERE</span><span class="token plain"> csex</span><span class="token operator" style="color:rgb(12, 150, 155)">=</span><span class="token string" style="color:rgb(72, 118, 214)">&#x27;男&#x27;</span><span class="token plain"> </span><br></span><span class="token-line" style="color:#403f53"><span class="token plain"></span><span class="token keyword" style="color:rgb(12, 150, 155)">UNION</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(12, 150, 155)">ALL</span><span class="token plain"></span><br></span><span class="token-line" style="color:#403f53"><span class="token plain"></span><span class="token keyword" style="color:rgb(12, 150, 155)">SELECT</span><span class="token plain"> id</span><span class="token punctuation" style="color:rgb(153, 76, 195)">,</span><span class="token plain">tname </span><span class="token keyword" style="color:rgb(12, 150, 155)">FROM</span><span class="token plain"> t_usmale </span><span class="token keyword" style="color:rgb(12, 150, 155)">WHERE</span><span class="token plain"> tGender</span><span class="token operator" style="color:rgb(12, 150, 155)">=</span><span class="token string" style="color:rgb(72, 118, 214)">&#x27;male&#x27;</span><span class="token punctuation" style="color:rgb(153, 76, 195)">;</span><br></span></code></pre><div class="buttonGroup_6DOT"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_FhaS" aria-hidden="true"><svg class="copyButtonIcon_phi_" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_FfTR" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></div></div><h3 class="anchor anchorWithStickyNavbar_loeA" id="七种join理论">七种JOIN理论<a class="hash-link" href="#七种join理论" title="标题的直接链接">​</a></h3><ul><li><p><code>内连接 </code></p><ul><li>两表共有部分  【图中3】</li></ul><div class="language-sql codeBlockContainer_APcc theme-code-block" style="--prism-color:#403f53;--prism-background-color:#FBFBFB"><div class="codeBlockContent_m3Ux"><pre tabindex="0" class="prism-code language-sql codeBlock_qGQc thin-scrollbar"><code class="codeBlockLines_p187"><span class="token-line" style="color:#403f53"><span class="token keyword" style="color:rgb(12, 150, 155)">SELECT</span><span class="token plain"> e</span><span class="token punctuation" style="color:rgb(153, 76, 195)">.</span><span class="token plain">employee_id</span><span class="token punctuation" style="color:rgb(153, 76, 195)">,</span><span class="token plain">e</span><span class="token punctuation" style="color:rgb(153, 76, 195)">.</span><span class="token plain">last_name</span><span class="token punctuation" style="color:rgb(153, 76, 195)">,</span><span class="token plain">d</span><span class="token punctuation" style="color:rgb(153, 76, 195)">.</span><span class="token plain">department_name </span><br></span><span class="token-line" style="color:#403f53"><span class="token plain"></span><span class="token keyword" style="color:rgb(12, 150, 155)">FROM</span><span class="token plain"> employees emp </span><span class="token keyword" style="color:rgb(12, 150, 155)">JOIN</span><span class="token plain"> departments d </span><span class="token keyword" style="color:rgb(12, 150, 155)">ON</span><span class="token plain"> e</span><span class="token punctuation" style="color:rgb(153, 76, 195)">.</span><span class="token plain">department_id </span><span class="token operator" style="color:rgb(12, 150, 155)">=</span><span class="token plain"> d</span><span class="token punctuation" style="color:rgb(153, 76, 195)">.</span><span class="token plain">department_id</span><span class="token punctuation" style="color:rgb(153, 76, 195)">;</span><br></span></code></pre><div class="buttonGroup_6DOT"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_FhaS" aria-hidden="true"><svg class="copyButtonIcon_phi_" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_FfTR" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></li><li><p><code>左外连接</code></p><ul><li>左表的全部，右表不满足补NULL 【图中1】</li></ul><div class="language-sql codeBlockContainer_APcc theme-code-block" style="--prism-color:#403f53;--prism-background-color:#FBFBFB"><div class="codeBlockContent_m3Ux"><pre tabindex="0" class="prism-code language-sql codeBlock_qGQc thin-scrollbar"><code class="codeBlockLines_p187"><span class="token-line" style="color:#403f53"><span class="token keyword" style="color:rgb(12, 150, 155)">SELECT</span><span class="token plain"> e</span><span class="token punctuation" style="color:rgb(153, 76, 195)">.</span><span class="token plain">employee_id</span><span class="token punctuation" style="color:rgb(153, 76, 195)">,</span><span class="token plain">e</span><span class="token punctuation" style="color:rgb(153, 76, 195)">.</span><span class="token plain">last_name</span><span class="token punctuation" style="color:rgb(153, 76, 195)">,</span><span class="token plain">d</span><span class="token punctuation" style="color:rgb(153, 76, 195)">.</span><span class="token plain">department_name </span><br></span><span class="token-line" style="color:#403f53"><span class="token plain"></span><span class="token keyword" style="color:rgb(12, 150, 155)">FROM</span><span class="token plain"> employees e </span><span class="token keyword" style="color:rgb(12, 150, 155)">LEFT</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(12, 150, 155)">JOIN</span><span class="token plain"> departments d </span><span class="token keyword" style="color:rgb(12, 150, 155)">ON</span><span class="token plain"> e</span><span class="token punctuation" style="color:rgb(153, 76, 195)">.</span><span class="token plain">department_id </span><span class="token operator" style="color:rgb(12, 150, 155)">=</span><span class="token plain"> d</span><span class="token punctuation" style="color:rgb(153, 76, 195)">.</span><span class="token plain">department_id</span><span class="token punctuation" style="color:rgb(153, 76, 195)">;</span><br></span></code></pre><div class="buttonGroup_6DOT"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_FhaS" aria-hidden="true"><svg class="copyButtonIcon_phi_" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_FfTR" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></li><li><p><code>右外连接</code></p><ul><li>右表的全部，左表不满足的补NULL 【图中4】</li></ul><div class="language-sql codeBlockContainer_APcc theme-code-block" style="--prism-color:#403f53;--prism-background-color:#FBFBFB"><div class="codeBlockContent_m3Ux"><pre tabindex="0" class="prism-code language-sql codeBlock_qGQc thin-scrollbar"><code class="codeBlockLines_p187"><span class="token-line" style="color:#403f53"><span class="token keyword" style="color:rgb(12, 150, 155)">SELECT</span><span class="token plain"> e</span><span class="token punctuation" style="color:rgb(153, 76, 195)">.</span><span class="token plain">employee_id</span><span class="token punctuation" style="color:rgb(153, 76, 195)">,</span><span class="token plain">e</span><span class="token punctuation" style="color:rgb(153, 76, 195)">.</span><span class="token plain">last_name</span><span class="token punctuation" style="color:rgb(153, 76, 195)">,</span><span class="token plain">d</span><span class="token punctuation" style="color:rgb(153, 76, 195)">.</span><span class="token plain">department_name </span><br></span><span class="token-line" style="color:#403f53"><span class="token plain"></span><span class="token keyword" style="color:rgb(12, 150, 155)">FROM</span><span class="token plain"> employees e </span><span class="token keyword" style="color:rgb(12, 150, 155)">RIGHT</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(12, 150, 155)">JOIN</span><span class="token plain"> departments d </span><span class="token keyword" style="color:rgb(12, 150, 155)">ON</span><span class="token plain"> e</span><span class="token punctuation" style="color:rgb(153, 76, 195)">.</span><span class="token plain">department_id </span><span class="token operator" style="color:rgb(12, 150, 155)">=</span><span class="token plain"> d</span><span class="token punctuation" style="color:rgb(153, 76, 195)">.</span><span class="token plain">department_id</span><span class="token punctuation" style="color:rgb(153, 76, 195)">;</span><br></span></code></pre><div class="buttonGroup_6DOT"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_FhaS" aria-hidden="true"><svg class="copyButtonIcon_phi_" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_FfTR" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></li><li><p><code>特殊左连接</code></p><ul><li>显示为左表的独有的数据 【图中2】</li></ul><div class="language-sql codeBlockContainer_APcc theme-code-block" style="--prism-color:#403f53;--prism-background-color:#FBFBFB"><div class="codeBlockContent_m3Ux"><pre tabindex="0" class="prism-code language-sql codeBlock_qGQc thin-scrollbar"><code class="codeBlockLines_p187"><span class="token-line" style="color:#403f53"><span class="token keyword" style="color:rgb(12, 150, 155)">SELECT</span><span class="token plain"> e</span><span class="token punctuation" style="color:rgb(153, 76, 195)">.</span><span class="token plain">employee_id</span><span class="token punctuation" style="color:rgb(153, 76, 195)">,</span><span class="token plain">e</span><span class="token punctuation" style="color:rgb(153, 76, 195)">.</span><span class="token plain">last_name</span><span class="token punctuation" style="color:rgb(153, 76, 195)">,</span><span class="token plain">d</span><span class="token punctuation" style="color:rgb(153, 76, 195)">.</span><span class="token plain">department_name </span><br></span><span class="token-line" style="color:#403f53"><span class="token plain"></span><span class="token keyword" style="color:rgb(12, 150, 155)">FROM</span><span class="token plain"> employees e </span><span class="token keyword" style="color:rgb(12, 150, 155)">LEFT</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(12, 150, 155)">JOIN</span><span class="token plain"> departments d </span><span class="token keyword" style="color:rgb(12, 150, 155)">ON</span><span class="token plain"> e</span><span class="token punctuation" style="color:rgb(153, 76, 195)">.</span><span class="token plain">department_id </span><span class="token operator" style="color:rgb(12, 150, 155)">=</span><span class="token plain"> d</span><span class="token punctuation" style="color:rgb(153, 76, 195)">.</span><span class="token plain">department_id</span><span class="token punctuation" style="color:rgb(153, 76, 195)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#403f53"><span class="token plain"></span><span class="token keyword" style="color:rgb(12, 150, 155)">WHERE</span><span class="token plain"> d</span><span class="token punctuation" style="color:rgb(153, 76, 195)">.</span><span class="token plain">department_id </span><span class="token operator" style="color:rgb(12, 150, 155)">IS</span><span class="token plain"> </span><span class="token boolean" style="color:rgb(188, 84, 84)">NULL</span><br></span></code></pre><div class="buttonGroup_6DOT"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_FhaS" aria-hidden="true"><svg class="copyButtonIcon_phi_" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_FfTR" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></li><li><p><code>特殊的右连接</code></p><ul><li>显示为右表的独有的数据【图中5】</li></ul><div class="language-sql codeBlockContainer_APcc theme-code-block" style="--prism-color:#403f53;--prism-background-color:#FBFBFB"><div class="codeBlockContent_m3Ux"><pre tabindex="0" class="prism-code language-sql codeBlock_qGQc thin-scrollbar"><code class="codeBlockLines_p187"><span class="token-line" style="color:#403f53"><span class="token keyword" style="color:rgb(12, 150, 155)">SELECT</span><span class="token plain"> e</span><span class="token punctuation" style="color:rgb(153, 76, 195)">.</span><span class="token plain">employee_id</span><span class="token punctuation" style="color:rgb(153, 76, 195)">,</span><span class="token plain">e</span><span class="token punctuation" style="color:rgb(153, 76, 195)">.</span><span class="token plain">last_name</span><span class="token punctuation" style="color:rgb(153, 76, 195)">,</span><span class="token plain">d</span><span class="token punctuation" style="color:rgb(153, 76, 195)">.</span><span class="token plain">department_name </span><br></span><span class="token-line" style="color:#403f53"><span class="token plain"></span><span class="token keyword" style="color:rgb(12, 150, 155)">FROM</span><span class="token plain"> employees e </span><span class="token keyword" style="color:rgb(12, 150, 155)">RIGHT</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(12, 150, 155)">JOIN</span><span class="token plain"> departments d </span><span class="token keyword" style="color:rgb(12, 150, 155)">ON</span><span class="token plain"> e</span><span class="token punctuation" style="color:rgb(153, 76, 195)">.</span><span class="token plain">department_id </span><span class="token operator" style="color:rgb(12, 150, 155)">=</span><span class="token plain"> d</span><span class="token punctuation" style="color:rgb(153, 76, 195)">.</span><span class="token plain">department_id</span><span class="token punctuation" style="color:rgb(153, 76, 195)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#403f53"><span class="token plain"></span><span class="token keyword" style="color:rgb(12, 150, 155)">WHERE</span><span class="token plain"> e</span><span class="token punctuation" style="color:rgb(153, 76, 195)">.</span><span class="token plain">department_id </span><span class="token operator" style="color:rgb(12, 150, 155)">IS</span><span class="token plain"> </span><span class="token boolean" style="color:rgb(188, 84, 84)">NULL</span><br></span></code></pre><div class="buttonGroup_6DOT"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_FhaS" aria-hidden="true"><svg class="copyButtonIcon_phi_" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_FfTR" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></li><li><p><code>全连接</code></p><ul><li>显示全部数据 【图中6】</li><li><code>mysql 不支持 full outer join</code></li></ul><div class="language-sql codeBlockContainer_APcc theme-code-block" style="--prism-color:#403f53;--prism-background-color:#FBFBFB"><div class="codeBlockContent_m3Ux"><pre tabindex="0" class="prism-code language-sql codeBlock_qGQc thin-scrollbar"><code class="codeBlockLines_p187"><span class="token-line" style="color:#403f53"><span class="token comment" style="color:rgb(152, 159, 177);font-style:normal">-- 第一个Select语句查询出左侧独有的数据</span><span class="token plain"></span><br></span><span class="token-line" style="color:#403f53"><span class="token plain"></span><span class="token comment" style="color:rgb(152, 159, 177);font-style:normal">-- 第二个Select语句是右连接的数据</span><span class="token plain"></span><br></span><span class="token-line" style="color:#403f53"><span class="token plain"></span><span class="token comment" style="color:rgb(152, 159, 177);font-style:normal">-- 采用这种方式不需要使用UNION 对中间数据进行去重,效率更高</span><span class="token plain"></span><br></span><span class="token-line" style="color:#403f53"><span class="token plain"></span><span class="token keyword" style="color:rgb(12, 150, 155)">SELECT</span><span class="token plain"> e</span><span class="token punctuation" style="color:rgb(153, 76, 195)">.</span><span class="token plain">employee_id</span><span class="token punctuation" style="color:rgb(153, 76, 195)">,</span><span class="token plain">e</span><span class="token punctuation" style="color:rgb(153, 76, 195)">.</span><span class="token plain">last_name</span><span class="token punctuation" style="color:rgb(153, 76, 195)">,</span><span class="token plain">d</span><span class="token punctuation" style="color:rgb(153, 76, 195)">.</span><span class="token plain">department_name</span><br></span><span class="token-line" style="color:#403f53"><span class="token plain"></span><span class="token keyword" style="color:rgb(12, 150, 155)">FROM</span><span class="token plain"> employees e </span><span class="token keyword" style="color:rgb(12, 150, 155)">LEFT</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(12, 150, 155)">JOIN</span><span class="token plain"> departments d </span><span class="token keyword" style="color:rgb(12, 150, 155)">ON</span><span class="token plain"> e</span><span class="token punctuation" style="color:rgb(153, 76, 195)">.</span><span class="token plain">department_id </span><span class="token operator" style="color:rgb(12, 150, 155)">=</span><span class="token plain"> d</span><span class="token punctuation" style="color:rgb(153, 76, 195)">.</span><span class="token plain">department_id</span><br></span><span class="token-line" style="color:#403f53"><span class="token plain"></span><span class="token keyword" style="color:rgb(12, 150, 155)">WHERE</span><span class="token plain"> d</span><span class="token punctuation" style="color:rgb(153, 76, 195)">.</span><span class="token plain">department_id </span><span class="token operator" style="color:rgb(12, 150, 155)">IS</span><span class="token plain"> </span><span class="token boolean" style="color:rgb(188, 84, 84)">NULL</span><span class="token plain"></span><br></span><span class="token-line" style="color:#403f53"><span class="token plain"></span><span class="token keyword" style="color:rgb(12, 150, 155)">UNION</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(12, 150, 155)">ALL</span><span class="token plain"></span><br></span><span class="token-line" style="color:#403f53"><span class="token plain"></span><span class="token keyword" style="color:rgb(12, 150, 155)">SELECT</span><span class="token plain"> e</span><span class="token punctuation" style="color:rgb(153, 76, 195)">.</span><span class="token plain">employee_id</span><span class="token punctuation" style="color:rgb(153, 76, 195)">,</span><span class="token plain">e</span><span class="token punctuation" style="color:rgb(153, 76, 195)">.</span><span class="token plain">last_name</span><span class="token punctuation" style="color:rgb(153, 76, 195)">,</span><span class="token plain">d</span><span class="token punctuation" style="color:rgb(153, 76, 195)">.</span><span class="token plain">department_name</span><br></span><span class="token-line" style="color:#403f53"><span class="token plain"></span><span class="token keyword" style="color:rgb(12, 150, 155)">FROM</span><span class="token plain"> employees </span><span class="token keyword" style="color:rgb(12, 150, 155)">RIGHT</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(12, 150, 155)">JOIN</span><span class="token plain"> departments d </span><span class="token keyword" style="color:rgb(12, 150, 155)">ON</span><span class="token plain"> e</span><span class="token punctuation" style="color:rgb(153, 76, 195)">.</span><span class="token plain">department_id </span><span class="token operator" style="color:rgb(12, 150, 155)">=</span><span class="token plain"> d</span><span class="token punctuation" style="color:rgb(153, 76, 195)">.</span><span class="token plain">department_id</span><br></span></code></pre><div class="buttonGroup_6DOT"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_FhaS" aria-hidden="true"><svg class="copyButtonIcon_phi_" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_FfTR" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></li><li><p><code>特殊的全连接</code></p><ul><li>只显示两表独有的数据 【图中7】</li></ul><div class="language-sql codeBlockContainer_APcc theme-code-block" style="--prism-color:#403f53;--prism-background-color:#FBFBFB"><div class="codeBlockContent_m3Ux"><pre tabindex="0" class="prism-code language-sql codeBlock_qGQc thin-scrollbar"><code class="codeBlockLines_p187"><span class="token-line" style="color:#403f53"><span class="token keyword" style="color:rgb(12, 150, 155)">SELECT</span><span class="token plain"> e</span><span class="token punctuation" style="color:rgb(153, 76, 195)">.</span><span class="token plain">employee_id</span><span class="token punctuation" style="color:rgb(153, 76, 195)">,</span><span class="token plain">e</span><span class="token punctuation" style="color:rgb(153, 76, 195)">.</span><span class="token plain">last_name</span><span class="token punctuation" style="color:rgb(153, 76, 195)">,</span><span class="token plain">d</span><span class="token punctuation" style="color:rgb(153, 76, 195)">.</span><span class="token plain">department_name</span><br></span><span class="token-line" style="color:#403f53"><span class="token plain"></span><span class="token keyword" style="color:rgb(12, 150, 155)">FROM</span><span class="token plain"> employees e </span><span class="token keyword" style="color:rgb(12, 150, 155)">LEFT</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(12, 150, 155)">JOIN</span><span class="token plain"> departments d </span><span class="token keyword" style="color:rgb(12, 150, 155)">ON</span><span class="token plain"> e</span><span class="token punctuation" style="color:rgb(153, 76, 195)">.</span><span class="token plain">department_id </span><span class="token operator" style="color:rgb(12, 150, 155)">=</span><span class="token plain"> d</span><span class="token punctuation" style="color:rgb(153, 76, 195)">.</span><span class="token plain">department_id</span><br></span><span class="token-line" style="color:#403f53"><span class="token plain"></span><span class="token keyword" style="color:rgb(12, 150, 155)">WHERE</span><span class="token plain"> d</span><span class="token punctuation" style="color:rgb(153, 76, 195)">.</span><span class="token plain">department_id </span><span class="token operator" style="color:rgb(12, 150, 155)">IS</span><span class="token plain"> </span><span class="token boolean" style="color:rgb(188, 84, 84)">NULL</span><span class="token plain"></span><br></span><span class="token-line" style="color:#403f53"><span class="token plain"></span><span class="token keyword" style="color:rgb(12, 150, 155)">UNION</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(12, 150, 155)">ALL</span><span class="token plain"></span><br></span><span class="token-line" style="color:#403f53"><span class="token plain"></span><span class="token keyword" style="color:rgb(12, 150, 155)">SELECT</span><span class="token plain"> e</span><span class="token punctuation" style="color:rgb(153, 76, 195)">.</span><span class="token plain">employee_id</span><span class="token punctuation" style="color:rgb(153, 76, 195)">,</span><span class="token plain">e</span><span class="token punctuation" style="color:rgb(153, 76, 195)">.</span><span class="token plain">last_name</span><span class="token punctuation" style="color:rgb(153, 76, 195)">,</span><span class="token plain">d</span><span class="token punctuation" style="color:rgb(153, 76, 195)">.</span><span class="token plain">department_name</span><br></span><span class="token-line" style="color:#403f53"><span class="token plain"></span><span class="token keyword" style="color:rgb(12, 150, 155)">FROM</span><span class="token plain"> employees e </span><span class="token keyword" style="color:rgb(12, 150, 155)">RIGHT</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(12, 150, 155)">JOIN</span><span class="token plain"> departments d </span><span class="token keyword" style="color:rgb(12, 150, 155)">ON</span><span class="token plain"> e</span><span class="token punctuation" style="color:rgb(153, 76, 195)">.</span><span class="token plain">department_id </span><span class="token operator" style="color:rgb(12, 150, 155)">=</span><span class="token plain"> d</span><span class="token punctuation" style="color:rgb(153, 76, 195)">.</span><span class="token plain">department_id</span><br></span><span class="token-line" style="color:#403f53"><span class="token plain"></span><span class="token keyword" style="color:rgb(12, 150, 155)">WHERE</span><span class="token plain"> e</span><span class="token punctuation" style="color:rgb(153, 76, 195)">.</span><span class="token plain">department_id </span><span class="token operator" style="color:rgb(12, 150, 155)">IS</span><span class="token plain"> </span><span class="token boolean" style="color:rgb(188, 84, 84)">NULL</span><br></span></code></pre><div class="buttonGroup_6DOT"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_FhaS" aria-hidden="true"><svg class="copyButtonIcon_phi_" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_FfTR" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></li></ul><p><img loading="lazy" alt="image-20220326152435783" src="/assets/images/image-20220326152435783-7e7680dd2a66641fc18fc5252a4340a3.png" width="727" height="575" class="img_CujE"></p><h3 class="anchor anchorWithStickyNavbar_loeA" id="sql99语法新特性">SQL99语法新特性<a class="hash-link" href="#sql99语法新特性" title="标题的直接链接">​</a></h3><h4 class="anchor anchorWithStickyNavbar_loeA" id="自然连接">自然连接<a class="hash-link" href="#自然连接" title="标题的直接链接">​</a></h4><ul><li><p><code>NATURAL JOIN</code></p><ul><li>可以把自然连接理解为 SQL92 中的<code>等值连接</code>，它会帮你<strong>自动查询两张连接表中 所有相同的字段 ，然后进行 等值连接 </strong></li></ul><div class="language-sql codeBlockContainer_APcc theme-code-block" style="--prism-color:#403f53;--prism-background-color:#FBFBFB"><div class="codeBlockContent_m3Ux"><pre tabindex="0" class="prism-code language-sql codeBlock_qGQc thin-scrollbar"><code class="codeBlockLines_p187"><span class="token-line" style="color:#403f53"><span class="token comment" style="color:rgb(152, 159, 177);font-style:normal">-- SQL92中的写法</span><span class="token plain"></span><br></span><span class="token-line" style="color:#403f53"><span class="token plain"></span><span class="token keyword" style="color:rgb(12, 150, 155)">SELECT</span><span class="token plain"> e</span><span class="token punctuation" style="color:rgb(153, 76, 195)">.</span><span class="token plain">employee_id</span><span class="token punctuation" style="color:rgb(153, 76, 195)">,</span><span class="token plain">e</span><span class="token punctuation" style="color:rgb(153, 76, 195)">.</span><span class="token plain">last_name</span><span class="token punctuation" style="color:rgb(153, 76, 195)">,</span><span class="token plain">d</span><span class="token punctuation" style="color:rgb(153, 76, 195)">.</span><span class="token plain">department_name </span><br></span><span class="token-line" style="color:#403f53"><span class="token plain"></span><span class="token keyword" style="color:rgb(12, 150, 155)">FROM</span><span class="token plain"> employees e </span><br></span><span class="token-line" style="color:#403f53"><span class="token plain"></span><span class="token keyword" style="color:rgb(12, 150, 155)">JOIN</span><span class="token plain"> departments d </span><span class="token keyword" style="color:rgb(12, 150, 155)">ON</span><span class="token plain"> e</span><span class="token punctuation" style="color:rgb(153, 76, 195)">.</span><span class="token plain">department_id </span><span class="token operator" style="color:rgb(12, 150, 155)">=</span><span class="token plain"> d</span><span class="token punctuation" style="color:rgb(153, 76, 195)">.</span><span class="token plain">department_idAND e</span><span class="token punctuation" style="color:rgb(153, 76, 195)">.</span><span class="token plain">manager_id </span><span class="token operator" style="color:rgb(12, 150, 155)">=</span><span class="token plain"> d</span><span class="token punctuation" style="color:rgb(153, 76, 195)">.</span><span class="token plain">manager_id</span><span class="token punctuation" style="color:rgb(153, 76, 195)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#403f53"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#403f53"><span class="token plain"></span><span class="token comment" style="color:rgb(152, 159, 177);font-style:normal">-- SQL99的写法</span><span class="token plain"></span><br></span><span class="token-line" style="color:#403f53"><span class="token plain"></span><span class="token keyword" style="color:rgb(12, 150, 155)">SELECT</span><span class="token plain"> employee_id</span><span class="token punctuation" style="color:rgb(153, 76, 195)">,</span><span class="token plain">last_name</span><span class="token punctuation" style="color:rgb(153, 76, 195)">,</span><span class="token plain">department_name </span><br></span><span class="token-line" style="color:#403f53"><span class="token plain"></span><span class="token keyword" style="color:rgb(12, 150, 155)">FROM</span><span class="token plain"> employees e </span><br></span><span class="token-line" style="color:#403f53"><span class="token plain"></span><span class="token keyword" style="color:rgb(12, 150, 155)">NATURAL</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(12, 150, 155)">JOIN</span><span class="token plain"> departments d</span><span class="token punctuation" style="color:rgb(153, 76, 195)">;</span><br></span></code></pre><div class="buttonGroup_6DOT"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_FhaS" aria-hidden="true"><svg class="copyButtonIcon_phi_" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_FfTR" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></li></ul><h4 class="anchor anchorWithStickyNavbar_loeA" id="using连接">USING连接<a class="hash-link" href="#using连接" title="标题的直接链接">​</a></h4><ul><li><p><code>USING</code></p><ul><li><code>指定数据表里的 同名字段 进行等值连接</code>，<strong>但是只能配合JOIN一起使用</strong></li><li>与自然连接 NATURAL JOIN 不同的是，USING 指定了具体的相同的字段名称，需要在 USING 的括号()中填入要指定的同名字段</li></ul><div class="language-sql codeBlockContainer_APcc theme-code-block" style="--prism-color:#403f53;--prism-background-color:#FBFBFB"><div class="codeBlockContent_m3Ux"><pre tabindex="0" class="prism-code language-sql codeBlock_qGQc thin-scrollbar"><code class="codeBlockLines_p187"><span class="token-line" style="color:#403f53"><span class="token comment" style="color:rgb(152, 159, 177);font-style:normal">-- 使用USING连接</span><span class="token plain"></span><br></span><span class="token-line" style="color:#403f53"><span class="token plain"></span><span class="token keyword" style="color:rgb(12, 150, 155)">SELECT</span><span class="token plain"> employee_id</span><span class="token punctuation" style="color:rgb(153, 76, 195)">,</span><span class="token plain">last_name</span><span class="token punctuation" style="color:rgb(153, 76, 195)">,</span><span class="token plain">department_name </span><br></span><span class="token-line" style="color:#403f53"><span class="token plain"></span><span class="token keyword" style="color:rgb(12, 150, 155)">FROM</span><span class="token plain"> employees e </span><br></span><span class="token-line" style="color:#403f53"><span class="token plain"></span><span class="token keyword" style="color:rgb(12, 150, 155)">JOIN</span><span class="token plain"> departments d </span><span class="token keyword" style="color:rgb(12, 150, 155)">USING</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(153, 76, 195)">(</span><span class="token plain">department_id</span><span class="token punctuation" style="color:rgb(153, 76, 195)">)</span><span class="token punctuation" style="color:rgb(153, 76, 195)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#403f53"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#403f53"><span class="token plain"></span><span class="token comment" style="color:rgb(152, 159, 177);font-style:normal">-- 与之等效的SQL</span><span class="token plain"></span><br></span><span class="token-line" style="color:#403f53"><span class="token plain"></span><span class="token keyword" style="color:rgb(12, 150, 155)">SELECT</span><span class="token plain"> employee_id</span><span class="token punctuation" style="color:rgb(153, 76, 195)">,</span><span class="token plain">last_name</span><span class="token punctuation" style="color:rgb(153, 76, 195)">,</span><span class="token plain">department_name </span><br></span><span class="token-line" style="color:#403f53"><span class="token plain"></span><span class="token keyword" style="color:rgb(12, 150, 155)">FROM</span><span class="token plain"> employees e</span><span class="token punctuation" style="color:rgb(153, 76, 195)">,</span><span class="token plain"> departments d</span><br></span><span class="token-line" style="color:#403f53"><span class="token plain"></span><span class="token keyword" style="color:rgb(12, 150, 155)">WHERE</span><span class="token plain"> e</span><span class="token punctuation" style="color:rgb(153, 76, 195)">.</span><span class="token plain">department_id </span><span class="token operator" style="color:rgb(12, 150, 155)">=</span><span class="token plain"> d</span><span class="token punctuation" style="color:rgb(153, 76, 195)">.</span><span class="token plain">department_id</span><span class="token punctuation" style="color:rgb(153, 76, 195)">;</span><br></span></code></pre><div class="buttonGroup_6DOT"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_FhaS" aria-hidden="true"><svg class="copyButtonIcon_phi_" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_FfTR" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></li></ul><h2 class="anchor anchorWithStickyNavbar_loeA" id="总结">总结<a class="hash-link" href="#总结" title="标题的直接链接">​</a></h2><p>表连接的约束条件可以有三种方式: <strong>WHERE, ON, USING</strong></p><ul><li><p><code>WHERE</code> </p><ul><li>适用于所有关联查询</li></ul></li><li><p><code>ON</code></p><ul><li>只能和 JOIN 一起使用，只能写关联条件。</li><li>虽然关联条件可以并到 WHERE 中和其他条件一起写，但分开写可读性更好</li></ul></li><li><p><code>USING</code></p><ul><li>只能和 JOIN 一起使用，而且要求 <strong>两个</strong> 关联字段在关联表中名称一致，而且只能表示关联字段值相等</li></ul></li></ul><div class="theme-admonition theme-admonition-danger alert alert--danger admonition_WoCw"><div class="admonitionHeading_TMsN"><span class="admonitionIcon_Ibzs"><svg viewBox="0 0 12 16"><path fill-rule="evenodd" d="M5.05.31c.81 2.17.41 3.38-.52 4.31C3.55 5.67 1.98 6.45.9 7.98c-1.45 2.05-1.7 6.53 3.53 7.7-2.2-1.16-2.67-4.52-.3-6.61-.61 2.03.53 3.33 1.94 2.86 1.39-.47 2.3.53 2.27 1.67-.02.78-.31 1.44-1.13 1.81 3.42-.59 4.78-3.42 4.78-5.56 0-2.84-2.53-3.22-1.25-5.61-1.52.13-2.03 1.13-1.89 2.75.09 1.08-1.02 1.8-1.86 1.33-.67-.41-.66-1.19-.06-1.78C8.18 5.31 8.68 2.45 5.05.32L5.03.3l.02.01z"></path></svg></span>注意</div><div class="admonitionContent_vXIg"><ul><li><p><code>需要控制连接表的数量 </code></p><ul><li>多表连接就相当于嵌套 for 循环一样，非常消耗资源，会让 SQL 查询性能下 降得很严重因此不要连接不必要的表</li><li>在许多 DBMS 中，也都会有最大连接表的限制</li></ul></li><li><p>阿里开发规约:</p><ul><li>【强制】超过三个表禁止 join。需要 join 的字段，数据类型保持绝对一致;多表关联查询时,保证被关联的字段需要有索引</li><li>即使双表 join 也要注意表索引、SQL 性能</li></ul></li></ul></div></div><h2 class="anchor anchorWithStickyNavbar_loeA" id="练习">练习<a class="hash-link" href="#练习" title="标题的直接链接">​</a></h2><p><strong>1. 选择所有有奖金的员工的 last_name , department_name , location_id , city</strong> </p><div class="language-sql codeBlockContainer_APcc theme-code-block" style="--prism-color:#403f53;--prism-background-color:#FBFBFB"><div class="codeBlockContent_m3Ux"><pre tabindex="0" class="prism-code language-sql codeBlock_qGQc thin-scrollbar"><code class="codeBlockLines_p187"><span class="token-line" style="color:#403f53"><span class="token comment" style="color:rgb(152, 159, 177);font-style:normal">/**</span><br></span><span class="token-line" style="color:#403f53"><span class="token comment" style="color:rgb(152, 159, 177);font-style:normal"> * 选择所有有奖金的员工的 last_name , department_name , location_id , city</span><br></span><span class="token-line" style="color:#403f53"><span class="token comment" style="color:rgb(152, 159, 177);font-style:normal"> * 有一个员工没有部门，那么在locations表中也没有相对应的记录,但是他是有奖金的</span><br></span><span class="token-line" style="color:#403f53"><span class="token comment" style="color:rgb(152, 159, 177);font-style:normal"> *          -&gt; 所以需要使用左连接，并且两张关联的表都需要</span><br></span><span class="token-line" style="color:#403f53"><span class="token comment" style="color:rgb(152, 159, 177);font-style:normal"> */</span><span class="token plain"></span><br></span><span class="token-line" style="color:#403f53"><span class="token plain"></span><span class="token keyword" style="color:rgb(12, 150, 155)">SELECT</span><span class="token plain"> emp</span><span class="token punctuation" style="color:rgb(153, 76, 195)">.</span><span class="token plain">last_name </span><span class="token punctuation" style="color:rgb(153, 76, 195)">,</span><span class="token plain"> dept</span><span class="token punctuation" style="color:rgb(153, 76, 195)">.</span><span class="token plain">department_name </span><span class="token punctuation" style="color:rgb(153, 76, 195)">,</span><span class="token plain"> dept</span><span class="token punctuation" style="color:rgb(153, 76, 195)">.</span><span class="token plain">location_id </span><span class="token punctuation" style="color:rgb(153, 76, 195)">,</span><span class="token plain"> loc</span><span class="token punctuation" style="color:rgb(153, 76, 195)">.</span><span class="token plain">city</span><br></span><span class="token-line" style="color:#403f53"><span class="token plain"></span><span class="token keyword" style="color:rgb(12, 150, 155)">FROM</span><span class="token plain">  employees </span><span class="token keyword" style="color:rgb(12, 150, 155)">AS</span><span class="token plain"> emp </span><br></span><span class="token-line" style="color:#403f53"><span class="token plain">    </span><span class="token keyword" style="color:rgb(12, 150, 155)">LEFT</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(12, 150, 155)">JOIN</span><span class="token plain"> departments </span><span class="token keyword" style="color:rgb(12, 150, 155)">AS</span><span class="token plain"> dept </span><span class="token keyword" style="color:rgb(12, 150, 155)">ON</span><span class="token plain"> emp</span><span class="token punctuation" style="color:rgb(153, 76, 195)">.</span><span class="token plain">department_id </span><span class="token operator" style="color:rgb(12, 150, 155)">=</span><span class="token plain"> dept</span><span class="token punctuation" style="color:rgb(153, 76, 195)">.</span><span class="token plain">department_id </span><br></span><span class="token-line" style="color:#403f53"><span class="token plain">    </span><span class="token keyword" style="color:rgb(12, 150, 155)">LEFT</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(12, 150, 155)">JOIN</span><span class="token plain"> locations </span><span class="token keyword" style="color:rgb(12, 150, 155)">AS</span><span class="token plain"> loc </span><span class="token keyword" style="color:rgb(12, 150, 155)">ON</span><span class="token plain"> dept</span><span class="token punctuation" style="color:rgb(153, 76, 195)">.</span><span class="token plain">location_id </span><span class="token operator" style="color:rgb(12, 150, 155)">=</span><span class="token plain"> loc</span><span class="token punctuation" style="color:rgb(153, 76, 195)">.</span><span class="token plain">location_id </span><br></span><span class="token-line" style="color:#403f53"><span class="token plain"></span><span class="token keyword" style="color:rgb(12, 150, 155)">WHERE</span><span class="token plain"> emp</span><span class="token punctuation" style="color:rgb(153, 76, 195)">.</span><span class="token plain">commission_pct </span><span class="token operator" style="color:rgb(12, 150, 155)">IS</span><span class="token plain"> </span><span class="token operator" style="color:rgb(12, 150, 155)">NOT</span><span class="token plain"> </span><span class="token boolean" style="color:rgb(188, 84, 84)">NULL</span><span class="token plain"> </span><br></span><span class="token-line" style="color:#403f53"><span class="token plain" style="display:inline-block"></span><br></span></code></pre><div class="buttonGroup_6DOT"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_FhaS" aria-hidden="true"><svg class="copyButtonIcon_phi_" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_FfTR" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p><img loading="lazy" alt="image-20220410155714529" src="/assets/images/image-20220410155714529-2ccc4ed785de1d58799d3c2dad19e27d.png" width="1463" height="962" class="img_CujE"></p><p><strong>2.查询哪些部门没有员工</strong></p><div class="language-sql codeBlockContainer_APcc theme-code-block" style="--prism-color:#403f53;--prism-background-color:#FBFBFB"><div class="codeBlockContent_m3Ux"><pre tabindex="0" class="prism-code language-sql codeBlock_qGQc thin-scrollbar"><code class="codeBlockLines_p187"><span class="token-line" style="color:#403f53"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#403f53"><span class="token plain"></span><span class="token comment" style="color:rgb(152, 159, 177);font-style:normal">/**</span><br></span><span class="token-line" style="color:#403f53"><span class="token comment" style="color:rgb(152, 159, 177);font-style:normal"> * 查询哪些部门没有员工</span><br></span><span class="token-line" style="color:#403f53"><span class="token comment" style="color:rgb(152, 159, 177);font-style:normal"> * </span><br></span><span class="token-line" style="color:#403f53"><span class="token comment" style="color:rgb(152, 159, 177);font-style:normal"> */</span><span class="token plain"></span><br></span><span class="token-line" style="color:#403f53"><span class="token plain"></span><span class="token keyword" style="color:rgb(12, 150, 155)">SELECT</span><span class="token plain"> d</span><span class="token punctuation" style="color:rgb(153, 76, 195)">.</span><span class="token operator" style="color:rgb(12, 150, 155)">*</span><span class="token plain"></span><br></span><span class="token-line" style="color:#403f53"><span class="token plain"></span><span class="token keyword" style="color:rgb(12, 150, 155)">FROM</span><span class="token plain"> departments </span><span class="token keyword" style="color:rgb(12, 150, 155)">AS</span><span class="token plain"> d </span><br></span><span class="token-line" style="color:#403f53"><span class="token plain">    </span><span class="token keyword" style="color:rgb(12, 150, 155)">LEFT</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(12, 150, 155)">JOIN</span><span class="token plain"> employees </span><span class="token keyword" style="color:rgb(12, 150, 155)">AS</span><span class="token plain"> e </span><span class="token keyword" style="color:rgb(12, 150, 155)">ON</span><span class="token plain"> d</span><span class="token punctuation" style="color:rgb(153, 76, 195)">.</span><span class="token plain">department_id </span><span class="token operator" style="color:rgb(12, 150, 155)">=</span><span class="token plain">e</span><span class="token punctuation" style="color:rgb(153, 76, 195)">.</span><span class="token plain">department_id </span><br></span><span class="token-line" style="color:#403f53"><span class="token plain"></span><span class="token keyword" style="color:rgb(12, 150, 155)">WHERE</span><span class="token plain">  e</span><span class="token punctuation" style="color:rgb(153, 76, 195)">.</span><span class="token plain">department_id </span><span class="token operator" style="color:rgb(12, 150, 155)">IS</span><span class="token plain"> </span><span class="token boolean" style="color:rgb(188, 84, 84)">NULL</span><span class="token plain"> </span><br></span><span class="token-line" style="color:#403f53"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#403f53"><span class="token plain"></span><span class="token comment" style="color:rgb(152, 159, 177);font-style:normal">/*</span><br></span><span class="token-line" style="color:#403f53"><span class="token comment" style="color:rgb(152, 159, 177);font-style:normal"> *  子查询的方式</span><br></span><span class="token-line" style="color:#403f53"><span class="token comment" style="color:rgb(152, 159, 177);font-style:normal"> *  解析： e.department_id = d.department_id 的条件是说明这个部门有员工，NOT EXISTS就是把满足条件的从结果集剔除</span><br></span><span class="token-line" style="color:#403f53"><span class="token comment" style="color:rgb(152, 159, 177);font-style:normal"> */</span><span class="token plain"></span><br></span><span class="token-line" style="color:#403f53"><span class="token plain"> </span><span class="token keyword" style="color:rgb(12, 150, 155)">SELECT</span><span class="token plain"> department_id </span><br></span><span class="token-line" style="color:#403f53"><span class="token plain"> </span><span class="token keyword" style="color:rgb(12, 150, 155)">FROM</span><span class="token plain">  departments </span><span class="token keyword" style="color:rgb(12, 150, 155)">AS</span><span class="token plain"> d </span><br></span><span class="token-line" style="color:#403f53"><span class="token plain"> </span><span class="token keyword" style="color:rgb(12, 150, 155)">WHERE</span><span class="token plain">  </span><span class="token operator" style="color:rgb(12, 150, 155)">NOT</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(12, 150, 155)">EXISTS</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(153, 76, 195)">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:#403f53"><span class="token plain">   </span><span class="token keyword" style="color:rgb(12, 150, 155)">SELECT</span><span class="token plain"> </span><span class="token operator" style="color:rgb(12, 150, 155)">*</span><span class="token plain"> </span><br></span><span class="token-line" style="color:#403f53"><span class="token plain">   </span><span class="token keyword" style="color:rgb(12, 150, 155)">FROM</span><span class="token plain"> employees </span><span class="token keyword" style="color:rgb(12, 150, 155)">AS</span><span class="token plain"> e </span><br></span><span class="token-line" style="color:#403f53"><span class="token plain">   </span><span class="token keyword" style="color:rgb(12, 150, 155)">WHERE</span><span class="token plain"> e</span><span class="token punctuation" style="color:rgb(153, 76, 195)">.</span><span class="token plain">department_id </span><span class="token operator" style="color:rgb(12, 150, 155)">=</span><span class="token plain"> d</span><span class="token punctuation" style="color:rgb(153, 76, 195)">.</span><span class="token plain">department_id</span><br></span><span class="token-line" style="color:#403f53"><span class="token plain"> </span><span class="token punctuation" style="color:rgb(153, 76, 195)">)</span><br></span></code></pre><div class="buttonGroup_6DOT"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_FhaS" aria-hidden="true"><svg class="copyButtonIcon_phi_" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_FfTR" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="theme-doc-footer-edit-meta-row row"><div class="col"><a href="https://github.com/MagicalZhu/NoteLib/tree/main/docs/Mysql/基础/MySQL基础.md" target="_blank" rel="noreferrer noopener" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_N_05" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>编辑此页</a></div><div class="col lastUpdated_VsjB"><span class="theme-last-updated">最后<!-- -->由 <b>YuLiang Zhu</b> <!-- -->于 <b><time datetime="2022-12-06T01:19:52.000Z">2022年12月6日</time></b> <!-- -->更新</span></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="文档分页导航"><a class="pagination-nav__link pagination-nav__link--prev" href="/docs/category/基础知识"><div class="pagination-nav__sublabel">上一页</div><div class="pagination-nav__label">基础知识</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/docs/Mysql/基础/MySQL函数与聚合"><div class="pagination-nav__sublabel">下一页</div><div class="pagination-nav__label">MySQL函数与聚合</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_jeP5 thin-scrollbar theme-doc-toc-desktop"><p class="content_nRws">Contents</p><ul class="table-of-contents table-of-contents__left-border"><li><a href="#表的关联关系" class="table-of-contents__link toc-highlight">表的关联关系</a><ul><li><a href="#一对一" class="table-of-contents__link toc-highlight">一对一</a></li><li><a href="#一对多" class="table-of-contents__link toc-highlight">一对多</a></li><li><a href="#多对多" class="table-of-contents__link toc-highlight">多对多</a></li><li><a href="#自我引用" class="table-of-contents__link toc-highlight">自我引用</a></li></ul></li><li><a href="#mysql简单使用" class="table-of-contents__link toc-highlight">MySQL简单使用</a><ul><li><a href="#基础命令" class="table-of-contents__link toc-highlight">基础命令</a></li><li><a href="#字符集问题的处理" class="table-of-contents__link toc-highlight">字符集问题的处理</a></li><li><a href="#mysql目录结构win版本" class="table-of-contents__link toc-highlight">MySQL目录结构(Win版本)</a></li></ul></li><li><a href="#sql概述" class="table-of-contents__link toc-highlight">SQL概述</a><ul><li><a href="#sql分类" class="table-of-contents__link toc-highlight">SQL分类</a></li><li><a href="#sql规则" class="table-of-contents__link toc-highlight">SQL规则</a></li></ul></li><li><a href="#基本select语句" class="table-of-contents__link toc-highlight">基本Select语句</a></li><li><a href="#运算符" class="table-of-contents__link toc-highlight">运算符</a><ul><li><a href="#算术运算符" class="table-of-contents__link toc-highlight">算术运算符</a></li><li><a href="#比较运算符" class="table-of-contents__link toc-highlight">比较运算符</a><ul><li><a href="#等号运算符" class="table-of-contents__link toc-highlight">等号运算符</a></li><li><a href="#非符号运算符" class="table-of-contents__link toc-highlight">非符号运算符</a></li><li><a href="#逻辑运算符" class="table-of-contents__link toc-highlight">逻辑运算符</a></li></ul></li></ul></li><li><a href="#排序" class="table-of-contents__link toc-highlight">排序</a></li><li><a href="#分页" class="table-of-contents__link toc-highlight">分页</a></li><li><a href="#多表查询" class="table-of-contents__link toc-highlight">多表查询</a><ul><li><a href="#笛卡尔积" class="table-of-contents__link toc-highlight">笛卡尔积</a><ul><li><a href="#笛卡尔积的问题" class="table-of-contents__link toc-highlight">笛卡尔积的问题</a></li></ul></li><li><a href="#多表连接查询分类" class="table-of-contents__link toc-highlight">多表连接查询分类</a><ul><li><a href="#等值连接" class="table-of-contents__link toc-highlight">等值连接</a></li><li><a href="#非等值连接" class="table-of-contents__link toc-highlight">非等值连接</a></li><li><a href="#自连接" class="table-of-contents__link toc-highlight">自连接</a></li><li><a href="#内连接与外连接" class="table-of-contents__link toc-highlight">内连接与外连接</a></li></ul></li><li><a href="#sql99-实现多表查询" class="table-of-contents__link toc-highlight">SQL99 实现多表查询</a><ul><li><a href="#基础语法" class="table-of-contents__link toc-highlight">基础语法</a></li><li><a href="#内连接inner-join的实现" class="table-of-contents__link toc-highlight">内连接(INNER JOIN)的实现</a></li><li><a href="#外连接的实现" class="table-of-contents__link toc-highlight">外连接的实现</a><ul><li><a href="#左外连接" class="table-of-contents__link toc-highlight">左(外)连接</a></li><li><a href="#右外连接" class="table-of-contents__link toc-highlight">右(外)连接</a></li><li><a href="#满外连接" class="table-of-contents__link toc-highlight">满外连接</a></li></ul></li><li><a href="#union" class="table-of-contents__link toc-highlight">UNION</a></li></ul></li><li><a href="#七种join理论" class="table-of-contents__link toc-highlight">七种JOIN理论</a></li><li><a href="#sql99语法新特性" class="table-of-contents__link toc-highlight">SQL99语法新特性</a><ul><li><a href="#自然连接" class="table-of-contents__link toc-highlight">自然连接</a></li><li><a href="#using连接" class="table-of-contents__link toc-highlight">USING连接</a></li></ul></li></ul></li><li><a href="#总结" class="table-of-contents__link toc-highlight">总结</a></li><li><a href="#练习" class="table-of-contents__link toc-highlight">练习</a></li></ul></div></div></div></div></main></div></div><footer class="footer"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">前端链接</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://v3.cn.vuejs.org/" target="_blank" rel="noopener noreferrer" class="footer__link-item">Vue<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_2l9O"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://react.docschina.org/" target="_blank" rel="noopener noreferrer" class="footer__link-item">React<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_2l9O"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="http://ts.xcatliu.com/" target="_blank" rel="noopener noreferrer" class="footer__link-item">TypeScript<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_2l9O"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://developer.mozilla.org/zh-CN/docs/Web" target="_blank" rel="noopener noreferrer" class="footer__link-item">MDN<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_2l9O"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div><div class="col footer__col"><div class="footer__title">后端链接</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://spring.io/" target="_blank" rel="noopener noreferrer" class="footer__link-item">Spring<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_2l9O"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://docs.docker.com/get-started/" target="_blank" rel="noopener noreferrer" class="footer__link-item">Docker<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_2l9O"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://kubernetes.io/zh/docs/home/" target="_blank" rel="noopener noreferrer" class="footer__link-item">Kubernetes<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_2l9O"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://docs.oracle.com/javase/8/docs/technotes/tools/windows/index.html" target="_blank" rel="noopener noreferrer" class="footer__link-item">JVM<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_2l9O"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div><div class="col footer__col"><div class="footer__title">社区</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://juejin.cn" target="_blank" rel="noopener noreferrer" class="footer__link-item">掘金<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_2l9O"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://www.infoq.cn/" target="_blank" rel="noopener noreferrer" class="footer__link-item">InfoQ<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_2l9O"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://github.com/" target="_blank" rel="noopener noreferrer" class="footer__link-item">Github<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_2l9O"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div><div class="col footer__col"><div class="footer__title">文档构建</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://www.docusaurus.cn/" target="_blank" rel="noopener noreferrer" class="footer__link-item">Docusaurus<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_2l9O"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://typoraio.cn" target="_blank" rel="noopener noreferrer" class="footer__link-item">Typora<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_2l9O"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2022 huakucha. Built With Docusaurus.</div></div></div></footer></div>
<script src="/assets/js/runtime~main.bf86732a.js"></script>
<script src="/assets/js/main.98457ee6.js"></script>
</body>
</html>