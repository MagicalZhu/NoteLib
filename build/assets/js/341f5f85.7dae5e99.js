"use strict";(self.webpackChunkhuakucha=self.webpackChunkhuakucha||[]).push([[5951],{88079:(e,n,a)=>{a.r(n),a.d(n,{assets:()=>p,contentTitle:()=>i,default:()=>c,frontMatter:()=>l,metadata:()=>o,toc:()=>s});var t=a(87462),r=(a(67294),a(3905));a(61839);const l={id:"IOC\u5bb9\u5668",title:"IOC\u5bb9\u5668"},i=void 0,o={unversionedId:"Spring/Spring\u7f16\u7a0b\u601d\u60f3/IOC\u5bb9\u5668",id:"Spring/Spring\u7f16\u7a0b\u601d\u60f3/IOC\u5bb9\u5668",title:"IOC\u5bb9\u5668",description:"1. IOC \u7684\u4e3b\u8981\u5b9e\u73b0",source:"@site/docs/Spring/Spring\u7f16\u7a0b\u601d\u60f3/1.1IOC.md",sourceDirName:"Spring/Spring\u7f16\u7a0b\u601d\u60f3",slug:"/Spring/Spring\u7f16\u7a0b\u601d\u60f3/IOC\u5bb9\u5668",permalink:"/docs/Spring/Spring\u7f16\u7a0b\u601d\u60f3/IOC\u5bb9\u5668",draft:!1,editUrl:"https://github.com/MagicalZhu/NoteLib/tree/main/docs/Spring/Spring\u7f16\u7a0b\u601d\u60f3/1.1IOC.md",tags:[],version:"current",lastUpdatedBy:"YuLiang Zhu",lastUpdatedAt:1670289592,formattedLastUpdatedAt:"2022\u5e7412\u67086\u65e5",frontMatter:{id:"IOC\u5bb9\u5668",title:"IOC\u5bb9\u5668"},sidebar:"springSideBar",previous:{title:"Spring\u7f16\u7a0b\u601d\u60f3",permalink:"/docs/category/spring\u7f16\u7a0b\u601d\u60f3"},next:{title:"Bean",permalink:"/docs/Spring/Spring\u7f16\u7a0b\u601d\u60f3/Bean"}},p={},s=[{value:"1. IOC \u7684\u4e3b\u8981\u5b9e\u73b0",id:"1-ioc-\u7684\u4e3b\u8981\u5b9e\u73b0",level:2},{value:"1.1 JavaBeans \u4f20\u7edfIOC\u5bb9\u5668",id:"11-javabeans-\u4f20\u7edfioc\u5bb9\u5668",level:3},{value:"2. Spring IOC",id:"2-spring-ioc",level:2},{value:"2.1 \u4f9d\u8d56\u67e5\u627e-&gt;\u67e5\u627eBean\u5bf9\u8c61",id:"21-\u4f9d\u8d56\u67e5\u627e-\u67e5\u627ebean\u5bf9\u8c61",level:3},{value:"2.2 \u4f9d\u8d56\u6ce8\u5165-&gt;\u6ce8\u5165Bean\u4ee5\u53ca\u975eBean\u5bf9\u8c61",id:"22-\u4f9d\u8d56\u6ce8\u5165-\u6ce8\u5165bean\u4ee5\u53ca\u975ebean\u5bf9\u8c61",level:3},{value:"2.3 \u4f9d\u8d56\u7684\u6765\u6e90",id:"23-\u4f9d\u8d56\u7684\u6765\u6e90",level:3},{value:"2.4 Spring IOC \u914d\u7f6e\u5143\u4fe1\u606f",id:"24-spring-ioc-\u914d\u7f6e\u5143\u4fe1\u606f",level:3},{value:"2.5 \u8c01\u662fIOC\u5bb9\u5668\uff1f",id:"25-\u8c01\u662fioc\u5bb9\u5668",level:3},{value:"2.5.1 Spring\u5e94\u7528\u4e0a\u4e0b\u6587\u7279\u6027",id:"251-spring\u5e94\u7528\u4e0a\u4e0b\u6587\u7279\u6027",level:4},{value:"2.5.2 IOC\u5bb9\u5668\u7684\u9009\u62e9",id:"252-ioc\u5bb9\u5668\u7684\u9009\u62e9",level:4},{value:"2.6 Spring\u5e94\u7528\u4e0a\u4e0b\u6587\u5bb9\u5668\u751f\u547d\u5468\u671f",id:"26-spring\u5e94\u7528\u4e0a\u4e0b\u6587\u5bb9\u5668\u751f\u547d\u5468\u671f",level:3},{value:"2.7 BeanFactory \u4f9d\u8d56\u56fe",id:"27-beanfactory-\u4f9d\u8d56\u56fe",level:3}],m={toc:s};function c(e){let{components:n,...l}=e;return(0,r.kt)("wrapper",(0,t.Z)({},m,l,{components:n,mdxType:"MDXLayout"}),(0,r.kt)("h2",{id:"1-ioc-\u7684\u4e3b\u8981\u5b9e\u73b0"},"1. IOC \u7684\u4e3b\u8981\u5b9e\u73b0"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("strong",{parentName:"li"},"\u4e3b\u8981\u5b9e\u73b0"),(0,r.kt)("ol",{parentName:"li"},(0,r.kt)("li",{parentName:"ol"},"java SE",(0,r.kt)("ul",{parentName:"li"},(0,r.kt)("li",{parentName:"ul"},"java Beans"),(0,r.kt)("li",{parentName:"ul"},"java ServiceLoader SPI"),(0,r.kt)("li",{parentName:"ul"},"JNDI (java naming and directory interface)"))),(0,r.kt)("li",{parentName:"ol"},"java EE",(0,r.kt)("ul",{parentName:"li"},(0,r.kt)("li",{parentName:"ul"},"EJB (Enterprise Java Beans)"),(0,r.kt)("li",{parentName:"ul"},"Servlet"))),(0,r.kt)("li",{parentName:"ol"},"\u5f00\u6e90",(0,r.kt)("ul",{parentName:"li"},(0,r.kt)("li",{parentName:"ul"},"Spring"),(0,r.kt)("li",{parentName:"ul"},"Google Guice")))))),(0,r.kt)("h3",{id:"11-javabeans-\u4f20\u7edfioc\u5bb9\u5668"},"1.1 JavaBeans \u4f20\u7edfIOC\u5bb9\u5668"),(0,r.kt)("admonition",{title:"tip",type:"tip"},(0,r.kt)("p",{parentName:"admonition"},"\u4e3b\u8981\u7528\u4e8ejava awt\u56fe\u5f62\u5316\u754c\u9762\u8bbe\u8ba1")),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("mark",null,"\u7279\u6027\uff1f"),(0,r.kt)("ol",{parentName:"li"},(0,r.kt)("li",{parentName:"ol"},"\u4f9d\u8d56\u67e5\u627e"),(0,r.kt)("li",{parentName:"ol"},"\u751f\u547d\u5468\u671f\u7ba1\u7406"),(0,r.kt)("li",{parentName:"ol"},"\u914d\u7f6e\u5143\u4fe1\u606f"),(0,r.kt)("li",{parentName:"ol"},"\u4e8b\u4ef6"),(0,r.kt)("li",{parentName:"ol"},"\u81ea\u5b9a\u4e49"),(0,r.kt)("li",{parentName:"ol"},"\u8d44\u6e90\u7ba1\u7406"),(0,r.kt)("li",{parentName:"ol"},"\u6301\u4e45\u5316"))),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("mark",null,"\u5e38\u89c1\u7c7b"),(0,r.kt)("ul",{parentName:"li"},(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("font",{color:"red"},(0,r.kt)("code",null,"Introspector")," \u5185\u7701\uff0c\u7528\u4e8e\u64cd\u4f5cBean")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("font",{color:"red"},(0,r.kt)("code",null,"BeanInfo"),": Java Beans \u7684\u4fe1\u606f\uff0c\u5305\u542b\u4ee5\u4e0b\u7684\u51e0\u4e2a\u65b9\u6cd5"),(0,r.kt)("ul",{parentName:"li"},(0,r.kt)("li",{parentName:"ul"},"getBeanDescriptor(): \u83b7\u53d6Bean\u63cf\u8ff0\u7b26"),(0,r.kt)("li",{parentName:"ul"},"getEventSetDescriptors(): \u83b7\u53d6\u4e8b\u4ef6\u63cf\u8ff0\u7b26"),(0,r.kt)("li",{parentName:"ul"},"getPropertyDescriptors() : \u83b7\u53d6\u5c5e\u6027\u63cf\u8ff0\u7b26",(0,r.kt)("ul",{parentName:"li"},(0,r.kt)("li",{parentName:"ul"},"\u53ef\u5199\u3001\u53ef\u8bfb\u65b9\u6cd5\u540d"))),(0,r.kt)("li",{parentName:"ul"},"getMethodDescriptors(): \u83b7\u53d6\u65b9\u6cd5\u63cf\u8ff0\u7b26")))))),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-java"},"public class Person {\n    String name;\n    Integer age;\n\n    public String getName() {\n        return name;\n    }\n\n    public void setName(String name) {\n        this.name = name;\n    }\n\n    public Integer getAge() {\n        return age;\n    }\n\n    public void setAge(Integer age) {\n        this.age = age;\n    }\n\n    @Override\n    public String toString() {\n        return \"Person{\" +\n                \"name='\" + name + '\\'' +\n                \", age=\" + age +\n                '}';\n    }\n}\n\n\npublic class BeanInfoDemo {\n    public static void main(String[] args) throws IntrospectionException {\n        BeanInfo beanInfo = Introspector.getBeanInfo(Person.class,Object.class);\n        Stream.of(beanInfo.getPropertyDescriptors()).forEach(System.out::println);\n    }\n}\n\n/**\n\njava.beans.PropertyDescriptor[name=age; propertyType=class java.lang.Integer; readMethod=public java.lang.Integer com.geekbang.demo.BeanInfo.Person.getAge(); writeMethod=public void com.geekbang.demo.BeanInfo.Person.setAge(java.lang.Integer)]\n\njava.beans.PropertyDescriptor[name=name; propertyType=class java.lang.String; readMethod=public java.lang.String com.geekbang.demo.BeanInfo.Person.getName(); writeMethod=public void com.geekbang.demo.BeanInfo.Person.setName(java.lang.String)]\n*/\n")),(0,r.kt)("h2",{id:"2-spring-ioc"},"2. Spring IOC"),(0,r.kt)("h3",{id:"21-\u4f9d\u8d56\u67e5\u627e-\u67e5\u627ebean\u5bf9\u8c61"},"2.1 \u4f9d\u8d56\u67e5\u627e->\u67e5\u627eBean\u5bf9\u8c61"),(0,r.kt)("ol",null,(0,r.kt)("li",{parentName:"ol"},"\u6839\u636eBean\u7684 \u540d\u79f0\u67e5\u627e"),(0,r.kt)("li",{parentName:"ol"},"\u6839\u636eBean\u7684 \u7c7b\u578b\u67e5\u627e",(0,r.kt)("ul",{parentName:"li"},(0,r.kt)("li",{parentName:"ul"},"\u5355\u4e2aBean\u5bf9\u8c61"),(0,r.kt)("li",{parentName:"ul"},"\u96c6\u5408Bean\u5bf9\u8c61"))),(0,r.kt)("li",{parentName:"ol"},"\u6839\u636eBean \u540d\u79f0+\u7c7b\u578b\u67e5\u627e"),(0,r.kt)("li",{parentName:"ol"},"\u6839\u636eJava\u6ce8\u89e3\u67e5\u627e",(0,r.kt)("ul",{parentName:"li"},(0,r.kt)("li",{parentName:"ul"},"\u5355\u4e2aBean\u5bf9\u8c61"),(0,r.kt)("li",{parentName:"ul"},"\u96c6\u5408Bean\u5bf9\u8c61")))),(0,r.kt)("h3",{id:"22-\u4f9d\u8d56\u6ce8\u5165-\u6ce8\u5165bean\u4ee5\u53ca\u975ebean\u5bf9\u8c61"},"2.2 \u4f9d\u8d56\u6ce8\u5165->\u6ce8\u5165Bean\u4ee5\u53ca\u975eBean\u5bf9\u8c61"),(0,r.kt)("ol",null,(0,r.kt)("li",{parentName:"ol"},"\u6839\u636eBean\u7684\u540d\u79f0\u6ce8\u5165"),(0,r.kt)("li",{parentName:"ol"},"\u6839\u636eBean\u7684\u7c7b\u578b\u6ce8\u5165",(0,r.kt)("ul",{parentName:"li"},(0,r.kt)("li",{parentName:"ul"},"\u5355\u4e2aBean\u5bf9\u8c61"),(0,r.kt)("li",{parentName:"ul"},"\u96c6\u5408Bean\u5bf9\u8c61"))),(0,r.kt)("li",{parentName:"ol"},"\u6ce8\u5165\u5bb9\u5668\u5185\u5efa Bean\u5bf9\u8c61 \u4e0e \u975eBean\u5bf9\u8c61",(0,r.kt)("ul",{parentName:"li"},(0,r.kt)("li",{parentName:"ul"},"\u5185\u5efaBean",(0,r.kt)("ul",{parentName:"li"},(0,r.kt)("li",{parentName:"ul"},"\u6bd4\u5982:environment\u3001systemProperties\u3001messageSource\u3001applicationEventMulticaster..."))),(0,r.kt)("li",{parentName:"ul"},"\u975eBean\u5bf9\u8c61",(0,r.kt)("ul",{parentName:"li"},(0,r.kt)("li",{parentName:"ul"},"\u6bd4\u5982: BeanFactory\u3001ResourceLoader\u3001ApplicationEventPublisher"))))),(0,r.kt)("li",{parentName:"ol"},"\u6ce8\u5165\u7c7b\u578b",(0,r.kt)("ul",{parentName:"li"},(0,r.kt)("li",{parentName:"ul"},"\u5b9e\u65f6\u6ce8\u5165"),(0,r.kt)("li",{parentName:"ul"},"\u5ef6\u8fdf\u6ce8\u5165")))),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},"\u65b9\u5f0f1. \u624b\u52a8\u6ce8\u5165")),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-xml"},'<?xml version="1.0" encoding="UTF-8"?>\n<beans xmlns="http://www.springframework.org/schema/beans"\n       xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:util="http://www.springframework.org/schema/util"\n       xsi:schemaLocation="http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd http://www.springframework.org/schema/util https://www.springframework.org/schema/util/spring-util.xsd">\n    \n    \x3c!-- Bean\u7684\u540d\u79f0\u6ce8\u5165 --\x3e\n    <bean id="person" class="com.geekbang.demo.BeanInfo.Person" >\n        <property name="age" value="18"/>\n        <property name="name" value="yoey"/>\n    </bean>\n    <bean id="person2" class="com.geekbang.demo.BeanInfo.Person" >\n        <property name="age" value="18"/>\n        <property name="name" value="yoey2"/>\n    </bean>\n    <bean id="school" class="com.geekbang.demo.BeanInfo.School">\n        <property name="name" value="cz"/>\n        <property name="address" value="cz"/>\n    </bean>\n        \n  \x3c!-- \u96c6\u5408Bean \u7684\u6ce8\u5165 --\x3e\n    <bean id="userRepo" class="com.geekbang.demo.repository.UserRepository">\n        <property name="users">\n            <util:list id="user1">\n                <ref bean="person"/>\n                <ref bean="person2"/>\n            </util:list>\n        </property>\n    </bean>\n</beans>\n')),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},"\u65b9\u5f0f2. \u81ea\u52a8\u6ce8\u5165 autowire")),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-xml"},'<?xml version="1.0" encoding="UTF-8"?>\n<beans xmlns="http://www.springframework.org/schema/beans"\n       xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:util="http://www.springframework.org/schema/util"\n       xsi:schemaLocation="http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd http://www.springframework.org/schema/util https://www.springframework.org/schema/util/spring-util.xsd">\n    <bean id="person2" class="com.geekbang.demo.BeanInfo.Person" >\n        <property name="age" value="18"/>\n        <property name="name" value="yoey2"/>\n    </bean>\n    <bean id="person" class="com.geekbang.demo.BeanInfo.Person" >\n        <property name="age" value="18"/>\n        <property name="name" value="yoey"/>\n    </bean>\n    <bean id="school" class="com.geekbang.demo.BeanInfo.School">\n        <property name="name" value="cz"/>\n        <property name="address" value="cz"/>\n    </bean>\n\n    \x3c!-- \u81ea\u52a8\u6ce8\u5165\uff08\u901a\u8fc7\u7c7b\u578b\uff09 --\x3e\n    <bean id="userRepo" class="com.geekbang.demo.repository.UserRepository" autowire="byType">\n    </bean>\n</beans>\n')),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},"\u65b9\u5f0f3. \u6ce8\u5165\u5bb9\u5668\u5185\u5efaBean\u5bf9\u8c61\u4e0e \u975eBean\u5bf9\u8c61")),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-java"},"public class UserRepository {\n    /**\n     * \u96c6\u5408\n     */\n    private List<Person>   users;\n    private String name;\n    private School school;\n\n    /**\n     * \u975eBean \u5bf9\u8c61 \n     *  \u5176\u4e2d ResourceLoader\u3001ApplicationEventPublisher\u3001ApplicationContext \u90fd\u662fSpring\u5e94\u7528\u4e0a\u4e0b\u6587\u672c\u8eab\n     *  beanFactory = ApplicationContext.getBeanFactory()\n     */\n    private BeanFactory beanFactory;\n    private ResourceLoader resourceLoader; \n    private ApplicationEventPublisher applicationEventPublisher;\n    private ApplicationContext applicationContext;\n\n    /**\n     * \u5185\u5efaBean\n     */\n    private Environment environment;\n\n     // getter\u3001setter...\n}\n")),(0,r.kt)("h3",{id:"23-\u4f9d\u8d56\u7684\u6765\u6e90"},"2.3 \u4f9d\u8d56\u7684\u6765\u6e90"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("font",{color:"red"},"\u81ea\u5b9a\u4e49\u7684Bean")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("font",{color:"red"},"\u5bb9\u5668\u5185\u5efa Bean\u5bf9\u8c61"),(0,r.kt)("ul",{parentName:"li"},(0,r.kt)("li",{parentName:"ul"},"\u6bd4\u5982 Environment"))),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("font",{color:"red"},"\u5bb9\u5668\u5185\u5efa\u4f9d\u8d56(\u975eBean\u5bf9\u8c61)"),(0,r.kt)("ul",{parentName:"li"},(0,r.kt)("li",{parentName:"ul"},"\u6bd4\u5982BeanFactory")))),(0,r.kt)("h3",{id:"24-spring-ioc-\u914d\u7f6e\u5143\u4fe1\u606f"},"2.4 Spring IOC \u914d\u7f6e\u5143\u4fe1\u606f"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"Bean\u5b9a\u4e49\u4fe1\u606f",(0,r.kt)("ul",{parentName:"li"},(0,r.kt)("li",{parentName:"ul"},"\u57fa\u4e8eXMl"),(0,r.kt)("li",{parentName:"ul"},"\u57fa\u4e8eProperties \u6587\u4ef6"),(0,r.kt)("li",{parentName:"ul"},"\u57fa\u4e8e Java\u6ce8\u89e3"),(0,r.kt)("li",{parentName:"ul"},"\u57fa\u4e8e Java Api"))),(0,r.kt)("li",{parentName:"ul"},"IOC \u914d\u7f6e\u4fe1\u606f",(0,r.kt)("ul",{parentName:"li"},(0,r.kt)("li",{parentName:"ul"},"\u57fa\u4e8eXMl"),(0,r.kt)("li",{parentName:"ul"},"\u57fa\u4e8e Java\u6ce8\u89e3"),(0,r.kt)("li",{parentName:"ul"},"\u57fa\u4e8e Java Api"))),(0,r.kt)("li",{parentName:"ul"},"\u5916\u90e8\u5316\u914d\u7f6e\u6587\u4ef6",(0,r.kt)("ul",{parentName:"li"},(0,r.kt)("li",{parentName:"ul"},"\u57fa\u4e8e Java\u6ce8\u89e3")))),(0,r.kt)("h3",{id:"25-\u8c01\u662fioc\u5bb9\u5668"},"2.5 \u8c01\u662fIOC\u5bb9\u5668\uff1f"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("p",{parentName:"li"},"\u95ee\u9898: ",(0,r.kt)("font",{color:"red"},"BeanFactory \u548c ApplicationContext \u8c01\u662fIOC\u5bb9\u5668\uff1f")," "),(0,r.kt)("ol",{parentName:"li"},(0,r.kt)("li",{parentName:"ol"},"BeanFactory \u5305\u542bIOC\u7684\u5e95\u5c42\u5b9e\u73b0"),(0,r.kt)("li",{parentName:"ol"},"ApplicationContext \u662f BeanFactory\u7684\u4e00\u4e2a\u5b9e\u73b0 (\u662fBeanFactory\u7684\u8d85\u96c6\uff0c\u5b9e\u73b0\u4e00\u4e9b\u4f01\u4e1a\u5316\u529f\u80fd)",(0,r.kt)("ul",{parentName:"li"},(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("font",{color:"red"},"\u5b9e\u73b0\u7684\u65b9\u5f0f\u91c7\u7528\u4e86\u7ec4\u5408\u6a21\u5f0f\uff0c\u4f20\u5165\u4e00\u4e2a ",(0,r.kt)("code",null,"DefaultListableBeanFactory"),",\u83b7\u53d6\u5bb9\u5668\u4e2d\u7684\u5bf9\u8c61\u5b9e\u9645\u901a\u8fc7 \u8fd9\u4e2a\u4f20\u5165\u7684\u5bf9\u8c61\u5b9e\u73b0\u7684")))),(0,r.kt)("li",{parentName:"ol"},(0,r.kt)("font",{color:"blue"},"\u83b7\u53d6\u4e86ApplicationContext \u540e\uff0c\u9700\u8981\u901a\u8fc7",(0,r.kt)("code",null,"getBeanFactory()"),"\xa0\u65b9\u6cd5\u624d\u80fd\u5f97\u5230\u6700\u5e95\u5c42\u7684\u5b9e\u73b0\uff0c\u800c\u4e0d\u662f\u76f4\u63a5\u5f3a\u8f6c\u4e3aBeanFactory"))))),(0,r.kt)("p",null,"\u6ce8\u610f: ",(0,r.kt)("mark",null,"BeanFactory \u662f\u5e95\u5c42\u7684 IOC\u5bb9\u5668, \u800c ApplicationContext\u4e5f\u662fIOC\u5bb9\u5668\uff0c\u5e76\u4e14\u57fa\u4e8eBeanFactory\u8fdb\u884c\u4e86\u62d3\u5c55")),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-java"},"public abstract class AbstractRefreshableApplicationContext extends AbstractApplicationContext {\n\n    @Nullable\n    private Boolean allowBeanDefinitionOverriding;\n\n    @Nullable\n    private Boolean allowCircularReferences;\n\n    /** Bean factory for this context. */\n    @Nullable\n    private DefaultListableBeanFactory beanFactory;\n\n    // ...\n}\n")),(0,r.kt)("h4",{id:"251-spring\u5e94\u7528\u4e0a\u4e0b\u6587\u7279\u6027"},"2.5.1 Spring\u5e94\u7528\u4e0a\u4e0b\u6587\u7279\u6027"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"ApplicationContext \u9664\u4e86\u63d0\u4f9b IOC\u5bb9\u5668\u7684\u529f\u80fd\uff0c\u8fd8\u6709\u63d0\u4f9b\u4ee5\u4e0b\u529f\u80fd\uff1a",(0,r.kt)("ol",{parentName:"li"},(0,r.kt)("li",{parentName:"ol"},"\u9762\u5411\u5207\u9762 -> AOP"),(0,r.kt)("li",{parentName:"ol"},"\u914d\u7f6e\u5143\u4fe1\u606f -> Configuration MetaData"),(0,r.kt)("li",{parentName:"ol"},"\u8d44\u6e90\u7ba1\u7406 -> Resource"),(0,r.kt)("li",{parentName:"ol"},"\u4e8b\u4ef6 -> Events"),(0,r.kt)("li",{parentName:"ol"},"\u56fd\u9645\u5316 -> i18n"),(0,r.kt)("li",{parentName:"ol"},"\u6ce8\u89e3 -> Annotations"),(0,r.kt)("li",{parentName:"ol"},"Environment \u62bd\u8c61 ")))),(0,r.kt)("h4",{id:"252-ioc\u5bb9\u5668\u7684\u9009\u62e9"},"2.5.2 IOC\u5bb9\u5668\u7684\u9009\u62e9"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"\u95ee\u9898: ",(0,r.kt)("font",{color:"red"},"BeanFactory \u548c ApplicationContext \u5e94\u8be5\u9009\u62e9\u54ea\u4e00\u4e2a\u4f7f\u7528\uff1f")," ")),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},"\u65b9\u5f0f1\uff1a\u4f7f\u7528\u5e95\u5c42\u7684IOC\u5bb9\u5668 - BeanFactory")),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-java"},'public class IOCContainerDemo {\n    public static void main(String[] args) {\n        // 1. \u521b\u5efaBeanFactory\n        DefaultListableBeanFactory listableBeanFactory = new DefaultListableBeanFactory();\n        XmlBeanDefinitionReader reader = new XmlBeanDefinitionReader(listableBeanFactory);\n\n        // 2. \u52a0\u8f7d\u914d\u7f6e\n        int beanDefinitions = reader.loadBeanDefinitions("classpath:/META-INF/application.xml");\n        System.out.println("Bean \u52a0\u8f7d\u7684\u6570\u91cf"+ beanDefinitions);\n\n        // 3.\u83b7\u53d6Bean\n        UserRepository userRepository = (UserRepository) listableBeanFactory.getBean("userRepo");\n        System.out.println(userRepository);\n    }\n}\n')),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},"\u65b9\u5f0f2\uff1a\u4f7f\u7528 ApplicationContext")),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-java"},'public class ApplicationContextContainer {\n    public static void main(String[] args) {\n        // 1. \u521b\u5efapring\u5e94\u7528\u4e0a\u4e0b\u6587\n        AnnotationConfigApplicationContext applicationContext = new AnnotationConfigApplicationContext();\n\n        // 2. \u5c06\u5f53\u524d\u7c7b\u4f5c\u4e3a\u914d\u7f6e\u7c7b\n        applicationContext.register(ApplicationContextContainer.class);\n\n        // 3. \u542f\u52a8Spring\u5e94\u7528\u4e0a\u4e0b\u6587\n        applicationContext.refresh();\n\n        // 4.\u83b7\u53d6Bean\n        Person person = (Person) applicationContext.getBean("person");\n        System.out.println(person);\n    }\n\n    @Bean\n    public Person person(){\n        Person person = new Person();\n        person.setName("11");\n        person.setAge(22);\n        return person;\n    }\n}\n')),(0,r.kt)("h3",{id:"26-spring\u5e94\u7528\u4e0a\u4e0b\u6587\u5bb9\u5668\u751f\u547d\u5468\u671f"},"2.6 Spring\u5e94\u7528\u4e0a\u4e0b\u6587\u5bb9\u5668\u751f\u547d\u5468\u671f"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"\u5305\u542b\u4ee5\u4e0b\u751f\u547d\u5468\u671f",(0,r.kt)("ol",{parentName:"li"},(0,r.kt)("li",{parentName:"ol"},"\u542f\u52a8 -> refresh()"),(0,r.kt)("li",{parentName:"ol"},"\u8fd0\u884c"),(0,r.kt)("li",{parentName:"ol"},"\u505c\u6b62 -> close()")))),(0,r.kt)("h3",{id:"27-beanfactory-\u4f9d\u8d56\u56fe"},"2.7 BeanFactory \u4f9d\u8d56\u56fe"),(0,r.kt)("p",null,(0,r.kt)("img",{alt:"image-20210203210536682",src:a(68932).Z,width:"2101",height:"769"})))}c.isMDXComponent=!0},68932:(e,n,a)=>{a.d(n,{Z:()=>t});const t=a.p+"assets/images/image-20210203210536682-353e5cf1848a1850df5c3c509b1231d6.png"}}]);