"use strict";(self.webpackChunkhuakucha=self.webpackChunkhuakucha||[]).push([[2215],{75765:(e,r,n)=>{n.r(r),n.d(r,{assets:()=>l,contentTitle:()=>u,default:()=>k,frontMatter:()=>s,metadata:()=>i,toc:()=>o});var a=n(87462),t=(n(67294),n(3905));n(61839);const s={id:"eureka_config",title:"Eureka \u914d\u7f6e\u53c2\u8003"},u=void 0,i={unversionedId:"SpringCloud/Netflix/eureka_config",id:"SpringCloud/Netflix/eureka_config",title:"Eureka \u914d\u7f6e\u53c2\u8003",description:"1 Eureka.instance \u914d\u7f6e",source:"@site/docs/SpringCloud/Netflix/Eureka\u914d\u7f6e\u8bf4\u660e.md",sourceDirName:"SpringCloud/Netflix",slug:"/SpringCloud/Netflix/eureka_config",permalink:"/docs/SpringCloud/Netflix/eureka_config",draft:!1,editUrl:"https://github.com/MagicalZhu/NoteLib/tree/main/docs/SpringCloud/Netflix/Eureka\u914d\u7f6e\u8bf4\u660e.md",tags:[],version:"current",lastUpdatedBy:"YuLiang Zhu",lastUpdatedAt:1670289592,formattedLastUpdatedAt:"2022\u5e7412\u67086\u65e5",frontMatter:{id:"eureka_config",title:"Eureka \u914d\u7f6e\u53c2\u8003"}},l={},o=[{value:"1 Eureka.instance \u914d\u7f6e",id:"1-eurekainstance-\u914d\u7f6e",level:2},{value:"2 Eureka.client \u914d\u7f6e",id:"2-eurekaclient-\u914d\u7f6e",level:2},{value:"3 Eureka.server \u914d\u7f6e",id:"3-eurekaserver-\u914d\u7f6e",level:2}],c={toc:o};function k(e){let{components:r,...n}=e;return(0,t.kt)("wrapper",(0,a.Z)({},c,n,{components:r,mdxType:"MDXLayout"}),(0,t.kt)("h2",{id:"1-eurekainstance-\u914d\u7f6e"},"1 Eureka.instance \u914d\u7f6e"),(0,t.kt)("pre",null,(0,t.kt)("code",{parentName:"pre",className:"language-yml"},"#\u670d\u52a1\u6ce8\u518c\u4e2d\u5fc3\u5b9e\u4f8b\u7684\u4e3b\u673a\u540d\neureka.instance.hostname=localhost\n#\u6ce8\u518c\u5728Eureka\u670d\u52a1\u4e2d\u7684\u5e94\u7528\u7ec4\u540d\neureka.instance.app-group-name=\n#\u6ce8\u518c\u5728\u7684Eureka\u670d\u52a1\u4e2d\u7684\u5e94\u7528\u540d\u79f0\neureka.instance.appname=\n#\u8be5\u5b9e\u4f8b\u6ce8\u518c\u5230\u670d\u52a1\u4e2d\u5fc3\u7684\u552f\u4e00ID\neureka.instance.instance-id=\n#\u8be5\u5b9e\u4f8b\u7684IP\u5730\u5740\neureka.instance.ip-address=\n#\u8be5\u5b9e\u4f8b\uff0c\u76f8\u8f83\u4e8ehostname\u662f\u5426\u4f18\u5148\u4f7f\u7528IP\neureka.instance.prefer-ip-address=false\n\n#\u7528\u4e8eAWS\u5e73\u53f0\u81ea\u52a8\u6269\u5c55\u7684\u4e0e\u6b64\u5b9e\u4f8b\u5173\u8054\u7684\u7ec4\u540d\uff0c\neureka.instance.a-s-g-name=\n#\u90e8\u7f72\u6b64\u5b9e\u4f8b\u7684\u6570\u636e\u4e2d\u5fc3\neureka.instance.data-center-info=\n#\u9ed8\u8ba4\u7684\u5730\u5740\u89e3\u6790\u987a\u5e8f\neureka.instance.default-address-resolution-order=\n#\u8be5\u5b9e\u4f8b\u7684\u73af\u5883\u914d\u7f6e\neureka.instance.environment=\n#\u521d\u59cb\u5316\u8be5\u5b9e\u4f8b\uff0c\u6ce8\u518c\u5230\u670d\u52a1\u4e2d\u5fc3\u7684\u521d\u59cb\u72b6\u6001\neureka.instance.initial-status=up\n#\u8868\u660e\u662f\u5426\u53ea\u8981\u6b64\u5b9e\u4f8b\u6ce8\u518c\u5230\u670d\u52a1\u4e2d\u5fc3\uff0c\u7acb\u9a6c\u5c31\u8fdb\u884c\u901a\u4fe1\neureka.instance.instance-enabled-onit=false\n#\u8be5\u670d\u52a1\u5b9e\u4f8b\u7684\u547d\u540d\u7a7a\u95f4,\u7528\u4e8e\u67e5\u627e\u5c5e\u6027\neureka.instance.namespace=eureka\n#\u8be5\u670d\u52a1\u5b9e\u4f8b\u7684\u5b50\u5b9a\u4e49\u5143\u6570\u636e\uff0c\u53ef\u4ee5\u88ab\u670d\u52a1\u4e2d\u5fc3\u63a5\u53d7\u5230\neureka.instance.metadata-map.test = test\n\n#\u670d\u52a1\u4e2d\u5fc3\u5220\u9664\u6b64\u670d\u52a1\u5b9e\u4f8b\u7684\u7b49\u5f85\u65f6\u95f4(\u79d2\u4e3a\u5355\u4f4d),\u65f6\u95f4\u95f4\u9694\u4e3a\u6700\u540e\u4e00\u6b21\u670d\u52a1\u4e2d\u5fc3\u63a5\u53d7\u5230\u7684\u5fc3\u8df3\u65f6\u95f4\neureka.instance.lease-expiration-duration-in-seconds=90\n#\u8be5\u5b9e\u4f8b\u7ed9\u670d\u52a1\u4e2d\u5fc3\u53d1\u9001\u5fc3\u8df3\u7684\u95f4\u9694\u65f6\u95f4\uff0c\u7528\u4e8e\u8868\u660e\u8be5\u670d\u52a1\u5b9e\u4f8b\u53ef\u7528\neureka.instance.lease-renewal-interval-in-seconds=30\n#\u8be5\u5b9e\u4f8b\uff0c\u6ce8\u518c\u670d\u52a1\u4e2d\u5fc3\uff0c\u9ed8\u8ba4\u6253\u5f00\u7684\u901a\u4fe1\u6570\u91cf\neureka.instance.registry.default-open-for-traffic-count=1\n#\u6bcf\u5206\u949f\u7eed\u7ea6\u6b21\u6570\neureka.instance.registry.expected-number-of-renews-per-min=1\n\n#\u8be5\u5b9e\u4f8b\u5065\u5eb7\u68c0\u67e5url,\u7edd\u5bf9\u8def\u5f84\neureka.instance.health-check-url=\n#\u8be5\u5b9e\u4f8b\u5065\u5eb7\u68c0\u67e5url,\u76f8\u5bf9\u8def\u5f84\neureka.instance.health-check-url-path=/health\n#\u8be5\u5b9e\u4f8b\u7684\u4e3b\u9875url,\u7edd\u5bf9\u8def\u5f84\neureka.instance.home-page-url=\n#\u8be5\u5b9e\u4f8b\u7684\u4e3b\u9875url,\u76f8\u5bf9\u8def\u5f84\neureka.instance.home-page-url-path=/\n#\u8be5\u5b9e\u4f8b\u7684\u5b89\u5168\u5065\u5eb7\u68c0\u67e5url,\u7edd\u5bf9\u8def\u5f84\neureka.instance.secure-health-check-url=\n#https\u901a\u4fe1\u7aef\u53e3\neureka.instance.secure-port=443\n#https\u901a\u4fe1\u7aef\u53e3\u662f\u5426\u542f\u7528\neureka.instance.secure-port-enabled=false\n#http\u901a\u4fe1\u7aef\u53e3\neureka.instance.non-secure-port=80\n#http\u901a\u4fe1\u7aef\u53e3\u662f\u5426\u542f\u7528\neureka.instance.non-secure-port-enabled=true\n#\u8be5\u5b9e\u4f8b\u7684\u5b89\u5168\u865a\u62df\u4e3b\u673a\u540d\u79f0(https)\neureka.instance.secure-virtual-host-name=unknown\n#\u8be5\u5b9e\u4f8b\u7684\u865a\u62df\u4e3b\u673a\u540d\u79f0(http)\neureka.instance.virtual-host-name=unknown\n#\u8be5\u5b9e\u4f8b\u7684\u72b6\u6001\u5448\u73b0url,\u7edd\u5bf9\u8def\u5f84\neureka.instance.status-page-url=\n#\u8be5\u5b9e\u4f8b\u7684\u72b6\u6001\u5448\u73b0url,\u76f8\u5bf9\u8def\u5f84\neureka.instance.status-page-url-path=/status\n")),(0,t.kt)("h2",{id:"2-eurekaclient-\u914d\u7f6e"},"2 Eureka.client \u914d\u7f6e"),(0,t.kt)("pre",null,(0,t.kt)("code",{parentName:"pre",className:"language-yml"},'#\u8be5\u5ba2\u6237\u7aef\u662f\u5426\u53ef\u7528\neureka.client.enabled=true\n#\u5b9e\u4f8b\u662f\u5426\u5728eureka\u670d\u52a1\u5668\u4e0a\u6ce8\u518c\u81ea\u5df1\u7684\u4fe1\u606f\u4ee5\u4f9b\u5176\u4ed6\u670d\u52a1\u53d1\u73b0\uff0c\u9ed8\u8ba4\u4e3atrue\neureka.client.register-with-eureka=false\n#\u6b64\u5ba2\u6237\u7aef\u662f\u5426\u83b7\u53d6eureka\u670d\u52a1\u5668\u6ce8\u518c\u8868\u4e0a\u7684\u6ce8\u518c\u4fe1\u606f\uff0c\u9ed8\u8ba4\u4e3atrue\neureka.client.fetch-registry=false\n#\u662f\u5426\u8fc7\u6ee4\u6389\uff0c\u975eUP\u7684\u5b9e\u4f8b\u3002\u9ed8\u8ba4\u4e3atrue\neureka.client.filter-only-up-instances=true\n#\u4e0eEureka\u6ce8\u518c\u670d\u52a1\u4e2d\u5fc3\u7684\u901a\u4fe1zone\u548curl\u5730\u5740\neureka.client.serviceUrl.defaultZone=http://${eureka.instance.hostname}:${server.port}/eureka/\n\n#client\u8fde\u63a5Eureka\u670d\u52a1\u7aef\u540e\u7684\u7a7a\u95f2\u7b49\u5f85\u65f6\u95f4\uff0c\u9ed8\u8ba4\u4e3a30 \u79d2\neureka.client.eureka-connection-idle-timeout-seconds=30\n#client\u8fde\u63a5eureka\u670d\u52a1\u7aef\u7684\u8fde\u63a5\u8d85\u65f6\u65f6\u95f4\uff0c\u9ed8\u8ba4\u4e3a5\u79d2\neureka.client.eureka-server-connect-timeout-seconds=5\n#client\u5bf9\u670d\u52a1\u7aef\u7684\u8bfb\u8d85\u65f6\u65f6\u957f\neureka.client.eureka-server-read-timeout-seconds=8\n#client\u8fde\u63a5all eureka\u670d\u52a1\u7aef\u7684\u603b\u8fde\u63a5\u6570\uff0c\u9ed8\u8ba4200\neureka.client.eureka-server-total-connections=200\n#client\u8fde\u63a5eureka\u670d\u52a1\u7aef\u7684\u5355\u673a\u8fde\u63a5\u6570\u91cf\uff0c\u9ed8\u8ba450\neureka.client.eureka-server-total-connections-per-host=50\n#\u6267\u884c\u7a0b\u5e8f\u6307\u6570\u56de\u9000\u5237\u65b0\u7684\u76f8\u5173\u5c5e\u6027\uff0c\u662f\u91cd\u8bd5\u5ef6\u8fdf\u7684\u6700\u5927\u500d\u6570\u503c\uff0c\u9ed8\u8ba4\u4e3a10\neureka.client.cache-refresh-executor-exponential-back-off-bound=10\n#\u6267\u884c\u7a0b\u5e8f\u7f13\u5b58\u5237\u65b0\u7ebf\u7a0b\u6c60\u7684\u5927\u5c0f\uff0c\u9ed8\u8ba4\u4e3a5\neureka.client.cache-refresh-executor-thread-pool-size=2\n#\u5fc3\u8df3\u6267\u884c\u7a0b\u5e8f\u56de\u9000\u76f8\u5173\u7684\u5c5e\u6027\uff0c\u662f\u91cd\u8bd5\u5ef6\u8fdf\u7684\u6700\u5927\u500d\u6570\u503c\uff0c\u9ed8\u8ba4\u4e3a10\neureka.client.heartbeat-executor-exponential-back-off-bound=10\n#\u5fc3\u8df3\u6267\u884c\u7a0b\u5e8f\u7ebf\u7a0b\u6c60\u7684\u5927\u5c0f,\u9ed8\u8ba4\u4e3a5\neureka.client.heartbeat-executor-thread-pool-size=5\n# \u8be2\u95eeEureka\u670d\u52a1url\u4fe1\u606f\u53d8\u5316\u7684\u9891\u7387\uff08s\uff09\uff0c\u9ed8\u8ba4\u4e3a300\u79d2\neureka.client.eureka-service-url-poll-interval-seconds=300\n#\u6700\u521d\u590d\u5236\u5b9e\u4f8b\u4fe1\u606f\u5230eureka\u670d\u52a1\u5668\u6240\u9700\u7684\u65f6\u95f4\uff08s\uff09\uff0c\u9ed8\u8ba4\u4e3a40\u79d2\neureka.client.initial-instance-info-replication-interval-seconds=40\n#\u95f4\u9694\u591a\u957f\u65f6\u95f4\u518d\u6b21\u590d\u5236\u5b9e\u4f8b\u4fe1\u606f\u5230eureka\u670d\u52a1\u5668\uff0c\u9ed8\u8ba4\u4e3a30\u79d2\neureka.client.instance-info-replication-interval-seconds=30\n#\u4eceeureka\u670d\u52a1\u5668\u6ce8\u518c\u8868\u4e2d\u83b7\u53d6\u6ce8\u518c\u4fe1\u606f\u7684\u65f6\u95f4\u95f4\u9694\uff08s\uff09\uff0c\u9ed8\u8ba4\u4e3a30\u79d2\neureka.client.registry-fetch-interval-seconds=30\n\n# \u83b7\u53d6\u5b9e\u4f8b\u6240\u5728\u7684\u5730\u533a\u3002\u9ed8\u8ba4\u4e3aus-east-1\neureka.client.region=us-east-1\n#\u5b9e\u4f8b\u662f\u5426\u4f7f\u7528\u540c\u4e00zone\u91cc\u7684eureka\u670d\u52a1\u5668\uff0c\u9ed8\u8ba4\u4e3atrue\uff0c\u7406\u60f3\u72b6\u6001\u4e0b\uff0ceureka\u5ba2\u6237\u7aef\u4e0e\u670d\u52a1\u7aef\u662f\u5728\u540c\u4e00zone\u4e0b\neureka.client.prefer-same-zone-eureka=true\n# \u83b7\u53d6\u5b9e\u4f8b\u6240\u5728\u7684\u5730\u533a\u4e0b\u53ef\u7528\u6027\u7684\u533a\u57df\u5217\u8868\uff0c\u7528\u9017\u53f7\u9694\u5f00\u3002\uff08AWS\uff09\neureka.client.availability-zones.china=defaultZone,defaultZone1,defaultZone2\n#eureka\u670d\u52a1\u6ce8\u518c\u8868\u4fe1\u606f\u91cc\u7684\u4ee5\u9017\u53f7\u9694\u5f00\u7684\u5730\u533a\u540d\u5355\uff0c\u5982\u679c\u4e0d\u8fd9\u6837\u8fd4\u56de\u8fd9\u4e9b\u5730\u533a\u540d\u5355\uff0c\u5219\u5ba2\u6237\u7aef\u542f\u52a8\u5c06\u4f1a\u51fa\u9519\u3002\u9ed8\u8ba4\u4e3anull\neureka.client.fetch-remote-regions-registry=\n#\u670d\u52a1\u5668\u662f\u5426\u80fd\u591f\u91cd\u5b9a\u5411\u5ba2\u6237\u7aef\u8bf7\u6c42\u5230\u5907\u4efd\u670d\u52a1\u5668\u3002 \u5982\u679c\u8bbe\u7f6e\u4e3afalse\uff0c\u670d\u52a1\u5668\u5c06\u76f4\u63a5\u5904\u7406\u8bf7\u6c42\uff0c\u5982\u679c\u8bbe\u7f6e\u4e3atrue\uff0c\u5b83\u53ef\u80fd\u53d1\u9001HTTP\u91cd\u5b9a\u5411\u5230\u5ba2\u6237\u7aef\u3002\u9ed8\u8ba4\u4e3afalse\neureka.client.allow-redirects=false\n#\u5ba2\u6237\u7aef\u6570\u636e\u63a5\u6536\neureka.client.client-data-accept=\n#\u589e\u91cf\u4fe1\u606f\u662f\u5426\u53ef\u4ee5\u63d0\u4f9b\u7ed9\u5ba2\u6237\u7aef\u770b\uff0c\u9ed8\u8ba4\u4e3afalse\neureka.client.disable-delta=false\n#eureka\u670d\u52a1\u5668\u5e8f\u5217\u5316/\u53cd\u5e8f\u5217\u5316\u7684\u4fe1\u606f\u4e2d\u83b7\u53d6\u201c_\u201d\u7b26\u53f7\u7684\u7684\u66ff\u6362\u5b57\u7b26\u4e32\u3002\u9ed8\u8ba4\u4e3a\u201c__\u201c\neureka.client.escape-char-replacement=__\n#eureka\u670d\u52a1\u5668\u5e8f\u5217\u5316/\u53cd\u5e8f\u5217\u5316\u7684\u4fe1\u606f\u4e2d\u83b7\u53d6\u201c$\u201d\u7b26\u53f7\u7684\u66ff\u6362\u5b57\u7b26\u4e32\u3002\u9ed8\u8ba4\u4e3a\u201c_-\u201d\neureka.client.dollar-replacement="_-"\n#\u5f53\u670d\u52a1\u7aef\u652f\u6301\u538b\u7f29\u7684\u60c5\u51b5\u4e0b\uff0c\u662f\u5426\u652f\u6301\u4ece\u670d\u52a1\u7aef\u83b7\u53d6\u7684\u4fe1\u606f\u8fdb\u884c\u538b\u7f29\u3002\u9ed8\u8ba4\u4e3atrue\neureka.client.g-zip-content=true\n#\u662f\u5426\u8bb0\u5f55eureka\u670d\u52a1\u5668\u548c\u5ba2\u6237\u7aef\u4e4b\u95f4\u5728\u6ce8\u518c\u8868\u7684\u4fe1\u606f\u65b9\u9762\u7684\u5dee\u5f02\uff0c\u9ed8\u8ba4\u4e3afalse\neureka.client.log-delta-diff=false\n# \u5982\u679c\u8bbe\u7f6e\u4e3atrue,\u5ba2\u6237\u7aef\u7684\u72b6\u6001\u66f4\u65b0\u5c06\u4f1a\u70b9\u64ad\u66f4\u65b0\u5230\u8fdc\u7a0b\u670d\u52a1\u5668\u4e0a\uff0c\u9ed8\u8ba4\u4e3atrue\neureka.client.on-demand-update-status-change=true\n#\u6b64\u5ba2\u6237\u7aef\u53ea\u5bf9\u4e00\u4e2a\u5355\u4e00\u7684VIP\u6ce8\u518c\u8868\u7684\u4fe1\u606f\u611f\u5174\u8da3\u3002\u9ed8\u8ba4\u4e3anull\neureka.client.registry-refresh-single-vip-address=\n#client\u662f\u5426\u5728\u521d\u59cb\u5316\u9636\u6bb5\u5f3a\u884c\u6ce8\u518c\u5230\u670d\u52a1\u4e2d\u5fc3\uff0c\u9ed8\u8ba4\u4e3afalse\neureka.client.should-enforce-registration-at-init=false\n#client\u5728shutdown\u7684\u65f6\u5019\u662f\u5426\u663e\u793a\u7684\u6ce8\u9500\u670d\u52a1\u4ece\u670d\u52a1\u4e2d\u5fc3\uff0c\u9ed8\u8ba4\u4e3atrue\neureka.client.should-unregister-on-shutdown=true\n\n# \u83b7\u53d6eureka\u670d\u52a1\u7684\u4ee3\u7406\u4e3b\u673a\uff0c\u9ed8\u8ba4\u4e3anull\neureka.client.proxy-host=\n#\u83b7\u53d6eureka\u670d\u52a1\u7684\u4ee3\u7406\u5bc6\u7801\uff0c\u9ed8\u8ba4\u4e3anull\neureka.client.proxy-password=\n# \u83b7\u53d6eureka\u670d\u52a1\u7684\u4ee3\u7406\u7aef\u53e3, \u9ed8\u8ba4\u4e3anull\neureka.client.proxy-port=\n# \u83b7\u53d6eureka\u670d\u52a1\u7684\u4ee3\u7406\u7528\u6237\u540d\uff0c\u9ed8\u8ba4\u4e3anull\neureka.client.proxy-user-name=\n\n#\u5c5e\u6027\u89e3\u91ca\u5668\neureka.client.property-resolver=\n#\u83b7\u53d6\u5b9e\u73b0\u4e86eureka\u5ba2\u6237\u7aef\u5728\u7b2c\u4e00\u6b21\u542f\u52a8\u65f6\u8bfb\u53d6\u6ce8\u518c\u8868\u7684\u4fe1\u606f\u4f5c\u4e3a\u56de\u9000\u9009\u9879\u7684\u5b9e\u73b0\u540d\u79f0\neureka.client.backup-registry-impl=\n#\u8fd9\u662f\u4e00\u4e2a\u77ed\u6682\u7684\xd7\xd7\xd7\u7684\u914d\u7f6e\uff0c\u5982\u679c\u6700\u65b0\u7684\xd7\xd7\xd7\u662f\u7a33\u5b9a\u7684\uff0c\u5219\u53ef\u4ee5\u53bb\u9664\uff0c\u9ed8\u8ba4\u4e3anull\neureka.client.decoder-name=\n#\u8fd9\u662f\u4e00\u4e2a\u77ed\u6682\u7684\u7f16\u7801\u5668\u7684\u914d\u7f6e\uff0c\u5982\u679c\u6700\u65b0\u7684\u7f16\u7801\u5668\u662f\u7a33\u5b9a\u7684\uff0c\u5219\u53ef\u4ee5\u53bb\u9664\uff0c\u9ed8\u8ba4\u4e3anull\neureka.client.encoder-name=\n\n#\u662f\u5426\u4f7f\u7528DNS\u673a\u5236\u53bb\u83b7\u53d6\u670d\u52a1\u5217\u8868\uff0c\u7136\u540e\u8fdb\u884c\u901a\u4fe1\u3002\u9ed8\u8ba4\u4e3afalse\neureka.client.use-dns-for-fetching-service-urls=false\n#\u83b7\u53d6\u8981\u67e5\u8be2\u7684DNS\u540d\u79f0\u6765\u83b7\u5f97eureka\u670d\u52a1\u5668\uff0c\u6b64\u914d\u7f6e\u53ea\u6709\u5728eureka\u670d\u52a1\u5668ip\u5730\u5740\u5217\u8868\u662f\u5728DNS\u4e2d\u624d\u4f1a\u7528\u5230\u3002\u9ed8\u8ba4\u4e3anull\neureka.client.eureka-server-d-n-s-name=\n#\u83b7\u53d6eureka\u670d\u52a1\u5668\u7684\u7aef\u53e3\uff0c\u6b64\u914d\u7f6e\u53ea\u6709\u5728eureka\u670d\u52a1\u5668ip\u5730\u5740\u5217\u8868\u662f\u5728DNS\u4e2d\u624d\u4f1a\u7528\u5230\u3002\u9ed8\u8ba4\u4e3anull\neureka.client.eureka-server-port=\n#\u8868\u793aeureka\u6ce8\u518c\u4e2d\u5fc3\u7684\u8def\u5f84\uff0c\u5982\u679c\u914d\u7f6e\u4e3aeureka\uff0c\u5219\u4e3ahttp://x.x.x.x:x/eureka/\uff0c\u5728eureka\u7684\u914d\u7f6e\u6587\u4ef6\u4e2d\u52a0\u5165\u6b64\u914d\u7f6e\u8868\u793aeureka\u4f5c\u4e3a\u5ba2\u6237\u7aef\u5411\u6ce8\u518c\u4e2d\u5fc3\u6ce8\u518c\uff0c\u4ece\u800c\u6784\u6210eureka\u96c6\u7fa4\u3002\u6b64\u914d\u7f6e\u53ea\u6709\u5728eureka\u670d\u52a1\u5668ip\u5730\u5740\u5217\u8868\u662f\u5728DNS\u4e2d\u624d\u4f1a\u7528\u5230\uff0c\u9ed8\u8ba4\u4e3anull\neureka.client.eureka-server-u-r-l-context=\n')),(0,t.kt)("h2",{id:"3-eurekaserver-\u914d\u7f6e"},"3 Eureka.server \u914d\u7f6e"),(0,t.kt)("pre",null,(0,t.kt)("code",{parentName:"pre",className:"language-yml"},"################server \u4e0e client \u5173\u8054\u7684\u914d\u7f6e#####################33\n# \u670d\u52a1\u7aef\u5f00\u542f\u81ea\u6211\u4fdd\u62a4\u6a21\u5f0f\u3002\n# \u65e0\u8bba\u4ec0\u4e48\u60c5\u51b5\uff0c\u670d\u52a1\u7aef\u90fd\u4f1a\u4fdd\u6301\u4e00\u5b9a\u6570\u91cf\u7684\u670d\u52a1,\u907f\u514dclient\u4e0eserver\u7684\u7f51\u7edc\u95ee\u9898\uff0c\u800c\u51fa\u73b0\u5927\u91cf\u7684\u670d\u52a1\u88ab\u6e05\u9664\u3002\neureka.server.enable-self-preservation=true\n#\u5f00\u542f\u6e05\u9664\u65e0\u6548\u670d\u52a1\u7684\u5b9a\u65f6\u4efb\u52a1\uff0c\u65f6\u95f4\u95f4\u9694\u3002\u9ed8\u8ba41\u5206\u949f\neureka.server.eviction-interval-timer-in-ms= 60000\n#\u95f4\u9694\u591a\u957f\u65f6\u95f4\uff0c\u6e05\u9664\u8fc7\u671f\u7684delta\u6570\u636e\neureka.server.delta-retention-timer-interval-in-ms=0\n#\u8fc7\u671f\u6570\u636e\uff0c\u662f\u5426\u4e5f\u63d0\u4f9b\u7ed9client\neureka.server.disable-delta=false\n#eureka\u670d\u52a1\u7aef\u662f\u5426\u8bb0\u5f55client\u7684\u8eab\u4efdheader\neureka.server.log-identity-headers=true\n#\u8bf7\u6c42\u9891\u7387\u9650\u5236\u5668\neureka.server.rate-limiter-burst-size=10\n#\u662f\u5426\u5f00\u542f\u8bf7\u6c42\u9891\u7387\u9650\u5236\u5668\neureka.server.rate-limiter-enabled=false\n#\u8bf7\u6c42\u9891\u7387\u7684\u5e73\u5747\u503c\neureka.server.rate-limiter-full-fetch-average-rate=100\n#\u662f\u5426\u5bf9\u6807\u51c6\u7684client\u8fdb\u884c\u9891\u7387\u8bf7\u6c42\u9650\u5236\u3002\u5982\u679c\u662ffalse\uff0c\u5219\u53ea\u5bf9\u975e\u6807\u51c6client\u8fdb\u884c\u9650\u5236\neureka.server.rate-limiter-throttle-standard-clients=false\n#\u6ce8\u518c\u670d\u52a1\u3001\u62c9\u53bb\u670d\u52a1\u5217\u8868\u6570\u636e\u7684\u8bf7\u6c42\u9891\u7387\u7684\u5e73\u5747\u503c\neureka.server.rate-limiter-registry-fetch-average-rate=500\n#\u8bbe\u7f6e\u4fe1\u4efb\u7684client list\neureka.server.rate-limiter-privileged-clients=\n#\u5728\u8bbe\u7f6e\u7684\u65f6\u95f4\u8303\u56f4\u7c7b\uff0c\u671f\u671b\u4e0eclient\u7eed\u7ea6\u7684\u767e\u5206\u6bd4\u3002\neureka.server.renewal-percent-threshold=0.85\n#\u591a\u957f\u65f6\u95f4\u66f4\u65b0\u7eed\u7ea6\u7684\u9608\u503c\neureka.server.renewal-threshold-update-interval-ms=0\n#\u5bf9\u4e8e\u7f13\u5b58\u7684\u6ce8\u518c\u6570\u636e\uff0c\u591a\u957f\u65f6\u95f4\u8fc7\u671f\neureka.server.response-cache-auto-expiration-in-seconds=180\n#\u591a\u957f\u65f6\u95f4\u66f4\u65b0\u4e00\u6b21\u7f13\u5b58\u4e2d\u7684\u670d\u52a1\u6ce8\u518c\u6570\u636e\neureka.server.response-cache-update-interval-ms=0\n#\u7f13\u5b58\u589e\u91cf\u6570\u636e\u7684\u65f6\u95f4\uff0c\u4ee5\u4fbf\u5728\u68c0\u7d22\u7684\u65f6\u5019\u4e0d\u4e22\u5931\u4fe1\u606f\neureka.server.retention-time-in-m-s-in-delta-queue=0\n#\u5f53\u65f6\u95f4\u6233\u4e0d\u4e00\u81f4\u7684\u65f6\u5019\uff0c\u662f\u5426\u8fdb\u884c\u540c\u6b65\neureka.server.sync-when-timestamp-differs=true\n#\u662f\u5426\u91c7\u7528\u53ea\u8bfb\u7f13\u5b58\u7b56\u7565\uff0c\u53ea\u8bfb\u7b56\u7565\u5bf9\u4e8e\u7f13\u5b58\u7684\u6570\u636e\u4e0d\u4f1a\u8fc7\u671f\u3002\neureka.server.use-read-only-response-cache=true\n\n################server \u81ea\u5b9a\u4e49\u5b9e\u73b0\u7684\u914d\u7f6e#####################\n#json\u7684\u8f6c\u6362\u7684\u5b9e\u73b0\u7c7b\u540d\neureka.server.json-codec-name=\n#PropertyResolver\neureka.server.property-resolver=\n#eureka server xml\u7684\u7f16\u89e3\u7801\u5b9e\u73b0\u540d\u79f0\neureka.server.xml-codec-name=\n\n################server node \u4e0e node \u4e4b\u95f4\u5173\u8054\u7684\u914d\u7f6e#####################\n#\u53d1\u9001\u590d\u5236\u6570\u636e\u662f\u5426\u5728request\u4e2d\uff0c\u603b\u662f\u538b\u7f29\neureka.server.enable-replicated-request-compression=false\n#\u6307\u793a\u7fa4\u96c6\u8282\u70b9\u4e4b\u95f4\u7684\u590d\u5236\u662f\u5426\u5e94\u6279\u5904\u7406\u4ee5\u63d0\u9ad8\u7f51\u7edc\u6548\u7387\u3002\neureka.server.batch-replication=false\n#\u5141\u8bb8\u5907\u4efd\u5230\u5907\u4efd\u6c60\u7684\u6700\u5927\u590d\u5236\u4e8b\u4ef6\u6570\u91cf\u3002\u800c\u8fd9\u4e2a\u5907\u4efd\u6c60\u8d1f\u8d23\u9664\u72b6\u6001\u66f4\u65b0\u7684\u5176\u4ed6\u4e8b\u4ef6\u3002\u53ef\u4ee5\u6839\u636e\u5185\u5b58\u5927\u5c0f\uff0c\u8d85\u65f6\u548c\u590d\u5236\u6d41\u91cf\uff0c\u6765\u8bbe\u7f6e\u6b64\u503c\u5f97\u5927\u5c0f\neureka.server.max-elements-in-peer-replication-pool=10000\n#\u5141\u8bb8\u5907\u4efd\u5230\u72b6\u6001\u5907\u4efd\u6c60\u7684\u6700\u5927\u590d\u5236\u4e8b\u4ef6\u6570\u91cf\neureka.server.max-elements-in-status-replication-pool=10000\n#\u591a\u4e2a\u670d\u52a1\u4e2d\u5fc3\u76f8\u4e92\u540c\u6b65\u4fe1\u606f\u7ebf\u7a0b\u7684\u6700\u5927\u7a7a\u95f2\u65f6\u95f4\neureka.server.max-idle-thread-age-in-minutes-for-peer-replication=15\n#\u72b6\u6001\u540c\u6b65\u7ebf\u7a0b\u7684\u6700\u5927\u7a7a\u95f2\u65f6\u95f4\neureka.server.max-idle-thread-in-minutes-age-for-status-replication=15\n#\u670d\u52a1\u6ce8\u518c\u4e2d\u5fc3\u5404\u4e2ainstance\u76f8\u4e92\u590d\u5236\u6570\u636e\u7684\u6700\u5927\u7ebf\u7a0b\u6570\u91cf\neureka.server.max-threads-for-peer-replication=20\n#\u670d\u52a1\u6ce8\u518c\u4e2d\u5fc3\u5404\u4e2ainstance\u76f8\u4e92\u590d\u5236\u72b6\u6001\u6570\u636e\u7684\u6700\u5927\u7ebf\u7a0b\u6570\u91cf\neureka.server.max-threads-for-status-replication=1\n#instance\u4e4b\u95f4\u590d\u5236\u6570\u636e\u7684\u901a\u4fe1\u65f6\u957f\neureka.server.max-time-for-replication=30000\n#\u6b63\u5e38\u7684\u5bf9\u7b49\u670d\u52a1instance\u6700\u5c0f\u6570\u91cf\u3002-1\u8868\u793a\u670d\u52a1\u4e2d\u5fc3\u4e3a\u5355\u8282\u70b9\u3002\neureka.server.min-available-instances-for-peer-replication=-1\n#instance\u4e4b\u95f4\u76f8\u4e92\u590d\u5236\u5f00\u542f\u7684\u6700\u5c0f\u7ebf\u7a0b\u6570\u91cf\neureka.server.min-threads-for-peer-replication=5\n#instance\u4e4b\u95f4\u7528\u4e8e\u72b6\u6001\u590d\u5236\uff0c\u5f00\u542f\u7684\u6700\u5c0f\u7ebf\u7a0b\u6570\u91cf\neureka.server.min-threads-for-status-replication=1\n#instance\u4e4b\u95f4\u590d\u5236\u6570\u636e\u65f6\u53ef\u4ee5\u91cd\u8bd5\u7684\u6b21\u6570\neureka.server.number-of-replication-retries=5\n#eureka\u8282\u70b9\u95f4\u95f4\u9694\u591a\u957f\u65f6\u95f4\u66f4\u65b0\u4e00\u6b21\u6570\u636e\u3002\u9ed8\u8ba410\u5206\u949f\u3002\neureka.server.peer-eureka-nodes-update-interval-ms=600000\n#eureka\u670d\u52a1\u72b6\u6001\u7684\u76f8\u4e92\u66f4\u65b0\u7684\u65f6\u95f4\u95f4\u9694\u3002\neureka.server.peer-eureka-status-refresh-time-interval-ms=0\n#eureka\u5bf9\u7b49\u8282\u70b9\u95f4\u8fde\u63a5\u8d85\u65f6\u65f6\u95f4\neureka.server.peer-node-connect-timeout-ms=200\n#eureka\u5bf9\u7b49\u8282\u70b9\u8fde\u63a5\u540e\u7684\u7a7a\u95f2\u65f6\u95f4\neureka.server.peer-node-connection-idle-timeout-seconds=30\n#\u8282\u70b9\u95f4\u7684\u8bfb\u6570\u636e\u8fde\u63a5\u8d85\u65f6\u65f6\u95f4\neureka.server.peer-node-read-timeout-ms=200\n#eureka server \u8282\u70b9\u95f4\u8fde\u63a5\u7684\u603b\u5171\u6700\u5927\u6570\u91cf\neureka.server.peer-node-total-connections=1000\n#eureka server \u8282\u70b9\u95f4\u8fde\u63a5\u7684\u5355\u673a\u6700\u5927\u6570\u91cf\neureka.server.peer-node-total-connections-per-host=10\n#\u5728\u670d\u52a1\u8282\u70b9\u542f\u52a8\u65f6\uff0ceureka\u5c1d\u8bd5\u83b7\u53d6\u6ce8\u518c\u4fe1\u606f\u7684\u6b21\u6570\neureka.server.registry-sync-retries=\n#\u5728\u670d\u52a1\u8282\u70b9\u542f\u52a8\u65f6\uff0ceureka\u591a\u6b21\u5c1d\u8bd5\u83b7\u53d6\u6ce8\u518c\u4fe1\u606f\u7684\u95f4\u9694\u65f6\u95f4\neureka.server.registry-sync-retry-wait-ms=\n#\u5f53eureka server\u542f\u52a8\u7684\u65f6\u5019\uff0c\u4e0d\u80fd\u4ece\u5bf9\u7b49\u8282\u70b9\u83b7\u53d6instance\u6ce8\u518c\u4fe1\u606f\u7684\u60c5\u51b5\uff0c\u5e94\u7b49\u5f85\u591a\u957f\u65f6\u95f4\u3002\neureka.server.wait-time-in-ms-when-sync-empty=0\n\n################server \u4e0e remote \u5173\u8054\u7684\u914d\u7f6e#####################33\n#\u8fc7\u671f\u6570\u636e\uff0c\u662f\u5426\u4e5f\u63d0\u4f9b\u7ed9\u8fdc\u7a0bregion\neureka.server.disable-delta-for-remote-regions=false\n#\u56de\u9000\u5230\u8fdc\u7a0b\u533a\u57df\u4e2d\u7684\u5e94\u7528\u7a0b\u5e8f\u7684\u65e7\u884c\u4e3a (\u5982\u679c\u5df2\u914d\u7f6e) \u5982\u679c\u672c\u5730\u533a\u57df\u4e2d\u6ca1\u6709\u8be5\u5e94\u7528\u7a0b\u5e8f\u7684\u5b9e\u4f8b, \u5219\u5c06\u88ab\u7981\u7528\u3002\neureka.server.disable-transparent-fallback-to-other-region=false\n#\u6307\u793a\u5728\u670d\u52a1\u5668\u652f\u6301\u7684\u60c5\u51b5\u4e0b, \u662f\u5426\u5fc5\u987b\u4e3a\u8fdc\u7a0b\u533a\u57df\u538b\u7f29\u4ece\u5c24\u91cc\u5361\u670d\u52a1\u5668\u83b7\u53d6\u7684\u5185\u5bb9\u3002\neureka.server.g-zip-content-from-remote-region=true\n#\u8fde\u63a5eureka remote note\u7684\u8fde\u63a5\u8d85\u65f6\u65f6\u95f4\neureka.server.remote-region-connect-timeout-ms=1000\n#remote region \u5e94\u7528\u767d\u540d\u5355\neureka.server.remote-region-app-whitelist.\n#\u8fde\u63a5eureka remote note\u7684\u8fde\u63a5\u7a7a\u95f2\u65f6\u95f4\neureka.server.remote-region-connection-idle-timeout-seconds=30\n#\u6267\u884cremote region \u83b7\u53d6\u6ce8\u518c\u4fe1\u606f\u7684\u8bf7\u6c42\u7ebf\u7a0b\u6c60\u5927\u5c0f\neureka.server.remote-region-fetch-thread-pool-size=20\n#remote region \u4ece\u5bf9\u7b49eureka\u52a0\u70b9\u8bfb\u53d6\u6570\u636e\u7684\u8d85\u65f6\u65f6\u95f4\neureka.server.remote-region-read-timeout-ms=1000\n#\u4eceremote region \u83b7\u53d6\u6ce8\u518c\u4fe1\u606f\u7684\u65f6\u95f4\u95f4\u9694\neureka.server.remote-region-registry-fetch-interval=30\n#remote region \u8fde\u63a5eureka\u8282\u70b9\u7684\u603b\u8fde\u63a5\u6570\u91cf\neureka.server.remote-region-total-connections=1000\n#remote region \u8fde\u63a5eureka\u8282\u70b9\u7684\u5355\u673a\u8fde\u63a5\u6570\u91cf\neureka.server.remote-region-total-connections-per-host=50\n#remote region\u6293\u53d6\u6ce8\u518c\u4fe1\u606f\u7684\u5b58\u50a8\u6587\u4ef6\uff0c\u800c\u8fd9\u4e2a\u53ef\u9760\u7684\u5b58\u50a8\u6587\u4ef6\u9700\u8981\u5168\u9650\u5b9a\u540d\u6765\u6307\u5b9a\neureka.server.remote-region-trust-store=\n#remote region \u50a8\u5b58\u7684\u6587\u4ef6\u7684\u5bc6\u7801\neureka.server.remote-region-trust-store-password=\n#remote region url.\u591a\u4e2a\u9017\u53f7\u9694\u5f00\neureka.server.remote-region-urls=\n#remote region url.\u591a\u4e2a\u9017\u53f7\u9694\u5f00\neureka.server.remote-region-urls-with-name.\n\n################server \u4e0e ASG/AWS/EIP/route52 \u4e4b\u95f4\u5173\u8054\u7684\u914d\u7f6e#####################33\n#\u7f13\u5b58ASG\u4fe1\u606f\u7684\u8fc7\u671f\u65f6\u95f4\u3002\neureka.server.a-s-g-cache-expiry-timeout-ms=0\n#\u67e5\u8be2ASG\u4fe1\u606f\u7684\u8d85\u65f6\u65f6\u95f4\neureka.server.a-s-g-query-timeout-ms=300\n#\u670d\u52a1\u66f4\u65b0ASG\u4fe1\u606f\u7684\u9891\u7387\neureka.server.a-s-g-update-interval-ms=0\n#AWS\u8bbf\u95eeID\neureka.server.a-w-s-access-id=\n#AWS\u5b89\u5168\u5bc6\u94a5\neureka.server.a-w-s-secret-key=\n#AWS\u7ed1\u5b9a\u7b56\u7565\neureka.server.binding-strategy=eip\n#\u7528\u4e8e\u4ece\u7b2c\u4e09\u65b9AWS \u5e10\u6237\u63cf\u8ff0\u81ea\u52a8\u6269\u5c55\u5206\u7ec4\u7684\u89d2\u8272\u7684\u540d\u79f0\u3002\neureka.server.list-auto-scaling-groups-role-name=\n#\u662f\u5426\u5e94\u8be5\u5efa\u7acb\u8fde\u63a5\u5f15\u5bfc\neureka.server.prime-aws-replica-connections=true\n#\u670d\u52a1\u7aef\u5c1d\u8bd5\u7ed1\u5b9a\u5019\u9009EIP\u7684\u6b21\u6570\neureka.server.e-i-p-bind-rebind-retries=3\n#\u670d\u52a1\u7aef\u7ed1\u5b9aEIP\u7684\u65f6\u95f4\u95f4\u9694.\u5982\u679c\u7ed1\u5b9a\u5c31\u68c0\u67e5;\u5982\u679c\u7ed1\u5b9a\u5931\u6548\u5c31\u91cd\u65b0\u7ed1\u5b9a\u3002\u5f53\u4e14\u4ec5\u5f53\u5df2\u7ecf\u7ed1\u5b9a\u7684\u60c5\u51b5\neureka.server.e-i-p-binding-retry-interval-ms=10\n#\u670d\u52a1\u7aef\u7ed1\u5b9aEIP\u7684\u65f6\u95f4\u95f4\u9694.\u5f53\u4e14\u4ec5\u5f53\u670d\u52a1\u4e3a\u7ed1\u5b9a\u7684\u60c5\u51b5\neureka.server.e-i-p-binding-retry-interval-ms-when-unbound=\n#\u670d\u52a1\u7aef\u5c1d\u8bd5\u7ed1\u5b9aroute53\u7684\u6b21\u6570\neureka.server.route53-bind-rebind-retries=3\n#\u670d\u52a1\u7aef\u95f4\u9694\u591a\u957f\u65f6\u95f4\u5c1d\u8bd5\u7ed1\u5b9aroute53\neureka.server.route53-binding-retry-interval-ms=30\neureka.server.route53-domain-t-t-l=10\n")))}k.isMDXComponent=!0}}]);