"use strict";(self.webpackChunkhuakucha=self.webpackChunkhuakucha||[]).push([[8188],{31646:(e,t,a)=>{a.r(t),a.d(t,{assets:()=>m,contentTitle:()=>r,default:()=>u,frontMatter:()=>i,metadata:()=>p,toc:()=>k});var l=a(87462),n=(a(67294),a(3905));a(61839);const i={id:"\u7528\u6237\u6743\u9650\u7ba1\u7406",title:"\u7528\u6237\u6743\u9650\u7ba1\u7406"},r=void 0,p={unversionedId:"Mysql/\u9ad8\u7ea7\u7279\u6027/\u7528\u6237\u6743\u9650\u7ba1\u7406",id:"Mysql/\u9ad8\u7ea7\u7279\u6027/\u7528\u6237\u6743\u9650\u7ba1\u7406",title:"\u7528\u6237\u6743\u9650\u7ba1\u7406",description:"\u793a\u610f\u56fe",source:"@site/docs/Mysql/\u9ad8\u7ea7\u7279\u6027/\u7528\u6237\u6743\u9650\u7ba1\u7406.md",sourceDirName:"Mysql/\u9ad8\u7ea7\u7279\u6027",slug:"/Mysql/\u9ad8\u7ea7\u7279\u6027/\u7528\u6237\u6743\u9650\u7ba1\u7406",permalink:"/docs/Mysql/\u9ad8\u7ea7\u7279\u6027/\u7528\u6237\u6743\u9650\u7ba1\u7406",draft:!1,editUrl:"https://github.com/MagicalZhu/NoteLib/tree/main/docs/Mysql/\u9ad8\u7ea7\u7279\u6027/\u7528\u6237\u6743\u9650\u7ba1\u7406.md",tags:[],version:"current",lastUpdatedBy:"YuLiang Zhu",lastUpdatedAt:1670289592,formattedLastUpdatedAt:"2022\u5e7412\u67086\u65e5",frontMatter:{id:"\u7528\u6237\u6743\u9650\u7ba1\u7406",title:"\u7528\u6237\u6743\u9650\u7ba1\u7406"},sidebar:"mysqlSideBar",previous:{title:"MySQL \u90e8\u7f72",permalink:"/docs/Mysql/\u9ad8\u7ea7\u7279\u6027/MySQL \u90e8\u7f72"},next:{title:"\u67b6\u6784\u4e0e\u5f15\u64ce",permalink:"/docs/category/\u67b6\u6784\u4e0e\u5f15\u64ce"}},m={},k=[{value:"\u7528\u6237\u7ba1\u7406",id:"\u7528\u6237\u7ba1\u7406",level:2},{value:"\u767b\u5f55 MySQL \u670d\u52a1\u5668",id:"\u767b\u5f55-mysql-\u670d\u52a1\u5668",level:3},{value:"\u521b\u5efa\u7528\u6237",id:"\u521b\u5efa\u7528\u6237",level:3},{value:"\u4fee\u6539\u7528\u6237",id:"\u4fee\u6539\u7528\u6237",level:3},{value:"\u5220\u9664\u7528\u6237",id:"\u5220\u9664\u7528\u6237",level:3},{value:"DROP \u5220\u9664",id:"drop-\u5220\u9664",level:4},{value:"DELETE \u5220\u9664\ud83d\ude45",id:"delete-\u5220\u9664",level:4},{value:"\u8bbe\u7f6e\u5f53\u524d\u7528\u6237\u5bc6\u7801",id:"\u8bbe\u7f6e\u5f53\u524d\u7528\u6237\u5bc6\u7801",level:3},{value:"\u4fee\u6539\u5176\u4ed6\u7528\u6237\u5bc6\u7801",id:"\u4fee\u6539\u5176\u4ed6\u7528\u6237\u5bc6\u7801",level:3},{value:"\u6743\u9650\u7ba1\u7406",id:"\u6743\u9650\u7ba1\u7406",level:2},{value:"\u6743\u9650\u5217\u8868",id:"\u6743\u9650\u5217\u8868",level:3},{value:"\u6388\u4e88\u6743\u9650",id:"\u6388\u4e88\u6743\u9650",level:3},{value:"\u67e5\u770b\u6743\u9650",id:"\u67e5\u770b\u6743\u9650",level:3},{value:"\u56de\u6536\u6743\u9650",id:"\u56de\u6536\u6743\u9650",level:3},{value:"\u6743\u9650\u8868",id:"\u6743\u9650\u8868",level:2},{value:"user",id:"user",level:3},{value:"\u8303\u56f4\u5217",id:"\u8303\u56f4\u5217",level:4},{value:"\u6743\u9650\u5217",id:"\u6743\u9650\u5217",level:4},{value:"\u5b89\u5168\u5217",id:"\u5b89\u5168\u5217",level:4},{value:"\u8d44\u6e90\u63a7\u5236\u5217",id:"\u8d44\u6e90\u63a7\u5236\u5217",level:4},{value:"db",id:"db",level:3},{value:"tables_priv \u4e0e columns_priv",id:"tables_priv-\u4e0e-columns_priv",level:3},{value:"procs_priv",id:"procs_priv",level:3},{value:"\u8bbf\u95ee\u63a7\u5236",id:"\u8bbf\u95ee\u63a7\u5236",level:2},{value:"\u8fde\u63a5\u6838\u5b9e\u9636\u6bb5",id:"\u8fde\u63a5\u6838\u5b9e\u9636\u6bb5",level:3},{value:"\u8bf7\u6c42\u6838\u5b9e\u9636\u6bb5",id:"\u8bf7\u6c42\u6838\u5b9e\u9636\u6bb5",level:3},{value:"\u89d2\u8272\u7ba1\u7406",id:"\u89d2\u8272\u7ba1\u7406",level:2},{value:"\u521b\u5efa\u89d2\u8272",id:"\u521b\u5efa\u89d2\u8272",level:3},{value:"\u7ed9\u89d2\u8272\u6388\u6743",id:"\u7ed9\u89d2\u8272\u6388\u6743",level:3},{value:"\u67e5\u770b\u89d2\u8272\u7684\u6743\u9650",id:"\u67e5\u770b\u89d2\u8272\u7684\u6743\u9650",level:3},{value:"\u56de\u6536\u89d2\u8272\u6743\u9650",id:"\u56de\u6536\u89d2\u8272\u6743\u9650",level:3},{value:"\u5220\u9664\u89d2\u8272",id:"\u5220\u9664\u89d2\u8272",level:3},{value:"\u7528\u6237\u8d4b\u4e88\u89d2\u8272",id:"\u7528\u6237\u8d4b\u4e88\u89d2\u8272",level:3},{value:"\u6fc0\u6d3b\u89d2\u8272",id:"\u6fc0\u6d3b\u89d2\u8272",level:3},{value:"\u64a4\u9500\u7528\u6237\u89d2\u8272",id:"\u64a4\u9500\u7528\u6237\u89d2\u8272",level:3},{value:"\u8bbe\u7f6e\u5f3a\u5236\u89d2\u8272",id:"\u8bbe\u7f6e\u5f3a\u5236\u89d2\u8272",level:3},{value:"\u914d\u7f6e\u6587\u4ef6",id:"\u914d\u7f6e\u6587\u4ef6",level:2},{value:"\u914d\u7f6e\u6587\u4ef6\u683c\u5f0f",id:"\u914d\u7f6e\u6587\u4ef6\u683c\u5f0f",level:3},{value:"\u542f\u52a8\u547d\u4ee4\u4e0e\u9009\u9879\u7ec4",id:"\u542f\u52a8\u547d\u4ee4\u4e0e\u9009\u9879\u7ec4",level:3},{value:"\u9009\u9879\u7ec4\u4f18\u5148\u7ea7",id:"\u9009\u9879\u7ec4\u4f18\u5148\u7ea7",level:3},{value:"\u547d\u4ee4\u884c\u4e0e\u914d\u7f6e\u6587\u4ef6\u533a\u522b",id:"\u547d\u4ee4\u884c\u4e0e\u914d\u7f6e\u6587\u4ef6\u533a\u522b",level:3}],N={toc:k};function u(e){let{components:t,...i}=e;return(0,n.kt)("wrapper",(0,l.Z)({},N,i,{components:t,mdxType:"MDXLayout"}),(0,n.kt)("p",null,"\u793a\u610f\u56fe\n",(0,n.kt)("img",{alt:"image-20220508142326805",src:a(7080).Z,width:"1875",height:"886"})),(0,n.kt)("h2",{id:"\u7528\u6237\u7ba1\u7406"},"\u7528\u6237\u7ba1\u7406"),(0,n.kt)("h3",{id:"\u767b\u5f55-mysql-\u670d\u52a1\u5668"},"\u767b\u5f55 MySQL \u670d\u52a1\u5668"),(0,n.kt)("p",null,"\u6211\u4eec\u542f\u52a8 MySQL \u670d\u52a1\u4e4b\u540e,\u4e00\u822c\u901a\u8fc7mysql \u547d\u4ee4\u767b\u5f55MySQL \u670d\u52a1\u5668:"),(0,n.kt)("ul",null,(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("inlineCode",{parentName:"li"},'mysql -h hostName|hostIp -P port -u userName -p dbName [\u2013e "SQL\u8bed\u53e5"]'),(0,n.kt)("ul",{parentName:"li"},(0,n.kt)("li",{parentName:"ul"},"\u547d\u4ee4\u4e2d\u53c2\u6570\u8868\u793a\u7684\u542b\u4e49:",(0,n.kt)("ul",{parentName:"li"},(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("inlineCode",{parentName:"li"},"-h")," : \u6307\u5b9a MySQL \u670d\u52a1\u5668\u4e3b\u673a\u540d\u6216\u8005\u4e3b\u673aIP\uff0chostname\u4e3a\u4e3b\u673a\u540d\uff0chostIP\u4e3a\u4e3b\u673aIP"),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("inlineCode",{parentName:"li"},"-P")," : \u6307\u5b9a MySQL \u670d\u52a1\u7684\u7aef\u53e3\u53f7,\u5982\u679c\u4e0d\u4f7f\u7528\u8be5\u53c2\u6570,\u5219\u4f7f\u7528 MySQL \u9ed8\u8ba4\u7684 3306 \u7aef\u53e3\u53f7"),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("inlineCode",{parentName:"li"},"-u")," : \u6307\u5b9a\u767b\u5f55 MySQL \u670d\u52a1\u5668\u7684\u7528\u6237\u540d"),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("inlineCode",{parentName:"li"},"-p")," : \u4f1a\u63d0\u793a\u8f93\u5165\u767b\u5f55 MySQL \u670d\u52a1\u5668\u7684\u5bc6\u7801"),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("inlineCode",{parentName:"li"},"dbName")," : \u6307\u5b9a\u767b\u5f55\u5230\u54ea\u4e00\u4e2a\u6570\u636e\u5e93\u4e2d,\u5982\u679c\u4e0d\u6307\u5b9a,\u5219\u767b\u5f55\u540e\u9700\u8981\u624b\u52a8\u9009\u62e9\u4e00\u4e2a\u6570\u636e\u5e93"),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("inlineCode",{parentName:"li"},"-e")," : \u6307\u5b9a\u767b\u5f55 MySQL \u670d\u52a1\u5668\u540e\u6267\u884c\u7684 sql \u8bed\u53e5,\u6267\u884c\u5b8c\u540e\u9000\u51fa MySQL \u670d\u52a1\u5668")))))),(0,n.kt)("h3",{id:"\u521b\u5efa\u7528\u6237"},"\u521b\u5efa\u7528\u6237"),(0,n.kt)("ul",null,(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("p",{parentName:"li"},(0,n.kt)("inlineCode",{parentName:"p"},"CREATE USER \u7528\u62371 [identified by '\u5bc6\u7801'] [,\u7528\u62372 [identified by '\u5bc6\u78012'] ,...];")),(0,n.kt)("ul",{parentName:"li"},(0,n.kt)("li",{parentName:"ul"},"\u547d\u4ee4\u4e2d\u53c2\u6570\u8868\u793a\u7684\u542b\u4e49:",(0,n.kt)("ul",{parentName:"li"},(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("inlineCode",{parentName:"li"},"\u7528\u6237")," ",(0,n.kt)("ul",{parentName:"li"},(0,n.kt)("li",{parentName:"ul"},"\u8868\u793a\u65b0\u5efa\u7528\u6237\u7684\u8d26\u6237"),(0,n.kt)("li",{parentName:"ul"},"\u7531 ",(0,n.kt)("inlineCode",{parentName:"li"},"\u7528\u6237\u540d(UserName)")," \u548c ",(0,n.kt)("inlineCode",{parentName:"li"},"\u4e3b\u673a\u540d(Host)")," \u7ec4\u6210(",(0,n.kt)("strong",{parentName:"li"},"\u4e0b\u9762\u6240\u6709\u7684\u7528\u6237\u90fd\u662f\u8fd9\u4e2a\u7ed3\u6784"),")"))),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("inlineCode",{parentName:"li"},"[identified by '\u5bc6\u7801']")," ",(0,n.kt)("ul",{parentName:"li"},(0,n.kt)("li",{parentName:"ul"},"\u8868\u793a\u53ef\u9009\u9879,\u53ef\u4ee5\u6307\u5b9a\u7528\u6237\u767b\u5f55\u65f6\u4f7f\u7528\u7684\u5bc6\u7801\u3002\u5982\u679c\u4e0d\u6307\u5b9a,\u5219\u7528\u6237\u53ef\u4ee5\u76f4\u63a5\u767b\u5f55"))))),(0,n.kt)("li",{parentName:"ul"},"\u53ef\u4ee5\u540c\u65f6\u521b\u5efa\u591a\u4e2a\u7528\u6237"),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("mark",null,"\u521b\u5efa\u7684\u7528\u6237\u4fe1\u606f\u4f1a\u63d2\u5165\u5230 mysql.user \u8868\u4e2d,\u5e76\u4e14\u9ed8\u8ba4\u53ea\u6709 usage\u6743\u9650"))),(0,n.kt)("p",{parentName:"li"},(0,n.kt)("img",{alt:"image-20220503103138670",src:a(58598).Z,width:"690",height:"377"})))),(0,n.kt)("h3",{id:"\u4fee\u6539\u7528\u6237"},"\u4fee\u6539\u7528\u6237"),(0,n.kt)("blockquote",null,(0,n.kt)("p",{parentName:"blockquote"},"\u4e0a\u9762\u521b\u5efa\u5b8c\u7528\u6237\u4e4b\u540e,\u4f1a\u5c06\u6570\u636e\u63d2\u5165\u5230 mysql.user \u8868\u4e2d")),(0,n.kt)("pre",null,(0,n.kt)("code",{parentName:"pre",className:"language-sql"},"UPDATE mysql.user SET USER='\u65b0\u7528\u6237\u540d' WHERE USER='\u65e7\u7528\u6237\u540d';\nFLUSH PRIVILEGES;\n")),(0,n.kt)("h3",{id:"\u5220\u9664\u7528\u6237"},"\u5220\u9664\u7528\u6237"),(0,n.kt)("p",null,"\u5220\u9664\u7528\u6237\u7528\u6709\u4e24\u79cd\u65b9\u5f0f"),(0,n.kt)("ol",null,(0,n.kt)("li",{parentName:"ol"},"\u4f7f\u7528 DROP \u5220\u9664"),(0,n.kt)("li",{parentName:"ol"},"\u4f7f\u7528 DELETE \u65b9\u5f0f\u5220\u9664")),(0,n.kt)("h4",{id:"drop-\u5220\u9664"},"DROP \u5220\u9664"),(0,n.kt)("ul",null,(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("p",{parentName:"li"},"\u57fa\u672c\u8bed\u6cd5"),(0,n.kt)("pre",{parentName:"li"},(0,n.kt)("code",{parentName:"pre",className:"language-sql"},"DROP USER \u7528\u62371 [,\u7528\u62372 ,...];\nFLUSH PRIVILEGES;\n"))),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("p",{parentName:"li"},"\u547d\u4ee4\u4e2d\u53c2\u6570\u8868\u793a\u7684\u542b\u4e49:"),(0,n.kt)("ul",{parentName:"li"},(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("inlineCode",{parentName:"li"},"\u7528\u6237")," ",(0,n.kt)("ul",{parentName:"li"},(0,n.kt)("li",{parentName:"ul"},"\u8868\u793a\u8981\u5220\u9664\u7684\u7528\u6237, \u7531 ",(0,n.kt)("inlineCode",{parentName:"li"},"\u7528\u6237\u540d(UserName)")," \u548c ",(0,n.kt)("inlineCode",{parentName:"li"},"\u4e3b\u673a\u540d(Host)")," \u7ec4\u6210"),(0,n.kt)("li",{parentName:"ul"},"\u5982\u679c\u6ca1\u6709\u6307\u5b9a\u4e3b\u673a\u540d,\u9ed8\u8ba4\u4f7f\u7528 \u2018%\u2019"))))),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("p",{parentName:"li"},"\u53ef\u4ee5\u540c\u65f6\u5220\u9664\u591a\u4e2a"))),(0,n.kt)("h4",{id:"delete-\u5220\u9664"},"DELETE \u5220\u9664\ud83d\ude45"),(0,n.kt)("ul",null,(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("p",{parentName:"li"},"\u57fa\u672c\u8bed\u6cd5"),(0,n.kt)("pre",{parentName:"li"},(0,n.kt)("code",{parentName:"pre",className:"language-sql"},"DELETE  mysql.user  where Host='\u4e3b\u673a\u540d' and User='\u7528\u6237\u540d';\nFLUSH PRIVILEGES;\n")))),(0,n.kt)("admonition",{title:"\u6ce8\u610f",type:"caution"},(0,n.kt)("p",{parentName:"admonition"},"\u4e00\u822c\u6765\u8bf4\u4e0d\u5efa\u8bae\u901a\u8fc7 DELETE \u7684\u65b9\u5f0f\u5220\u9664\u7528\u6237,\u56e0\u4e3a\u7cfb\u7edf\u4f1a\u5b58\u5728\u6b8b\u7559\u7684\u4fe1\u606f,\u800c\u4f7f\u7528 DROP \u7684\u65b9\u5f0f\u5219\u4e0d\u4f1a\u6709\u8fd9\u4e2a\u95ee\u9898")),(0,n.kt)("h3",{id:"\u8bbe\u7f6e\u5f53\u524d\u7528\u6237\u5bc6\u7801"},"\u8bbe\u7f6e\u5f53\u524d\u7528\u6237\u5bc6\u7801"),(0,n.kt)("ul",null,(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("p",{parentName:"li"},"\u8bbe\u7f6e\u5f53\u524d\u7528\u6237\u7684\u5bc6\u7801\u6709\u4e24\u79cd\u65b9\u5f0f"),(0,n.kt)("ul",{parentName:"li"},(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("p",{parentName:"li"},"\u4f7f\u7528 ALTER USER \u7684\u547d\u4ee4"),(0,n.kt)("pre",{parentName:"li"},(0,n.kt)("code",{parentName:"pre",className:"language-sql"},"# user() \u53ef\u4ee5\u8fd4\u56de\u5f53\u524d\u7528\u6237\nALTER USER USER() identified by '\u65b0\u5bc6\u7801';\n"))),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("p",{parentName:"li"},"\u4f7f\u7528 SET \u8bed\u53e5\u4fee\u6539"),(0,n.kt)("pre",{parentName:"li"},(0,n.kt)("code",{parentName:"pre",className:"language-sql"},"# \u8fd9\u79cd\u65b9\u5f0f\u4f1a\u81ea\u52a8\u5c06\u5bc6\u7801\u52a0\u5bc6\u540e\u8d4b\u503c\u7ed9\u5f53\u524d\u7528\u6237\nSET PASSWORD='\u65b0\u5bc6\u7801';\n")))))),(0,n.kt)("h3",{id:"\u4fee\u6539\u5176\u4ed6\u7528\u6237\u5bc6\u7801"},"\u4fee\u6539\u5176\u4ed6\u7528\u6237\u5bc6\u7801"),(0,n.kt)("blockquote",null,(0,n.kt)("p",{parentName:"blockquote"},"\u53c2\u8003\u4fee\u6539\u5f53\u524d\u7528\u6237,\u4e5f\u53ef\u4ee5\u4fee\u6539\u5176\u4ed6\u7528\u6237\u7684\u5bc6\u7801")),(0,n.kt)("ul",null,(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("p",{parentName:"li"},"\u8bbe\u7f6e\u5176\u4ed6\u7528\u6237\u4e5f\u6709\u4e24\u79cd\u65b9\u6cd5"),(0,n.kt)("ul",{parentName:"li"},(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("p",{parentName:"li"},"\u4f7f\u7528 ALTER USER \u7684\u547d\u4ee4"),(0,n.kt)("pre",{parentName:"li"},(0,n.kt)("code",{parentName:"pre",className:"language-sql"},"ALTER USER \u7528\u62371 [IDENTIFIED BY '\u65b0\u5bc6\u7801'] [,\u7528\u62372[IDENTIFIED BY '\u65b0\u5bc6\u7801'] ,...];\n"))),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("p",{parentName:"li"},"\u4f7f\u7528 SET \u8bed\u53e5\u4fee\u6539"),(0,n.kt)("pre",{parentName:"li"},(0,n.kt)("code",{parentName:"pre",className:"language-sql"},"SET PASSWORD FOR \u7528\u6237='\u65b0\u5bc6\u7801';\n")))))),(0,n.kt)("h2",{id:"\u6743\u9650\u7ba1\u7406"},"\u6743\u9650\u7ba1\u7406"),(0,n.kt)("h3",{id:"\u6743\u9650\u5217\u8868"},"\u6743\u9650\u5217\u8868"),(0,n.kt)("p",null,"\u901a\u8fc7 ",(0,n.kt)("inlineCode",{parentName:"p"},"show privileges;")," \u53ef\u4ee5\u67e5\u770b MySQL \u7684\u6743\u9650\u5217\u8868,\u5e38\u89c1\u7684\u6743\u9650\u5982\u4e0b:"),(0,n.kt)("table",null,(0,n.kt)("thead",{parentName:"table"},(0,n.kt)("tr",{parentName:"thead"},(0,n.kt)("th",{parentName:"tr",align:null},"\u6743\u9650"),(0,n.kt)("th",{parentName:"tr",align:null},"\u8bf4\u660e"))),(0,n.kt)("tbody",{parentName:"table"},(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",{parentName:"tr",align:null},(0,n.kt)("inlineCode",{parentName:"td"},"CREATE / DROP")),(0,n.kt)("td",{parentName:"tr",align:null},"\u53ef\u4ee5\u521b\u5efa\u65b0\u7684\u6570\u636e\u5e93\u548c\u8868\uff0c\u6216\u5220\u9664\u5df2\u6709\u7684\u6570\u636e\u5e93\u548c\u8868")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",{parentName:"tr",align:null},(0,n.kt)("inlineCode",{parentName:"td"},"SELECT"),(0,n.kt)("br",null),(0,n.kt)("inlineCode",{parentName:"td"},"INSERT"),(0,n.kt)("br",null),(0,n.kt)("inlineCode",{parentName:"td"},"DELETE"),(0,n.kt)("br",null),(0,n.kt)("inlineCode",{parentName:"td"},"UPDATE")),(0,n.kt)("td",{parentName:"tr",align:null},"\u5141\u8bb8\u5728\u4e00\u4e2a\u6570\u636e\u5e93\u73b0\u6709\u7684\u8868\u4e0a\u5b9e\u65bd\u64cd\u4f5c")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",{parentName:"tr",align:null},(0,n.kt)("inlineCode",{parentName:"td"},"INDEX")),(0,n.kt)("td",{parentName:"tr",align:null},"\u5141\u8bb8\u521b\u5efa\u6216\u5220\u9664\u7d22\u5f15\uff0cINDEX\u9002\u7528\u4e8e\u5df2\u6709\u7684\u8868",(0,n.kt)("br",null),"\u5982\u679c\u5177\u6709\u67d0\u4e2a\u8868\u7684CREATE\u6743\u9650\uff0c\u5c31\u53ef\u4ee5\u5728CREATE TABLE\u8bed\u53e5\u4e2d\u5305\u62ec\u7d22\u5f15\u5b9a\u4e49")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",{parentName:"tr",align:null},(0,n.kt)("inlineCode",{parentName:"td"},"ALTER")),(0,n.kt)("td",{parentName:"tr",align:null},"\u53ef\u4ee5\u4f7f\u7528 ALTER TABLE\u6765\u66f4\u6539\u8868\u7684\u7ed3\u6784\u548c\u91cd\u65b0\u547d\u540d\u8868")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",{parentName:"tr",align:null},(0,n.kt)("inlineCode",{parentName:"td"},"CREATE ROUTINE")),(0,n.kt)("td",{parentName:"tr",align:null},"\u53ef\u4ee5\u66f4\u6539\u548c\u5220\u9664\u4fdd\u5b58\u7684\u5b58\u50a8\u8fc7\u7a0b")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",{parentName:"tr",align:null},(0,n.kt)("inlineCode",{parentName:"td"},"EXECUTE")),(0,n.kt)("td",{parentName:"tr",align:null},"\u53ef\u4ee5\u6267\u884c\u4fdd\u5b58\u7684\u5b58\u50a8\u8fc7\u7a0b")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",{parentName:"tr",align:null},(0,n.kt)("inlineCode",{parentName:"td"},"GRANT")),(0,n.kt)("td",{parentName:"tr",align:null},"\u5141\u8bb8\u6388\u6743\u7ed9\u5176\u4ed6\u7528\u6237\uff0c\u53ef\u7528\u4e8e\u6570\u636e\u5e93\u3001\u8868\u548c\u4fdd\u5b58\u7684\u5b58\u50a8\u8fc7\u7a0b")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",{parentName:"tr",align:null},(0,n.kt)("inlineCode",{parentName:"td"},"FILE")),(0,n.kt)("td",{parentName:"tr",align:null},"\u53ef\u4ee5\u4f7f\u7528LOAD DATA INFILE \u548c SELECT ... INTO OUTFILE \u8bed\u53e5\u8bfb\u6216\u5199\u670d\u52a1\u5668\u4e0a\u7684\u6587\u4ef6",(0,n.kt)("br",null),"\u4efb\u4f55\u88ab\u6388\u4e88 FILE \u6743\u9650\u7684\u7528\u6237\u90fd\u80fd\u8bfb\u6216\u5199 MySQL \u670d\u52a1\u5668\u4e0a\u7684\u4efb\u4f55\u6587\u4ef6")))),(0,n.kt)("p",null,(0,n.kt)("img",{alt:"image-20220503125207478",src:a(71520).Z,width:"1260",height:"934"})),(0,n.kt)("p",null,":::"),(0,n.kt)("admonition",{title:"\u6388\u4e88\u6743\u9650\u7684\u539f\u5219",type:"caution"},(0,n.kt)("p",{parentName:"admonition"},"\u6743\u9650\u63a7\u5236\u4e3b\u8981\u662f\u51fa\u4e8e\u5b89\u5168\u56e0\u7d20\uff0c\u56e0\u6b64\u9700\u8981\u9075\u5faa\u4ee5\u4e0b\u51e0\u4e2a",(0,n.kt)("strong",{parentName:"p"},"\u7ecf\u9a8c\u539f\u5219")," "),(0,n.kt)("ol",{parentName:"admonition"},(0,n.kt)("li",{parentName:"ol"},"\u53ea\u6388\u4e88\u80fd\u6ee1\u8db3\u9700\u8981\u7684",(0,n.kt)("inlineCode",{parentName:"li"},"\u6700\u5c0f\u6743\u9650")," \uff0c\u9632\u6b62\u7528\u6237\u5e72\u574f\u4e8b",(0,n.kt)("ul",{parentName:"li"},(0,n.kt)("li",{parentName:"ul"},"\u6bd4\u5982\u7528\u6237\u53ea\u662f\u9700\u8981\u67e5\u8be2\uff0c\u90a3\u5c31\u53ea\u7ed9select\u6743\u9650\u5c31\u53ef \u4ee5\u4e86\uff0c\u4e0d\u8981\u7ed9\u7528\u6237\u8d4b\u4e88update\u3001insert\u6216\u8005delete\u6743\u9650"))),(0,n.kt)("li",{parentName:"ol"},"\u521b\u5efa\u7528\u6237\u7684\u65f6\u5019",(0,n.kt)("inlineCode",{parentName:"li"},"\u9650\u5236\u7528\u6237\u7684\u767b\u5f55\u4e3b\u673a")," \uff0c\u4e00\u822c\u662f\u9650\u5236\u6210\u6307\u5b9aIP\u6216\u8005\u5185\u7f51IP\u6bb5\u3002"),(0,n.kt)("li",{parentName:"ol"},"\u4e3a\u6bcf\u4e2a\u7528\u6237 ",(0,n.kt)("inlineCode",{parentName:"li"},"\u8bbe\u7f6e\u6ee1\u8db3\u5bc6\u7801\u590d\u6742\u5ea6\u7684\u5bc6\u7801")," "),(0,n.kt)("li",{parentName:"ol"},(0,n.kt)("inlineCode",{parentName:"li"},"\u5b9a\u671f\u6e05\u7406\u4e0d\u9700\u8981\u7684\u7528\u6237"),"\uff0c\u56de\u6536\u6743\u9650\u6216\u8005\u5220\u9664\u7528\u6237"))),(0,n.kt)("h3",{id:"\u6388\u4e88\u6743\u9650"},"\u6388\u4e88\u6743\u9650"),(0,n.kt)("ul",null,(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("p",{parentName:"li"},"MySQL \u7ed9\u7528\u6237\u6388\u6743\u4e00\u822c\u6709\u4e24\u79cd\u65b9\u5f0f: ",(0,n.kt)("inlineCode",{parentName:"p"},"\u89d2\u8272\u8d4b\u4e88\u7ed9\u7528\u6237")," \u548c ",(0,n.kt)("inlineCode",{parentName:"p"},"\u76f4\u63a5\u7ed9\u7528\u6237\u6388\u6743"),"\u3002")),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("p",{parentName:"li"},"\u6388\u6743\u547d\u4ee4"),(0,n.kt)("pre",{parentName:"li"},(0,n.kt)("code",{parentName:"pre",className:"language-sql"},"# \u5982\u679c\u8be5\u7528\u6237\u4e0d\u5b58\u5728,\u90a3\u4e48\u5c31\u4f1a\u65b0\u5efa\u4e00\u4e2a\u7528\u6237\n# ALL [PRIVILEGES] \u8868\u793a\u6240\u6709\u6743\u9650\nGRANT \u6743\u96501,\u6743\u96502,...\u6743\u9650n ON \u6570\u636e\u5e93\u540d\u79f0.\u8868\u540d\u79f0 TO \u7528\u6237 [IDENTIFIED BY \u2018\u5bc6\u7801\u2019];\n")))),(0,n.kt)("admonition",{title:"\u793a\u4f8b",type:"info"},(0,n.kt)("p",{parentName:"admonition"},(0,n.kt)("strong",{parentName:"p"},"1.\u7ed9lisi\u7528\u6237\u7528\u672c\u5730\u547d\u4ee4\u884c\u65b9\u5f0f\uff0c\u6388\u4e88test\u8fd9\u4e2a\u5e93\u4e0b\u7684\u6240\u6709\u8868\u7684\u63d2\u5220\u6539\u67e5\u7684\u6743\u9650\u3002")),(0,n.kt)("pre",{parentName:"admonition"},(0,n.kt)("code",{parentName:"pre",className:"language-sql"},"GRANT SELECT,INSERT,DELETE,UPDATE ON test.* TO lisi@localhost ;\n")),(0,n.kt)("p",{parentName:"admonition"},(0,n.kt)("strong",{parentName:"p"},"2.\u6388\u4e88\u901a\u8fc7\u7f51\u7edc\u65b9\u5f0f\u767b\u5f55\u7684joe\u7528\u6237 \uff0c\u5bf9\u6240\u6709\u5e93\u6240\u6709\u8868\u7684\u5168\u90e8\u6743\u9650\uff0c\u5bc6\u7801\u8bbe\u4e3a123")),(0,n.kt)("pre",{parentName:"admonition"},(0,n.kt)("code",{parentName:"pre",className:"language-sql"},"# \u4e0d\u5305\u62ecgrant\u7684\u6743\u9650\nGRANT ALL PRIVILEGES ON *.* TO joe@'%' IDENTIFIED BY '123'\n"))),(0,n.kt)("h3",{id:"\u67e5\u770b\u6743\u9650"},"\u67e5\u770b\u6743\u9650"),(0,n.kt)("ul",null,(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("p",{parentName:"li"},"\u67e5\u770b\u5f53\u524d\u7528\u6237\u7684\u6743\u9650"),(0,n.kt)("pre",{parentName:"li"},(0,n.kt)("code",{parentName:"pre",className:"language-sql"},"SHOW GRANTS;\n# \u6216\u8005\nSHOW GRANTS FOR CURRENT_USER();\n# \u6216\u8005\nSHOW GRANTS FOR CURRENT_USER;\n"))),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("p",{parentName:"li"},"\u67e5\u770b\u5176\u4ed6\u7528\u6237\u7684\u6743\u9650"),(0,n.kt)("pre",{parentName:"li"},(0,n.kt)("code",{parentName:"pre",className:"language-sql"},"SHOW GRANTS FOR \u7528\u6237;\n")))),(0,n.kt)("h3",{id:"\u56de\u6536\u6743\u9650"},"\u56de\u6536\u6743\u9650"),(0,n.kt)("blockquote",null,(0,n.kt)("p",{parentName:"blockquote"},"\u6240\u8c13\u7684\u56de\u6536\u6743\u9650\u5c31\u662f\u53d6\u6d88\u5df2\u7ecf\u8d4b\u4e88\u7528\u6237\u7684\u67d0\u4e9b\u6743\u9650,\u56de\u6536\u7528\u6237\u4e0d\u5fc5\u8981\u7684\u6743\u9650\u5728\u4e00\u5b9a\u7a0b\u5ea6\u4e0a\u53ef\u4ee5\u4fdd\u8bc1\u7cfb\u7edf\u7684\u5b89\u5168\u6027")),(0,n.kt)("p",null,"MySQL \u4e2d\u4f7f\u7528",(0,n.kt)("inlineCode",{parentName:"p"},"REVOKE \u8bed\u53e5"),"\u6765\u53d6\u6d88\u7528\u6237\u7684\u67d0\u4e9b\u6743\u9650\u3002"),(0,n.kt)("p",null,"\u56de\u6536\u6743\u9650\u540e,\u7528\u6237\u8d26\u6237\u7684\u8bb0\u5f55\u5c06\u4ece db\u3001host\u3001tables_priv\u548ccolumns_priv\u8868\u4e2d\u5220\u9664,\u4f46\u662f\u7528\u6237\u8d26\u6237\u8bb0\u5f55\u4ecd\u7136\u5728user\u8868\u4e2d\u4fdd\u5b58"),(0,n.kt)("p",null,(0,n.kt)("strong",{parentName:"p"},"\u56de\u6536\u6743\u9650\u7684\u547d\u4ee4")),(0,n.kt)("pre",null,(0,n.kt)("code",{parentName:"pre",className:"language-sql"},"REVOKE \u6743\u96501,\u6743\u96502,...\u6743\u9650n ON \u6570\u636e\u5e93\u540d\u79f0.\u8868\u540d\u79f0 FROM \u7528\u6237;\n")),(0,n.kt)("admonition",{title:"\u56de\u6536\u6743\u9650\u793a\u4f8b",type:"info"},(0,n.kt)("p",{parentName:"admonition"},(0,n.kt)("strong",{parentName:"p"},"\u6536\u56de\u5168\u5e93\u5168\u8868\u7684\u6240\u6709\u6743\u9650")),(0,n.kt)("pre",{parentName:"admonition"},(0,n.kt)("code",{parentName:"pre",className:"language-sql"},"REVOKE ALL PRIVILEGES ON *.* FROM joe@'localhost';\n")),(0,n.kt)("p",{parentName:"admonition"},(0,n.kt)("strong",{parentName:"p"},"\u6536\u56demysql\u5e93\u4e0b\u7684\u6240\u6709\u8868\u7684\u63d2\u5220\u6539\u67e5\u6743\u9650")),(0,n.kt)("pre",{parentName:"admonition"},(0,n.kt)("code",{parentName:"pre",className:"language-sql"},"REVOKE SELECT,INSERT,UPDATE,DELETE ON mysql.* FROM joe@localhost;\n"))),(0,n.kt)("h2",{id:"\u6743\u9650\u8868"},"\u6743\u9650\u8868"),(0,n.kt)("p",null,"\u6240\u6709\u7684\u6743\u9650\u8868\u90fd\u4f4d\u4e8e ",(0,n.kt)("inlineCode",{parentName:"p"},"mysql"),"\u5e93\u4e2d"),(0,n.kt)("h3",{id:"user"},"user"),(0,n.kt)("blockquote",null,(0,n.kt)("p",{parentName:"blockquote"},"mysql.user \u662f MySQL \u4e2d\u6700\u91cd\u8981\u7684\u4e00\u5f20\u6743\u9650\u8868,\u8bb0\u5f55\u4e86",(0,n.kt)("inlineCode",{parentName:"p"},"\u7528\u6237\u8d26\u53f7\u4e0e\u6743\u9650\u4fe1\u606f")),(0,n.kt)("p",{parentName:"blockquote"},"\u4f7f\u7528DESCRIBE\u67e5\u770buser\u8868\u7684\u57fa\u672c\u7ed3\u6784:"),(0,n.kt)("p",{parentName:"blockquote"},(0,n.kt)("img",{alt:"image-20220503142219989",src:a(88018).Z,width:"907",height:"829"}))),(0,n.kt)("p",null,"user\u8868\u6709 45 \u4e2a\u5b57\u6bb5,\u8fd9\u4e9b\u5b57\u6bb5\u53ef\u4ee5\u5206\u4e3a 4 \u7c7b,\u5206\u522b\u662f: ",(0,n.kt)("inlineCode",{parentName:"p"},"\u8303\u56f4\u5217(\u7528\u6237\u5217)"),",",(0,n.kt)("inlineCode",{parentName:"p"},"\u6743\u9650\u5217"),",",(0,n.kt)("inlineCode",{parentName:"p"},"\u5b89\u5168\u5217"),",",(0,n.kt)("inlineCode",{parentName:"p"},"\u8d44\u6e90\u63a7\u5236\u5217")),(0,n.kt)("h4",{id:"\u8303\u56f4\u5217"},"\u8303\u56f4\u5217"),(0,n.kt)("blockquote",null,(0,n.kt)("p",{parentName:"blockquote"},"\u8303\u56f4\u5217\u4e5f\u53ef\u4ee5\u53eb\u505a\u7528\u6237\u5217,\u5b58\u50a8\u4e86MySQL \u7528\u6237\u4fe1\u606f")),(0,n.kt)("ul",null,(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("p",{parentName:"li"},(0,n.kt)("inlineCode",{parentName:"p"},"Host")," : \u8868\u793a\u8fde\u63a5\u7c7b\u578b"),(0,n.kt)("ul",{parentName:"li"},(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("inlineCode",{parentName:"li"},"%"),(0,n.kt)("ul",{parentName:"li"},(0,n.kt)("li",{parentName:"ul"},"\u8868\u793a\u6240\u6709\u8fdc\u7a0b\u901a\u8fc7TCP\u65b9\u5f0f\u7684\u8fde\u63a5"))),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("inlineCode",{parentName:"li"},"Ip \u5730\u5740")," ",(0,n.kt)("ul",{parentName:"li"},(0,n.kt)("li",{parentName:"ul"},"\u901a\u8fc7\u6307\u5b9aip\u5730\u5740\u8fdb\u884c\u7684TCP\u65b9\u5f0f\u7684\u8fde\u63a5"))),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("inlineCode",{parentName:"li"},"\u673a\u5668\u540d"),(0,n.kt)("ul",{parentName:"li"},(0,n.kt)("li",{parentName:"ul"},"\u901a\u8fc7\u6307\u5b9a\u7f51\u7edc\u4e2d\u7684\u673a\u5668\u540d\u8fdb\u884c\u7684TCP\u65b9\u5f0f\u7684\u8fde\u63a5"))),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("inlineCode",{parentName:"li"},"::1"),(0,n.kt)("ul",{parentName:"li"},(0,n.kt)("li",{parentName:"ul"},"IPv6\u7684\u672c\u5730ip\u5730\u5740\uff0c\u7b49\u540c\u4e8eIPv4\u7684127.0.0.1"))),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("inlineCode",{parentName:"li"},"localhost"),(0,n.kt)("ul",{parentName:"li"},(0,n.kt)("li",{parentName:"ul"},"\u672c\u5730\u65b9\u5f0f\u901a\u8fc7\u547d\u4ee4\u884c\u65b9\u5f0f\u7684\u8fde\u63a5"))))),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("p",{parentName:"li"},(0,n.kt)("inlineCode",{parentName:"p"},"user")," : \u8868\u793a\u7528\u6237\u540d,\u548c ",(0,n.kt)("em",{parentName:"p"},"Host")," \u914d\u5408\u53ef\u4ee5\u5b9e\u73b0\u540c\u4e00\u4e2a\u8d26\u6237\u4e0d\u540c\u8fde\u63a5\u65b9\u5f0f\u7684\u6743\u9650\u4e0d\u540c")),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("p",{parentName:"li"},(0,n.kt)("inlineCode",{parentName:"p"},"password "),": \u8868\u793a\u5bc6\u7801"),(0,n.kt)("ul",{parentName:"li"},(0,n.kt)("li",{parentName:"ul"},"\u6240\u6709\u5bc6\u7801\u4e32\u901a\u8fc7 password(\u660e\u6587\u5b57\u7b26\u4e32) \u751f\u6210\u7684\u5bc6\u6587\u5b57\u7b26\u4e32"),(0,n.kt)("li",{parentName:"ul"},"MySQL8.0 \u5728\u7528\u6237\u7ba1\u7406\u65b9\u9762\u589e\u52a0\u4e86\u89d2\u8272\u7ba1\u7406\uff0c\u9ed8\u8ba4\u7684\u5bc6\u7801\u52a0\u5bc6\u65b9\u5f0f\u4e5f\u7531\u4e4b\u524d\u7684 SHA1 \u6539\u4e3a\u4e86 SHA2","[\u4e0d\u53ef\u9006]"),(0,n.kt)("li",{parentName:"ul"},"MySQL5.7\u53ca\u4e4b\u540e\u7248\u672c\u7684\u5bc6\u7801\u4fdd\u5b58\u5230 ",(0,n.kt)("inlineCode",{parentName:"li"},"authentication_string")," \u5b57\u6bb5\u4e2d\u4e0d\u518d\u4f7f\u7528password\u5b57\u6bb5")))),(0,n.kt)("h4",{id:"\u6743\u9650\u5217"},"\u6743\u9650\u5217"),(0,n.kt)("ul",null,(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("inlineCode",{parentName:"li"},"Grant_priv"),(0,n.kt)("ul",{parentName:"li"},(0,n.kt)("li",{parentName:"ul"},"\u8868\u793a\u662f\u5426\u62e5\u6709GRANT\u6743\u9650 "))),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("inlineCode",{parentName:"li"},"Shutdown_priv"),(0,n.kt)("ul",{parentName:"li"},(0,n.kt)("li",{parentName:"ul"},"\u8868\u793a\u662f\u5426\u62e5\u6709\u505c\u6b62MySQL\u670d\u52a1\u7684\u6743\u9650 "))),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("inlineCode",{parentName:"li"},"Super_priv\u5b57\u6bb5"),(0,n.kt)("ul",{parentName:"li"},(0,n.kt)("li",{parentName:"ul"},"\u8868\u793a\u662f\u5426\u62e5\u6709\u8d85\u7ea7\u6743\u9650 "))),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("inlineCode",{parentName:"li"},"Execute_priv"),(0,n.kt)("ul",{parentName:"li"},(0,n.kt)("li",{parentName:"ul"},"\u8868\u793a\u662f\u5426\u62e5\u6709EXECUTE\u6743\u9650\u3002\u62e5\u6709EXECUTE\u6743\u9650\uff0c\u53ef\u4ee5\u6267\u884c\u5b58\u50a8\u8fc7\u7a0b\u548c\u51fd\u6570\u3002 "))),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("inlineCode",{parentName:"li"},"Select_priv")," , ",(0,n.kt)("inlineCode",{parentName:"li"},"Insert_priv"),"\u7b49",(0,n.kt)("ul",{parentName:"li"},(0,n.kt)("li",{parentName:"ul"},"\u4e3a\u8be5\u7528\u6237\u6240\u62e5\u6709\u7684\u6743\u9650\u3002")))),(0,n.kt)("h4",{id:"\u5b89\u5168\u5217"},"\u5b89\u5168\u5217"),(0,n.kt)("ul",null,(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("inlineCode",{parentName:"li"},"ssl_type")," \u548c ",(0,n.kt)("inlineCode",{parentName:"li"},"ssl_cipher"),(0,n.kt)("ul",{parentName:"li"},(0,n.kt)("li",{parentName:"ul"},"\u4e0e SSL \u6709\u5173,\u7528\u4e8e",(0,n.kt)("strong",{parentName:"li"},"\u52a0\u5bc6")))),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("inlineCode",{parentName:"li"},"x509_issuer\u3001x509_subject"),(0,n.kt)("ul",{parentName:"li"},(0,n.kt)("li",{parentName:"ul"},"\u4e0ex509\u6709\u5173,\u7528\u4e8e",(0,n.kt)("strong",{parentName:"li"},"\u6807\u8bc6\u7528\u6237"))))),(0,n.kt)("h4",{id:"\u8d44\u6e90\u63a7\u5236\u5217"},"\u8d44\u6e90\u63a7\u5236\u5217"),(0,n.kt)("ul",null,(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("inlineCode",{parentName:"li"},"max_questions"),(0,n.kt)("ul",{parentName:"li"},(0,n.kt)("li",{parentName:"ul"},"\u7528\u6237\u6bcf\u5c0f\u65f6\u5141\u8bb8\u6267\u884c\u7684\u67e5\u8be2\u64cd\u4f5c\u6b21\u6570"))),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("inlineCode",{parentName:"li"},"max_updates"),(0,n.kt)("ul",{parentName:"li"},(0,n.kt)("li",{parentName:"ul"},"\u7528\u6237\u6bcf\u5c0f\u65f6\u5141\u8bb8\u6267\u884c\u7684\u66f4\u65b0\u64cd\u4f5c\u6b21\u6570"))),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("inlineCode",{parentName:"li"},"max_connections"),(0,n.kt)("ul",{parentName:"li"},(0,n.kt)("li",{parentName:"ul"},"\u7528\u6237\u6bcf\u5c0f\u65f6\u5141\u8bb8\u6267\u884c\u7684\u8fde\u63a5\u64cd\u4f5c\u6b21\u6570"))),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("inlineCode",{parentName:"li"},"max_user_connections"),(0,n.kt)("ul",{parentName:"li"},(0,n.kt)("li",{parentName:"ul"},"\u7528\u6237\u5141\u8bb8\u540c\u65f6\u5efa\u7acb\u7684\u8fde\u63a5\u6b21\u6570")))),(0,n.kt)("h3",{id:"db"},"db"),(0,n.kt)("blockquote",null,(0,n.kt)("p",{parentName:"blockquote"},"\u4f7f\u7528DESCRIBE\u67e5\u770bdb\u8868\u7684\u57fa\u672c\u7ed3\u6784:"),(0,n.kt)("p",{parentName:"blockquote"},(0,n.kt)("img",{alt:"image-20220503142417988",src:a(53181).Z,width:"970",height:"450"}))),(0,n.kt)("ul",null,(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("p",{parentName:"li"},"db \u8868\u4e2d\u5171\u6709 22 \u4e2a\u5b57\u6bb5,\u5927\u81f4\u53ef\u4ee5\u5206\u4e3a\u4e24\u7c7b:",(0,n.kt)("inlineCode",{parentName:"p"},"\u7528\u6237\u5217"),"\u548c",(0,n.kt)("inlineCode",{parentName:"p"},"\u6743\u9650\u5217"),"\u3002"),(0,n.kt)("ul",{parentName:"li"},(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("p",{parentName:"li"},(0,n.kt)("strong",{parentName:"p"},"\u7528\u6237\u5217")),(0,n.kt)("ul",{parentName:"li"},(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("inlineCode",{parentName:"li"},"Host")," : \u8868\u793a\u4e3b\u673a\u540d"),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("inlineCode",{parentName:"li"},"Db")," : \u8868\u793a\u6570\u636e\u5e93\u540d"),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("inlineCode",{parentName:"li"},"User")," : \u8868\u793a\u7528\u6237\u540d"))),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("p",{parentName:"li"},(0,n.kt)("strong",{parentName:"p"},"\u6743\u9650\u5217")),(0,n.kt)("ul",{parentName:"li"},(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("inlineCode",{parentName:"li"},"Create_routine_priv")),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("inlineCode",{parentName:"li"},"Alter_routine_priv")),(0,n.kt)("li",{parentName:"ul"},"\u2026"))))),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("p",{parentName:"li"},"db \u8868\u4e3b\u8981\u7528\u4e0e\u63a7\u5236\u67d0\u4e2a\u4e3b\u673a\u8fde\u63a5\u67d0\u4e2a\u7528\u6237\u5bf9\u67d0\u4e2a\u6570\u636e\u5e93\u7684\u64cd\u4f5c\u6743\u9650"))),(0,n.kt)("h3",{id:"tables_priv-\u4e0e-columns_priv"},"tables_priv \u4e0e columns_priv"),(0,n.kt)("blockquote",null,(0,n.kt)("p",{parentName:"blockquote"},"tables_priv\u8868\u7528\u6765 ",(0,n.kt)("inlineCode",{parentName:"p"},"\u5bf9\u8868\u8bbe\u7f6e\u64cd\u4f5c\u6743\u9650")," \uff0ccolumns_priv\u8868\u7528\u6765\u5bf9\u8868\u7684",(0,n.kt)("inlineCode",{parentName:"p"}," \u67d0\u4e00\u5217\u8bbe\u7f6e\u6743\u9650"),"z")),(0,n.kt)("ul",null,(0,n.kt)("li",{parentName:"ul"},"tables_priv\u8868\u67098\u4e2a\u5b57\u6bb5",(0,n.kt)("ul",{parentName:"li"},(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("inlineCode",{parentName:"li"},"Host\u3001Db\u3001User\u3001Table_name"),(0,n.kt)("ul",{parentName:"li"},(0,n.kt)("li",{parentName:"ul"},"\u8868\u793a\u4e3b\u673a\u540d\u3001\u6570\u636e\u5e93\u540d\u3001\u7528\u6237\u540d\u548c\u8868\u540d"))),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("inlineCode",{parentName:"li"},"Grantor"),(0,n.kt)("ul",{parentName:"li"},(0,n.kt)("li",{parentName:"ul"},"\u8868\u793a\u4fee\u6539\u8be5\u8bb0\u5f55\u7684\u7528\u6237"))),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("inlineCode",{parentName:"li"},"Timestamp"),(0,n.kt)("ul",{parentName:"li"},(0,n.kt)("li",{parentName:"ul"},"\u8868\u793a\u4fee\u6539\u8be5\u8bb0\u5f55\u7684\u65f6\u95f4"))),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("inlineCode",{parentName:"li"},"Table_priv"),(0,n.kt)("ul",{parentName:"li"},(0,n.kt)("li",{parentName:"ul"},"\u8868\u793a\u5bf9\u8c61\u7684\u64cd\u4f5c\u6743\u9650"),(0,n.kt)("li",{parentName:"ul"},"\u5305\u62ecSelect\u3001Insert\u3001Update\u3001Delete\u3001Create\u3001Drop\u3001Grant\u3001 References\u3001Index\u548cAlter"))),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("inlineCode",{parentName:"li"}," Column_priv"),(0,n.kt)("ul",{parentName:"li"},(0,n.kt)("li",{parentName:"ul"},"\u8868\u793a\u5bf9\u8868\u4e2d\u7684\u5217\u7684\u64cd\u4f5c\u6743\u9650"),(0,n.kt)("li",{parentName:"ul"},"\u5305\u62ecSelect\u3001Insert\u3001Update\u548cReferences")))))),(0,n.kt)("admonition",{title:"\u67e5\u770btable_priv \u4e0e columns_priv\u7ed3\u6784",type:"info"},(0,n.kt)("p",{parentName:"admonition"},(0,n.kt)("img",{alt:"image-20220503143459423",src:a(9382).Z,width:"1206",height:"316"})),(0,n.kt)("p",{parentName:"admonition"},(0,n.kt)("img",{alt:"image-20220503143528953",src:a(76910).Z,width:"1211",height:"344"}))),(0,n.kt)("h3",{id:"procs_priv"},"procs_priv"),(0,n.kt)("blockquote",null,(0,n.kt)("p",{parentName:"blockquote"},"procs_priv\u8868\u53ef\u4ee5\u5bf9 \u5b58\u50a8\u8fc7\u7a0b\u548c\u5b58\u50a8\u51fd\u6570\u8bbe\u7f6e\u64cd\u4f5c\u6743\u9650"),(0,n.kt)("p",{parentName:"blockquote"},(0,n.kt)("img",{alt:"image-20220503143837936",src:a(61573).Z,width:"1132",height:"235"}))),(0,n.kt)("h2",{id:"\u8bbf\u95ee\u63a7\u5236"},"\u8bbf\u95ee\u63a7\u5236"),(0,n.kt)("blockquote",null,(0,n.kt)("p",{parentName:"blockquote"},"\u8bbf\u95ee\u63a7\u5236\u5206\u4e3a\u4e24\u4e2a\u9636\u6bb5: ",(0,n.kt)("strong",{parentName:"p"},"\u8fde\u63a5\u6838\u5b9e\u9636\u6bb5")," \u548c ",(0,n.kt)("strong",{parentName:"p"},"\u8bf7\u6c42\u6838\u5b9e\u9636\u6bb5"))),(0,n.kt)("h3",{id:"\u8fde\u63a5\u6838\u5b9e\u9636\u6bb5"},"\u8fde\u63a5\u6838\u5b9e\u9636\u6bb5"),(0,n.kt)("blockquote",null,(0,n.kt)("p",{parentName:"blockquote"},"\u8fd9\u4e2a\u9636\u6bb5\u5728\u7528\u6237\u767b\u5f55\u7684\u65f6\u5019\u5224\u65ad\u7528\u6237\u767b\u5f55\u4fe1\u606f\u662f\u5426\u6b63\u786e")),(0,n.kt)("ul",null,(0,n.kt)("li",{parentName:"ul"},"\u5f53\u7528\u6237\u8bd5\u56fe\u8fde\u63a5 MySQL \u670d\u52a1\u5668\u65f6\uff0c\u670d\u52a1\u5668\u57fa\u4e8e\u7528\u6237\u7684\u8eab\u4efd\u4ee5\u53ca\u7528\u6237\u662f\u5426\u80fd\u63d0\u4f9b\u6b63\u786e\u7684\u5bc6\u7801\u9a8c\u8bc1\u8eab\u4efd\u6765\u786e\u5b9a\u63a5\u53d7\u6216\u8005\u62d2\u7edd\u8fde\u63a5",(0,n.kt)("ul",{parentName:"li"},(0,n.kt)("li",{parentName:"ul"},"\u5373\u5ba2\u6237\u7aef\u7528\u6237\u4f1a\u5728\u8fde\u63a5\u8bf7\u6c42\u4e2d\u63d0\u4f9b\u7528\u6237\u540d\u3001\u4e3b\u673a\u5730\u5740\u3001\u7528\u6237\u5bc6\u7801\uff0cMySQL \u670d\u52a1\u5668\u63a5\u6536\u5230\u7528\u6237\u8bf7\u6c42\u540e\uff0c\u4f1a\u4f7f\u7528user\u8868\u4e2d\u7684host\u3001user\u548cauthentication_string\u8fd93\u4e2a\u5b57\u6bb5\u5339\u914d\u5ba2\u6237\u7aef\u63d0\u4f9b\u4fe1\u606f"),(0,n.kt)("li",{parentName:"ul"},"\u670d\u52a1\u5668\u53ea\u6709\u5728user\u8868\u8bb0\u5f55\u7684Host\u548cUser\u5b57\u6bb5\u5339\u914d\u5ba2\u6237\u7aef\u4e3b\u673a\u540d\u548c\u7528\u6237\u540d\uff0c\u5e76\u4e14\u63d0\u4f9b\u6b63\u786e\u7684\u5bc6\u7801\u65f6\u624d\u63a5\u53d7\u8fde\u63a5\u3002")))),(0,n.kt)("h3",{id:"\u8bf7\u6c42\u6838\u5b9e\u9636\u6bb5"},"\u8bf7\u6c42\u6838\u5b9e\u9636\u6bb5"),(0,n.kt)("ul",null,(0,n.kt)("li",{parentName:"ul"},"\u5728\u7528\u6237\u6210\u529f\u767b\u5f55\u5efa\u7acb\u8fde\u63a5\u4e4b\u540e,MySQL \u4f1a\u5bf9\u8fd9\u4e2a\u8fde\u63a5\u4e0a\u7684\u6bcf\u4e2a\u8bf7\u6c42\u8fdb\u884c\u68c0\u67e5,\u5224\u65ad\u662f\u5426\u6709\u8db3\u591f\u7684\u6743\u9650\u6267\u884c\u5b83",(0,n.kt)("ul",{parentName:"li"},(0,n.kt)("li",{parentName:"ul"},"\u8fd9\u4e9b\u6743\u9650\u6765\u81eauser\u3001db\u3001table_priv\u548ccolumn_priv\u8868"))),(0,n.kt)("li",{parentName:"ul"},"\u786e\u8ba4\u6743\u9650\u7684\u65f6\u5019,MySQL \u4f1a \u901a\u8fc7 ",(0,n.kt)("inlineCode",{parentName:"li"},"user -> db -> tables_priv -> columns_priv")," \u7684\u987a\u5e8f\u9010\u6b65\u5411\u4e0b\u68c0\u67e5",(0,n.kt)("ul",{parentName:"li"},(0,n.kt)("li",{parentName:"ul"},"\u5982\u679c\u6700\u540e\u90fd\u6ca1\u6709\u627e\u5230\u8bf7\u6c42\u5bf9\u5e94\u7684\u6743\u9650,\u90a3\u4e48\u5c31\u4efb\u52a1\u6ca1\u6709\u8db3\u591f\u7684\u6743\u9650(\u64cd\u4f5c\u5931\u8d25)")))),(0,n.kt)("p",null,(0,n.kt)("img",{alt:"image-20220529125053241",src:a(66753).Z,width:"950",height:"806"})),(0,n.kt)("h2",{id:"\u89d2\u8272\u7ba1\u7406"},"\u89d2\u8272\u7ba1\u7406"),(0,n.kt)("blockquote",null,(0,n.kt)("p",{parentName:"blockquote"},"\u5728 MySQL8.0\u4e2d\u5f15\u5165\u89d2\u8272,\u76ee\u7684\u662f\u4e3a\u4e86\u65b9\u4fbf\u7ba1\u7406\u6709\u76f8\u540c\u6743\u9650\u7684\u7528\u6237,\u5c31\u662f\u5bf9\u76f8\u540c\u6743\u9650\u7684\u5c01\u88c5\u96c6\u5408")),(0,n.kt)("h3",{id:"\u521b\u5efa\u89d2\u8272"},"\u521b\u5efa\u89d2\u8272"),(0,n.kt)("ul",null,(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("p",{parentName:"li"},"\u57fa\u672c\u8bed\u6cd5"),(0,n.kt)("pre",{parentName:"li"},(0,n.kt)("code",{parentName:"pre",className:"language-sql"},"CREATE ROLE '\u89d2\u8272\u540d\u79f01' [@'\u4e3b\u673a\u540d1'] [, '\u89d2\u8272\u540d\u79f02' [@'\u4e3b\u673a\u540d2'], ... ]\n"))),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("p",{parentName:"li"},"\u57fa\u672c\u89c4\u5219"),(0,n.kt)("ul",{parentName:"li"},(0,n.kt)("li",{parentName:"ul"},"\u5982\u679chost_name\u7701\u7565,\u9ed8\u8ba4\u4e3a%"),(0,n.kt)("li",{parentName:"ul"},"role_name\u4e0d\u53ef\u7701\u7565,\u4e0d\u53ef\u4e3a\u7a7a")))),(0,n.kt)("admonition",{title:"\u521b\u5efa\u4e00\u4e2a\u89d2\u8272",type:"info"},(0,n.kt)("pre",{parentName:"admonition"},(0,n.kt)("code",{parentName:"pre",className:"language-sql"},"create role 'manager'@'%';\n"))),(0,n.kt)("h3",{id:"\u7ed9\u89d2\u8272\u6388\u6743"},"\u7ed9\u89d2\u8272\u6388\u6743"),(0,n.kt)("ul",null,(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("p",{parentName:"li"},"\u521b\u5efa\u7684\u89d2\u8272\u9ed8\u8ba4\u662f\u4e5c\u6709\u4efb\u4f55\u6743\u9650\u7684,\u9700\u8981\u7ed9\u89d2\u8272\u6388\u6743")),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("p",{parentName:"li"},"\u57fa\u672c\u8bed\u6cd5"),(0,n.kt)("pre",{parentName:"li"},(0,n.kt)("code",{parentName:"pre",className:"language-sql"},"GRANT [\u6743\u96501,\u6743\u96502,...] ON \u6570\u636e\u5e93\u540d.\u8868\u540d TO '\u89d2\u8272\u540d'[@'\u4e3b\u673a\u540d'];\n")))),(0,n.kt)("admonition",{title:"\u7ed9\u89d2\u8272\u6388\u6743\u793a\u4f8b",type:"info"},(0,n.kt)("pre",{parentName:"admonition"},(0,n.kt)("code",{parentName:"pre",className:"language-sql"},"grant all privileges on *.* to 'manager'@'%';\n"))),(0,n.kt)("h3",{id:"\u67e5\u770b\u89d2\u8272\u7684\u6743\u9650"},"\u67e5\u770b\u89d2\u8272\u7684\u6743\u9650"),(0,n.kt)("ul",null,(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("p",{parentName:"li"},"\u57fa\u672c\u8bed\u6cd5"),(0,n.kt)("pre",{parentName:"li"},(0,n.kt)("code",{parentName:"pre",className:"language-sql"},"show grants for '\u89d2\u8272\u540d'@'\u4e3b\u673a\u540d';\n")))),(0,n.kt)("h3",{id:"\u56de\u6536\u89d2\u8272\u6743\u9650"},"\u56de\u6536\u89d2\u8272\u6743\u9650"),(0,n.kt)("blockquote",null,(0,n.kt)("p",{parentName:"blockquote"},"\u548c\u7528\u6237\u6743\u9650\u4e00\u6837,\u901a\u8fc7",(0,n.kt)("inlineCode",{parentName:"p"},"REVOKE")," \u8bed\u53e5\u56de\u6536\u89d2\u8272\u7684\u6743\u9650"),(0,n.kt)("p",{parentName:"blockquote"},"\u9700\u8981\u6ce8\u610f\u7684\u662f,\u56de\u6536\u89d2\u8272\u6743\u9650\u4f1a\u5f71\u54cd\u62e5\u6709\u8be5\u89d2\u8272\u7684\u7528\u6237")),(0,n.kt)("ul",null,(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("p",{parentName:"li"},"\u57fa\u672c\u8bed\u6cd5"),(0,n.kt)("pre",{parentName:"li"},(0,n.kt)("code",{parentName:"pre",className:"language-sql"},"REVOKE \u6743\u96501, \u6743\u96502, ... on \u6570\u636e\u5e93\u540d.\u8868\u540d from '\u89d2\u8272\u540d'[@'\u4e3b\u673a\u540d'];\n"))),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("p",{parentName:"li"},"\u6ce8\u610f:\u9ed8\u8ba4 root \u4e5f\u6ca1\u6709  ",(0,n.kt)("em",{parentName:"p"},"SYSTEM_USER")," \u7684\u6743\u9650,\u65e0\u6cd5\u56de\u6536\u89d2\u8272\u6743\u9650,\u9700\u8981\u624b\u52a8\u6388\u6743"))),(0,n.kt)("h3",{id:"\u5220\u9664\u89d2\u8272"},"\u5220\u9664\u89d2\u8272"),(0,n.kt)("ul",null,(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("p",{parentName:"li"},"\u57fa\u672c\u8bed\u6cd5"),(0,n.kt)("pre",{parentName:"li"},(0,n.kt)("code",{parentName:"pre",className:"language-sql"},"DROP ROLE  '\u89d2\u8272\u540d1'@'\u4e3b\u673a\u540d1' [,'\u89d2\u8272\u540d2'@'\u4e3b\u673a\u540d2',...];\n")))),(0,n.kt)("h3",{id:"\u7528\u6237\u8d4b\u4e88\u89d2\u8272"},"\u7528\u6237\u8d4b\u4e88\u89d2\u8272"),(0,n.kt)("ul",null,(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("p",{parentName:"li"},"\u57fa\u672c\u8bed\u6cd5"),(0,n.kt)("pre",{parentName:"li"},(0,n.kt)("code",{parentName:"pre",className:"language-sql"},"GRANT '\u89d2\u8272\u540d1'@'\u4e3b\u673a\u540d1' [,'\u89d2\u8272\u540d2'@'\u4e3b\u673a\u540d2',...] TO \u7528\u62371 [,\u7528\u62372,...]\n"))),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("p",{parentName:"li"},"\u901a\u8fc7 ",(0,n.kt)("inlineCode",{parentName:"p"},"SELECT CURRENT_ROLE();")," \u53ef\u4ee5\u67e5\u770b\u5f53\u524d\u89d2\u8272")),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("mark",null,"\u6ce8\u610f:\u5f53\u7528\u6237\u88ab\u8d4b\u4e88\u67d0\u4e2a\u89d2\u8272\u540e,\u9ed8\u8ba4\u8fd9\u4e2a\u89d2\u8272\u5904\u4e8e\u975e\u6fc0\u6d3b\u72b6\u6001"))),(0,n.kt)("h3",{id:"\u6fc0\u6d3b\u89d2\u8272"},"\u6fc0\u6d3b\u89d2\u8272"),(0,n.kt)("p",null,"\u6709\u4e24\u79cd\u65b9\u5f0f\u53ef\u4ee5\u6fc0\u6d3b\u89d2\u8272"),(0,n.kt)("ol",null,(0,n.kt)("li",{parentName:"ol"},"\u4f7f\u7528",(0,n.kt)("inlineCode",{parentName:"li"},"SET DEFAULT ROLE '\u89d2\u8272\u540d1'@'\u4e3b\u673a\u540d1' [,'\u89d2\u8272\u540d2'@'\u4e3b\u673a\u540d2',...]  TO \u7528\u62371 [,\u7528\u62372,...]"),(0,n.kt)("ul",{parentName:"li"},(0,n.kt)("li",{parentName:"ul"},"\u8fd9\u79cd\u65b9\u6cd5\u4f1a\u6fc0\u6d3b\u6240\u6709\u6307\u5b9a\u7528\u6237\u7684\u6307\u5b9a\u89d2\u8272"),(0,n.kt)("li",{parentName:"ul"},"\u53ef\u4ee5\u5c06\u89d2\u8272\u5217\u8868\u66ff\u6362\u4e3a ",(0,n.kt)("inlineCode",{parentName:"li"},"ALL"),",\u4f1a\u6fc0\u6d3b\u7528\u6237\u7684\u6240\u6709\u89d2\u8272"))),(0,n.kt)("li",{parentName:"ol"},"\u4fee\u6539\u914d\u7f6e\u6587\u4ef6 ",(0,n.kt)("inlineCode",{parentName:"li"},"activate_all_roles_on_login = ON"),",\u5728\u767b\u5f55\u65f6\u6fc0\u6d3b\u6240\u6709\u7684\u89d2\u8272")),(0,n.kt)("admonition",{title:"\u4f7f\u7528 SET DEFAULT ROLE",type:"info"},(0,n.kt)("pre",{parentName:"admonition"},(0,n.kt)("code",{parentName:"pre",className:"language-sql"},"set default role ALL to zyl@'%';\n"))),(0,n.kt)("h3",{id:"\u64a4\u9500\u7528\u6237\u89d2\u8272"},"\u64a4\u9500\u7528\u6237\u89d2\u8272"),(0,n.kt)("ul",null,(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("p",{parentName:"li"},"\u57fa\u672c\u8bed\u6cd5"),(0,n.kt)("pre",{parentName:"li"},(0,n.kt)("code",{parentName:"pre",className:"language-sql"},"REVOKE '\u89d2\u8272\u540d1'@'\u4e3b\u673a\u540d1' [,'\u89d2\u8272\u540d2'@'\u4e3b\u673a\u540d2',...] from \u7528\u62371 [,\u7528\u62372,...]\n")))),(0,n.kt)("h3",{id:"\u8bbe\u7f6e\u5f3a\u5236\u89d2\u8272"},"\u8bbe\u7f6e\u5f3a\u5236\u89d2\u8272"),(0,n.kt)("ul",null,(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("p",{parentName:"li"},"\u65b9\u5f0f1: ",(0,n.kt)("inlineCode",{parentName:"p"},"\u670d\u52a1\u542f\u52a8\u524d\u8bbe\u7f6e")),(0,n.kt)("pre",{parentName:"li"},(0,n.kt)("code",{parentName:"pre",className:"language-ini"},"# \u4fee\u6539 my.cnf\n[mysqld]\nmandatory_roles='role1,role2@localhost,r3@%.atguigu.com'\n"))),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("p",{parentName:"li"},"\u65b9\u5f0f2: ",(0,n.kt)("inlineCode",{parentName:"p"},"\u8fd0\u884c\u65f6\u8bbe\u7f6e")),(0,n.kt)("pre",{parentName:"li"},(0,n.kt)("code",{parentName:"pre",className:"language-sql"},"#\u7cfb\u7edf\u91cd\u542f\u540e\u4ecd\u7136\u6709\u6548\nSET PERSIST mandatory_roles = 'role1,role2@localhost,r3@%.example.com'; \n\n#\u7cfb\u7edf\u91cd\u542f\u540e\u5931\u6548\nSET GLOBAL mandatory_roles = 'role1,role2@localhost,r3@%.example.com'; \n")))),(0,n.kt)("h2",{id:"\u914d\u7f6e\u6587\u4ef6"},"\u914d\u7f6e\u6587\u4ef6"),(0,n.kt)("h3",{id:"\u914d\u7f6e\u6587\u4ef6\u683c\u5f0f"},"\u914d\u7f6e\u6587\u4ef6\u683c\u5f0f"),(0,n.kt)("p",null,"\u548c\u547d\u4ee4\u884c\u4e2d\u6307\u5b9a\u542f\u52a8\u9009\u9879\u4e0d\u4e00\u6837\u7684\u662f\uff0c\u914d\u7f6e\u6587\u4ef6\u4e2d\u7684\u542f\u52a8\u9009\u9879\u88ab\u5212\u5206\u4e3a\u82e5\u5e72\u4e2a\u5c0f\u7ec4\uff0c\u6bcf\u4e2a\u5c0f\u7ec4\u6709\u4e00\u4e2a\u7ec4\u540d,\u5e76\u4e14\u7528\u4e2d\u62ec\u53f7",(0,n.kt)("inlineCode",{parentName:"p"},"[]"),"\u5305\u8d77\u6765"),(0,n.kt)("pre",null,(0,n.kt)("code",{parentName:"pre",className:"language-ini"},"[server]\n# ...\n\n[mysqld]\n#....\n\n[mysqld_safe]\n#...\n\n[client]\n#...\n\n[mysql]\n#...\n\n[mysqladmin]\n#...\n")),(0,n.kt)("h3",{id:"\u542f\u52a8\u547d\u4ee4\u4e0e\u9009\u9879\u7ec4"},"\u542f\u52a8\u547d\u4ee4\u4e0e\u9009\u9879\u7ec4"),(0,n.kt)("p",null,"\u914d\u7f6e\u6587\u4ef6\u4e2d\u4e0d\u540c\u7684\u9009\u9879\u7ec4\u662f\u7ed9\u4e0d\u540c\u7684\u542f\u52a8\u547d\u4ee4\u4f7f\u7528\u7684,\u4e0d\u8fc7\u6709\u4e24\u4e2a\u9009\u9879\u7ec4\u6bd4\u8f83\u7279\u522b"),(0,n.kt)("ul",null,(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("inlineCode",{parentName:"li"},"[server]")," : \u4f5c\u7528\u4e8e",(0,n.kt)("font",{color:"red"},"\u6240\u6709\u7684\u670d\u52a1\u5668"),"\u7a0b\u5e8f"),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("inlineCode",{parentName:"li"},"[client]")," : \u4f5c\u7528\u4e8e",(0,n.kt)("font",{color:"red"},"\u6240\u6709\u7684\u5ba2\u6237\u7aef"),"\u7a0b\u5e8f")),(0,n.kt)("p",null,"\u4e0b\u9762\u662f\u542f\u52a8\u547d\u4ee4\u80fd\u8bfb\u53d6\u7684\u9009\u9879\u7ec4"),(0,n.kt)("table",null,(0,n.kt)("thead",{parentName:"table"},(0,n.kt)("tr",{parentName:"thead"},(0,n.kt)("th",{parentName:"tr",align:null},"\u542f\u52a8\u547d\u4ee4"),(0,n.kt)("th",{parentName:"tr",align:null},"\u7c7b\u522b"),(0,n.kt)("th",{parentName:"tr",align:null},"\u80fd\u8bfb\u53d6\u7684\u7ec4"))),(0,n.kt)("tbody",{parentName:"table"},(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",{parentName:"tr",align:null},(0,n.kt)("inlineCode",{parentName:"td"},"mysqld")),(0,n.kt)("td",{parentName:"tr",align:null},"\u542f\u52a8\u670d\u52a1\u5668"),(0,n.kt)("td",{parentName:"tr",align:null},(0,n.kt)("inlineCode",{parentName:"td"},"[mysqld]\u3001[server]"))),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",{parentName:"tr",align:null},(0,n.kt)("inlineCode",{parentName:"td"},"mysqld_safe")),(0,n.kt)("td",{parentName:"tr",align:null},"\u542f\u52a8\u670d\u52a1\u5668"),(0,n.kt)("td",{parentName:"tr",align:null},(0,n.kt)("inlineCode",{parentName:"td"},"[mysqld]\u3001[server]\u3001[mysqld_safe]"))),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",{parentName:"tr",align:null},(0,n.kt)("inlineCode",{parentName:"td"},"mysql.server")),(0,n.kt)("td",{parentName:"tr",align:null},"\u542f\u52a8\u670d\u52a1\u5668"),(0,n.kt)("td",{parentName:"tr",align:null},(0,n.kt)("inlineCode",{parentName:"td"},"[mysqld]\u3001[server]\u3001[mysql.server]"))),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",{parentName:"tr",align:null},(0,n.kt)("inlineCode",{parentName:"td"},"mysql")),(0,n.kt)("td",{parentName:"tr",align:null},"\u542f\u52a8\u5ba2\u6237\u7aef"),(0,n.kt)("td",{parentName:"tr",align:null},(0,n.kt)("inlineCode",{parentName:"td"},"[mysql]\u3001[client]"))),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",{parentName:"tr",align:null},(0,n.kt)("inlineCode",{parentName:"td"},"mysqladmin")),(0,n.kt)("td",{parentName:"tr",align:null},"\u542f\u52a8\u5ba2\u6237\u7aef"),(0,n.kt)("td",{parentName:"tr",align:null},(0,n.kt)("inlineCode",{parentName:"td"},"[mysqladmin]\u3001[client]"))),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",{parentName:"tr",align:null},(0,n.kt)("inlineCode",{parentName:"td"},"mysqldump")),(0,n.kt)("td",{parentName:"tr",align:null},"\u542f\u52a8\u5ba2\u6237\u7aef"),(0,n.kt)("td",{parentName:"tr",align:null},(0,n.kt)("inlineCode",{parentName:"td"},"[mysqldump]\u3001[client]"))))),(0,n.kt)("admonition",{title:"\u4fee\u6539\u914d\u7f6e\u6587\u4ef6",type:"info"},(0,n.kt)("p",{parentName:"admonition"},"\u6bd4\u5982\u5728 /etc/mysql/my.cnf \u4e2d\u6dfb\u52a0\u4e0b\u9762\u7684\u5185\u5bb9"),(0,n.kt)("pre",{parentName:"admonition"},(0,n.kt)("code",{parentName:"pre",className:"language-ini"},"[server]\nskip-networking\ndefault-storage-engine=MyISAM\n")),(0,n.kt)("p",{parentName:"admonition"},"\u7136\u540e\u76f4\u63a5\u7528 ",(0,n.kt)("inlineCode",{parentName:"p"},"mysqld")," \u542f\u52a8 MySQL \u670d\u52a1\u5668\u3002\u867d\u7136\u6ca1\u6709\u5728\u547d\u4ee4\u884c\u4e2d\u6dfb\u52a0\u542f\u52a8\u9009\u9879,\u4f46\u662f\u5728",(0,n.kt)("strong",{parentName:"p"},"\u542f\u52a8\u670d\u52a1\u5668"),"\u7684\u65f6\u5019,\u4f1a\u627e\u5230\u914d\u7f6e\u6587\u4ef6\u5bf9\u5e94\u7684\u9009\u9879\u7ec4,\u5305\u62ec\u8fd9\u91cc\u7684 ",(0,n.kt)("em",{parentName:"p"},"skip-networking\u3001default-storage-engine"),"\u3002\u4f46\u5982\u679c\u5c06\u914d\u7f6e\u653e\u5728 client \u9009\u9879\u7ec4\u4e2d\u5c31\u4e0d\u4f1a\u751f\u6548\u3002")),(0,n.kt)("h3",{id:"\u9009\u9879\u7ec4\u4f18\u5148\u7ea7"},"\u9009\u9879\u7ec4\u4f18\u5148\u7ea7"),(0,n.kt)("blockquote",null,(0,n.kt)("p",{parentName:"blockquote"},"\u5728\u670d\u52a1\u5668\u542f\u52a8\u7684\u65f6\u5019\uff0c\u6267\u884c mysqld \u7684\u547d\u4ee4\uff0c\u53ef\u4ee5\u8bfb\u53d6",(0,n.kt)("em",{parentName:"p"},"mysqld\u3001server")," \u9009\u9879\u7ec4\u7684\u914d\u7f6e\u6570\u636e\uff0c\u90a3\u4e48\u4ee5\u54ea\u4e00\u4e2a\u4e3a\u51c6?\u6216\u8005\u8bf4\u54ea\u4e00\u4e2a\u4f18\u5148\u7ea7\u66f4\u9ad8?"),(0,n.kt)("pre",{parentName:"blockquote"},(0,n.kt)("code",{parentName:"pre",className:"language-ini"},"[server]\ndefault-storage-engine = InnoDB\n\n[mysqld]\ndefault-storage-engine = MyISAM\n"))),(0,n.kt)("p",null,"\u5982\u679c\u5728\u540c\u4e00\u4e2a\u914d\u7f6e\u6587\u4ef6\u4e2d\u51fa\u73b0\u4e86\u76f8\u540c\u7684\u7684\u914d\u7f6e\u9879(",(0,n.kt)("font",{color:"red"},"\u524d\u63d0\u662f\u6267\u884c\u7684\u547d\u4ee4\u540c\u65f6\u83b7\u53d6\u4e24\u4e2a\u914d\u7f6e\u9879"),")\u7684\u8bdd,",(0,n.kt)("inlineCode",{parentName:"p"},"\u90a3\u4e48\u4ee5\u51fa\u73b0\u5728\u6700\u540e\u4e00\u4e2a\u9009\u9879\u7ec4\u4e2d\u7684\u914d\u7f6e\u9879\u4e3a\u51c6\uff01\uff01")),(0,n.kt)("h3",{id:"\u547d\u4ee4\u884c\u4e0e\u914d\u7f6e\u6587\u4ef6\u533a\u522b"},"\u547d\u4ee4\u884c\u4e0e\u914d\u7f6e\u6587\u4ef6\u533a\u522b"),(0,n.kt)("blockquote",null,(0,n.kt)("p",{parentName:"blockquote"},"\u547d\u4ee4\u884c\u4e2d\u7684\u7edd\u5927\u90e8\u5206\u53ef\u9009\u9879\u90fd\u53ef\u4ee5\u653e\u5728\u914d\u7f6e\u6587\u4ef6\u4e2d\uff0c\u4f46\u662f\u6709\u4e9b\u9009\u9879\u662f\u4e3a\u547d\u4ee4\u884c\u5355\u72ec\u8bbe\u8ba1\u7684,\u6bd4\u5982\u8bf4: ",(0,n.kt)("em",{parentName:"p"},"`",(0,n.kt)("inlineCode",{parentName:"em"},"default-extra-file\u3001default-file"))," \u672c\u8eab\u5c31\u662f\u6267\u884c\u914d\u7f6e\u6587\u4ef6\u8def\u5f84,\u518d\u653e\u5728\u914d\u7f6e\u6587\u4ef6\u4e2d\u5c31\u6ca1\u6709\u4efb\u4f55\u610f\u4e49\uff01")),(0,n.kt)("p",null,"\u5982\u679c\u540c\u4e00\u4e2a\u542f\u52a8\u9009\u9879\u65e2\u5728\u914d\u7f6e\u6587\u4ef6\u4e2d\u914d\u7f6e\u4e86\uff0c\u4e5f\u5728\u547d\u4ee4\u884c\u4e2d\u6307\u5b9a\u4e86,\u90a3\u4e48",(0,n.kt)("inlineCode",{parentName:"p"},"\u4ee5\u547d\u4ee4\u884c\u4e2d\u7684\u542f\u52a8\u9009\u9879\u4e3a\u51c6\uff01")))}u.isMDXComponent=!0},58598:(e,t,a)=>{a.d(t,{Z:()=>l});const l=a.p+"assets/images/image-20220503103138670-90e2c7f42d9bfd9e7ecd1e78644b6a90.png"},71520:(e,t,a)=>{a.d(t,{Z:()=>l});const l=a.p+"assets/images/image-20220503125207478-748b64bf7726ff0add59e0f6fc67012e.png"},88018:(e,t,a)=>{a.d(t,{Z:()=>l});const l=a.p+"assets/images/image-20220503142219989-309e4f9282befc4d9c5307edf0b60bb1.png"},53181:(e,t,a)=>{a.d(t,{Z:()=>l});const l=a.p+"assets/images/image-20220503142417988-a7afea3a69aeb7e434dd29bcd981506b.png"},9382:(e,t,a)=>{a.d(t,{Z:()=>l});const l=a.p+"assets/images/image-20220503143459423-f7a660b39c736dd401ef4b5b8e462345.png"},76910:(e,t,a)=>{a.d(t,{Z:()=>l});const l=a.p+"assets/images/image-20220503143528953-aa4f1901da6fcdfd73912db49195f88b.png"},61573:(e,t,a)=>{a.d(t,{Z:()=>l});const l=a.p+"assets/images/image-20220503143837936-c0019d620f35ac2442387ed0e65ff1b0.png"},7080:(e,t,a)=>{a.d(t,{Z:()=>l});const l=a.p+"assets/images/image-20220508142326805-ff61a267b1ab64397b04e9d0afdc22c6.png"},66753:(e,t,a)=>{a.d(t,{Z:()=>l});const l=a.p+"assets/images/image-20220529125053241-3aaafcb61bf048475e0faae35bf7012b.png"}}]);